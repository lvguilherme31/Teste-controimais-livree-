var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,n)=>{let r={};for(var i in e)t(r,i,{get:e[i],enumerable:!0});return n&&t(r,Symbol.toStringTag,{value:`Module`}),r},c=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},l=(n,r,a)=>(a=n==null?{}:e(i(n)),c(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var u=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&ee(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&ee(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function ee(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,ee(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),d=o(((e,t)=>{t.exports=u()})),f=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function ee(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function te(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ne(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ne(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+ee(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),ne(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+ee(a,u),c+=ne(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+ee(a,u++),c+=ne(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ne(te(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function re(e,t,n){if(e==null)return e;var r=[],i=0;return ne(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var j=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},M={map:re,forEach:function(e,t,n){re(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return re(e,function(){t++}),t},toArray:function(e){return re(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=M,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ie}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,j)}catch(e){j(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),p=o(((e,t)=>{t.exports=f()})),m=o((e=>{var t=p();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),h=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=m()})),g=o((e=>{var t=d(),n=p(),r=h();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function u(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function f(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=f(e),t!==null)return t;e=e.sibling}return null}var m=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),ee=Symbol.iterator;function te(e){return typeof e!=`object`||!e?null:(e=ee&&e[ee]||e[`@@iterator`],typeof e==`function`?e:null)}var ne=Symbol.for(`react.client.reference`);function re(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?re(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var ie=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},oe=[],se=-1;function ce(e){return{current:e}}function le(e){0>se||(e.current=oe[se],oe[se]=null,se--)}function ue(e,t){se++,oe[se]=e.current,e.current=t}var de=ce(null),fe=ce(null),pe=ce(null),me=ce(null);function he(e,t){switch(ue(pe,t),ue(fe,e),ue(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tf(t),e=nf(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}le(de),ue(de,e)}function ge(){le(de),le(fe),le(pe)}function _e(e){e.memoizedState!==null&&ue(me,e);var t=de.current,n=nf(t,e.type);t!==n&&(ue(fe,e),ue(de,n))}function ve(e){fe.current===e&&(le(de),le(fe)),me.current===e&&(le(me),fp._currentValue=ae)}var ye,be;function xe(e){if(ye===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ye=t&&t[1]||``,be=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ye+e+be}var Se=!1;function Ce(e,t){if(!e||Se)return``;Se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{Se=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?xe(n):``}function we(e,t){switch(e.tag){case 26:case 27:case 5:return xe(e.type);case 16:return xe(`Lazy`);case 13:return e.child!==t&&t!==null?xe(`Suspense Fallback`):xe(`Suspense`);case 19:return xe(`SuspenseList`);case 0:case 15:return Ce(e.type,!1);case 11:return Ce(e.type.render,!1);case 1:return Ce(e.type,!0);case 31:return xe(`Activity`);default:return``}}function Te(e){try{var t=``,n=null;do t+=we(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var Ee=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Oe=t.unstable_cancelCallback,ke=t.unstable_shouldYield,Ae=t.unstable_requestPaint,je=t.unstable_now,Me=t.unstable_getCurrentPriorityLevel,Ne=t.unstable_ImmediatePriority,Pe=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Ie=t.unstable_LowPriority,Le=t.unstable_IdlePriority,Re=t.log,ze=t.unstable_setDisableYieldValue,Be=null,Ve=null;function He(e){if(typeof Re==`function`&&ze(e),Ve&&typeof Ve.setStrictMode==`function`)try{Ve.setStrictMode(Be,e)}catch{}}var Ue=Math.clz32?Math.clz32:Ke,We=Math.log,Ge=Math.LN2;function Ke(e){return e>>>=0,e===0?32:31-(We(e)/Ge|0)|0}var qe=256,Je=262144,Ye=4194304;function Xe(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ze(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Xe(n))):i=Xe(o):i=Xe(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Xe(n))):i=Xe(o)):i=Xe(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Qe(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $e(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function et(){var e=Ye;return Ye<<=1,!(Ye&62914560)&&(Ye=4194304),e}function tt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rt(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ue(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&it(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function it(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ue(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function at(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ue(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function ot(e,t){var n=t&-t;return n=n&42?1:st(n),(n&(e.suspendedLanes|t))===0?n:0}function st(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ct(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lt(){var e=M.p;return e===0?(e=window.event,e===void 0?32:Op(e.type)):e}function ut(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var dt=Math.random().toString(36).slice(2),ft=`__reactFiber$`+dt,pt=`__reactProps$`+dt,mt=`__reactContainer$`+dt,ht=`__reactEvents$`+dt,gt=`__reactListeners$`+dt,_t=`__reactHandles$`+dt,vt=`__reactResources$`+dt,yt=`__reactMarker$`+dt;function bt(e){delete e[ft],delete e[pt],delete e[ht],delete e[gt],delete e[_t]}function xt(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mt]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tf(e);e!==null;){if(n=e[ft])return n;e=Tf(e)}return t}e=n,n=e.parentNode}return null}function St(e){if(e=e[ft]||e[mt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ct(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function wt(e){var t=e[vt];return t||=e[vt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function Tt(e){e[yt]=!0}var Et=new Set,Dt={};function Ot(e,t){kt(e,t),kt(e+`Capture`,t)}function kt(e,t){for(Dt[e]=t,e=0;e<t.length;e++)Et.add(t[e])}var At=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),jt={},Mt={};function Nt(e){return Ee.call(Mt,e)?!0:Ee.call(jt,e)?!1:At.test(e)?Mt[e]=!0:(jt[e]=!0,!1)}function Pt(e,t,n){if(Nt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ft(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function It(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function Lt(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function Rt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function zt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bt(e){if(!e._valueTracker){var t=Rt(e)?`checked`:`value`;e._valueTracker=zt(e,t,``+e[t])}}function Vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=Rt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function Ht(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ut=/[\n"\\]/g;function Wt(e){return e.replace(Ut,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Gt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+Lt(t)):e.value!==``+Lt(t)&&(e.value=``+Lt(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):qt(e,o,Lt(n)):qt(e,o,Lt(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+Lt(s):e.removeAttribute(`name`)}function Kt(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){Bt(e);return}n=n==null?``:``+Lt(n),t=t==null?n:``+Lt(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),Bt(e)}function qt(e,t,n){t===`number`&&Ht(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Jt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+Lt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yt(e,t,n){if(t!=null&&(t=``+Lt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+Lt(n)}function Xt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ie(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=Lt(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),Bt(e)}function Zt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Qt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function $t(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Qt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function en(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&$t(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&$t(e,o,t[o])}function tn(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var nn=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),rn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(e){return rn.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function on(){}var sn=null;function cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,un=null;function dn(e){var t=St(e);if(t&&(e=t.stateNode)){var n=e[pt]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Wt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[pt]||null;if(!a)throw Error(i(90));Gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Vt(r)}break a;case`textarea`:Yt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Jt(e,!!n.multiple,t,!1)}}}var fn=!1;function pn(e,t,n){if(fn)return e(t,n);fn=!0;try{return e(t)}finally{if(fn=!1,(ln!==null||un!==null)&&(ju(),ln&&(t=ln,e=un,un=ln=null,dn(t),e)))for(t=0;t<e.length;t++)dn(e[t])}}function mn(e,t){var n=e.stateNode;if(n===null)return null;var r=n[pt]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var hn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),gn=!1;if(hn)try{var _n={};Object.defineProperty(_n,`passive`,{get:function(){gn=!0}}),window.addEventListener(`test`,_n,_n),window.removeEventListener(`test`,_n,_n)}catch{gn=!1}var vn=null,yn=null,bn=null;function xn(){if(bn)return bn;var e,t=yn,n=t.length,r,i=`value`in vn?vn.value:vn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return bn=i.slice(e,1<r?1-r:void 0)}function Sn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function wn(){return!1}function Tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?Cn:wn,this.isPropagationStopped=wn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=Tn(En),On=m({},En,{view:0,detail:0}),kn=Tn(On),An,jn,Mn,Nn=m({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==Mn&&(Mn&&e.type===`mousemove`?(An=e.screenX-Mn.screenX,jn=e.screenY-Mn.screenY):jn=An=0,Mn=e),An)},movementY:function(e){return`movementY`in e?e.movementY:jn}}),Pn=Tn(Nn),Fn=Tn(m({},Nn,{dataTransfer:0})),In=Tn(m({},On,{relatedTarget:0})),Ln=Tn(m({},En,{animationName:0,elapsedTime:0,pseudoElement:0})),Rn=Tn(m({},En,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),zn=Tn(m({},En,{data:0})),Bn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},Vn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Hn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Un(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Hn[e])?!!t[e]:!1}function Wn(){return Un}var Gn=Tn(m({},On,{key:function(e){if(e.key){var t=Bn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=Sn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?Vn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wn,charCode:function(e){return e.type===`keypress`?Sn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?Sn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),Kn=Tn(m({},Nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),qn=Tn(m({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wn})),Jn=Tn(m({},En,{propertyName:0,elapsedTime:0,pseudoElement:0})),Yn=Tn(m({},Nn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Xn=Tn(m({},En,{newState:0,oldState:0})),Zn=[9,13,27,32],Qn=hn&&`CompositionEvent`in window,$n=null;hn&&`documentMode`in document&&($n=document.documentMode);var er=hn&&`TextEvent`in window&&!$n,N=hn&&(!Qn||$n&&8<$n&&11>=$n),tr=` `,nr=!1;function rr(e,t){switch(e){case`keyup`:return Zn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function ir(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var P=!1;function ar(e,t){switch(e){case`compositionend`:return ir(t);case`keypress`:return t.which===32?(nr=!0,tr):null;case`textInput`:return e=t.data,e===tr&&nr?null:e;default:return null}}function or(e,t){if(P)return e===`compositionend`||!Qn&&rr(e,t)?(e=xn(),bn=yn=vn=null,P=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return N&&t.locale!==`ko`?null:t.data;default:return null}}var sr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!sr[e.type]:t===`textarea`}function lr(e,t,n,r){ln?un?un.push(r):un=[r]:ln=r,t=zd(t,`onChange`),0<t.length&&(n=new Dn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var ur=null,dr=null;function fr(e){jd(e,0)}function pr(e){if(Vt(Ct(e)))return e}function mr(e,t){if(e===`change`)return t}var hr=!1;if(hn){var F;if(hn){var gr=`oninput`in document;if(!gr){var _r=document.createElement(`div`);_r.setAttribute(`oninput`,`return;`),gr=typeof _r.oninput==`function`}F=gr}else F=!1;hr=F&&(!document.documentMode||9<document.documentMode)}function vr(){ur&&(ur.detachEvent(`onpropertychange`,yr),dr=ur=null)}function yr(e){if(e.propertyName===`value`&&pr(dr)){var t=[];lr(t,dr,e,cn(e)),pn(fr,t)}}function br(e,t,n){e===`focusin`?(vr(),ur=t,dr=n,ur.attachEvent(`onpropertychange`,yr)):e===`focusout`&&vr()}function xr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return pr(dr)}function Sr(e,t){if(e===`click`)return pr(t)}function Cr(e,t){if(e===`input`||e===`change`)return pr(t)}function wr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var Tr=typeof Object.is==`function`?Object.is:wr;function Er(e,t){if(Tr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ee.call(t,i)||!Tr(e[i],t[i]))return!1}return!0}function Dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Or(e,t){var n=Dr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=Dr(n)}}function kr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ar(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ht(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ht(e.document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var Mr=hn&&`documentMode`in document&&11>=document.documentMode,Nr=null,Pr=null,Fr=null,Ir=!1;function Lr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ir||Nr==null||Nr!==Ht(r)||(r=Nr,`selectionStart`in r&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fr&&Er(Fr,r)||(Fr=r,r=zd(Pr,`onSelect`),0<r.length&&(t=new Dn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=Nr)))}function Rr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var zr={animationend:Rr(`Animation`,`AnimationEnd`),animationiteration:Rr(`Animation`,`AnimationIteration`),animationstart:Rr(`Animation`,`AnimationStart`),transitionrun:Rr(`Transition`,`TransitionRun`),transitionstart:Rr(`Transition`,`TransitionStart`),transitioncancel:Rr(`Transition`,`TransitionCancel`),transitionend:Rr(`Transition`,`TransitionEnd`)},Br={},Vr={};hn&&(Vr=document.createElement(`div`).style,`AnimationEvent`in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),`TransitionEvent`in window||delete zr.transitionend.transition);function Hr(e){if(Br[e])return Br[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vr)return Br[e]=t[n];return e}var Ur=Hr(`animationend`),Wr=Hr(`animationiteration`),Gr=Hr(`animationstart`),Kr=Hr(`transitionrun`),qr=Hr(`transitionstart`),Jr=Hr(`transitioncancel`),Yr=Hr(`transitionend`),Xr=new Map,Zr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Zr.push(`scrollEnd`);function Qr(e,t){Xr.set(e,t),Ot(t,[e])}var $r=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},ei=[],ti=0,ni=0;function ri(){for(var e=ti,t=ni=ti=0;t<e;){var n=ei[t];ei[t++]=null;var r=ei[t];ei[t++]=null;var i=ei[t];ei[t++]=null;var a=ei[t];if(ei[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&si(n,i,a)}}function ii(e,t,n,r){ei[ti++]=e,ei[ti++]=t,ei[ti++]=n,ei[ti++]=r,ni|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function ai(e,t,n,r){return ii(e,t,n,r),ci(e)}function oi(e,t){return ii(e,null,null,t),ci(e)}function si(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ue(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function ci(e){if(50<Su)throw Su=0,Cu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var li={};function ui(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(e,t,n,r){return new ui(e,t,n,r)}function fi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,t){var n=e.alternate;return n===null?(n=di(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function mi(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hi(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)fi(e)&&(s=1);else if(typeof e==`string`)s=rp(e,n,de.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=di(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return gi(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=di(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=di(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=di(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=di(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function gi(e,t,n,r){return e=di(7,e,r,t),e.lanes=n,e}function _i(e,t,n){return e=di(6,e,null,t),e.lanes=n,e}function vi(e){var t=di(18,null,null,0);return t.stateNode=e,t}function yi(e,t,n){return t=di(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bi=new WeakMap;function xi(e,t){if(typeof e==`object`&&e){var n=bi.get(e);return n===void 0?(t={value:e,source:t,stack:Te(t)},bi.set(e,t),t):n}return{value:e,source:t,stack:Te(t)}}var Si=[],Ci=0,wi=null,Ti=0,Ei=[],Di=0,Oi=null,ki=1,Ai=``;function ji(e,t){Si[Ci++]=Ti,Si[Ci++]=wi,wi=e,Ti=t}function Mi(e,t,n){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,Oi=e;var r=ki;e=Ai;var i=32-Ue(r)-1;r&=~(1<<i),n+=1;var a=32-Ue(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ki=1<<32-Ue(t)+i|n<<i|r,Ai=a+e}else ki=1<<a|n<<i|r,Ai=e}function Ni(e){e.return!==null&&(ji(e,1),Mi(e,1,0))}function Pi(e){for(;e===wi;)wi=Si[--Ci],Si[Ci]=null,Ti=Si[--Ci],Si[Ci]=null;for(;e===Oi;)Oi=Ei[--Di],Ei[Di]=null,Ai=Ei[--Di],Ei[Di]=null,ki=Ei[--Di],Ei[Di]=null}function Fi(e,t){Ei[Di++]=ki,Ei[Di++]=Ai,Ei[Di++]=Oi,ki=t.id,Ai=t.overflow,Oi=e}var Ii=null,Li=null,Ri=!1,zi=null,Bi=!1,Vi=Error(i(519));function Hi(e){throw Ji(xi(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Vi}function Ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ft]=e,t[pt]=r,n){case`dialog`:Md(`cancel`,t),Md(`close`,t);break;case`iframe`:case`object`:case`embed`:Md(`load`,t);break;case`video`:case`audio`:for(n=0;n<kd.length;n++)Md(kd[n],t);break;case`source`:Md(`error`,t);break;case`img`:case`image`:case`link`:Md(`error`,t),Md(`load`,t);break;case`details`:Md(`toggle`,t);break;case`input`:Md(`invalid`,t),Kt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:Md(`invalid`,t);break;case`textarea`:Md(`invalid`,t),Xt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Gd(t.textContent,n)?(r.popover!=null&&(Md(`beforetoggle`,t),Md(`toggle`,t)),r.onScroll!=null&&Md(`scroll`,t),r.onScrollEnd!=null&&Md(`scrollend`,t),r.onClick!=null&&(t.onclick=on),t=!0):t=!1,t||Hi(e,!0)}function Wi(e){for(Ii=e.return;Ii;)switch(Ii.tag){case 5:case 31:case 13:Bi=!1;return;case 27:case 3:Bi=!0;return;default:Ii=Ii.return}}function Gi(e){if(e!==Ii)return!1;if(!Ri)return Wi(e),Ri=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||rf(e.type,e.memoizedProps)),n=!n),n&&Li&&Hi(e),Wi(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=wf(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));Li=wf(e)}else t===27?(t=Li,ff(e.type)?(e=Cf,Cf=null,Li=e):Li=t):Li=Ii?Sf(e.stateNode.nextSibling):null;return!0}function Ki(){Li=Ii=null,Ri=!1}function qi(){var e=zi;return e!==null&&(cu===null?cu=e:cu.push.apply(cu,e),zi=null),e}function Ji(e){zi===null?zi=[e]:zi.push(e)}var Yi=ce(null),Xi=null,Zi=null;function Qi(e,t,n){ue(Yi,t._currentValue),t._currentValue=n}function $i(e){e._currentValue=Yi.current,le(Yi)}function ea(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function ta(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),ea(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),ea(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function na(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;Tr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===me.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[fp]:e.push(fp))}a=a.return}e!==null&&ta(t,e,n,r),t.flags|=262144}function ra(e){for(e=e.firstContext;e!==null;){if(!Tr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){Xi=e,Zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function I(e){return oa(Xi,e)}function aa(e,t){return Xi===null&&ia(e),oa(e,t)}function oa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Zi===null){if(e===null)throw Error(i(308));Zi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zi=Zi.next=t;return n}var sa=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ca=t.unstable_scheduleCallback,la=t.unstable_NormalPriority,ua={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function da(){return{controller:new sa,data:new Map,refCount:0}}function fa(e){e.refCount--,e.refCount===0&&ca(la,function(){e.controller.abort()})}var pa=null,ma=0,ha=0,ga=null;function _a(e,t){if(pa===null){var n=pa=[];ma=0,ha=Cd(),ga={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return ma++,t.then(va,va),t}function va(){if(--ma===0&&pa!==null){ga!==null&&(ga.status=`fulfilled`);var e=pa;pa=null,ha=0,ga=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ya(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ba=j.S;j.S=function(e,t){du=je(),typeof t==`object`&&t&&typeof t.then==`function`&&_a(e,t),ba!==null&&ba(e,t)};var xa=ce(null);function Sa(){var e=xa.current;return e===null?ql.pooledCache:e}function Ca(e,t){t===null?ue(xa,xa.current):ue(xa,t.pool)}function wa(){var e=Sa();return e===null?null:{parent:ua._currentValue,pool:e}}var Ta=Error(i(460)),Ea=Error(i(474)),Da=Error(i(542)),Oa={then:function(){}};function ka(e){return e=e.status,e===`fulfilled`||e===`rejected`}function Aa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(on,on),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Pa(e),e;default:if(typeof t.status==`string`)t.then(on,on);else{if(e=ql,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Pa(e),e}throw Ma=t,Ta}}function ja(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(Ma=e,Ta):e}}var Ma=null;function Na(){if(Ma===null)throw Error(i(459));var e=Ma;return Ma=null,e}function Pa(e){if(e===Ta||e===Da)throw Error(i(483))}var Fa=null,Ia=0;function La(e){var t=Ia;return Ia+=1,Fa===null&&(Fa=[]),Aa(Fa,e,t)}function Ra(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function za(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ba(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=pi(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=_i(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&ja(i)===t.type)?(t=a(t,n.props),Ra(t,n),t.return=e,t):(t=hi(n.type,n.key,n.props,null,e.mode,r),Ra(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=yi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=gi(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=_i(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=hi(t.type,t.key,t.props,null,e.mode,n),Ra(n,t),n.return=e,n;case v:return t=yi(t,e.mode,n),t.return=e,t;case O:return t=ja(t),f(e,t,n)}if(ie(t)||te(t))return t=gi(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,La(t),n);if(t.$$typeof===C)return f(e,aa(e,t),n);za(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=ja(n),p(e,t,n,r)}if(ie(n)||te(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,La(n),r);if(n.$$typeof===C)return p(e,t,aa(e,n),r);za(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=ja(r),m(e,t,n,r,i)}if(ie(r)||te(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,La(r),i);if(r.$$typeof===C)return m(e,t,n,aa(t,r),i);za(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Ri&&ji(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Ri&&ji(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Ri&&ji(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Ri&&ji(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Ri&&ji(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Ri&&ji(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&ja(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ra(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=gi(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=hi(o.type,o.key,o.props,null,e.mode,c),Ra(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=yi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=ja(o),b(e,r,o,c)}if(ie(o))return h(e,r,o,c);if(te(o)){if(l=te(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,La(o),c);if(o.$$typeof===C)return b(e,r,aa(e,o),c);za(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=_i(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{Ia=0;var i=b(e,t,n,r);return Fa=null,i}catch(t){if(t===Ta||t===Da)throw t;var a=di(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var Va=Ba(!0),Ha=Ba(!1),Ua=!1;function Wa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ga(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Kl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=ci(e),si(e,null,n),t}return ii(e,r,t,n),ci(e)}function Ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}function Ya(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Xa=!1;function Za(){if(Xa){var e=ga;if(e!==null)throw e}}function Qa(e,t,n,r){Xa=!1;var i=e.updateQueue;Ua=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(z&f)===f:(r&f)===f){f!==0&&f===ha&&(Xa=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var h=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(h=g.payload,typeof h==`function`){d=h.call(_,d,f);break a}d=h;break a;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h==`function`?h.call(_,d,f):h,f==null)break a;d=m({},d,f);break a;case 2:Ua=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),nu|=o,e.lanes=o,e.memoizedState=d}}function $a(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function eo(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$a(n[e],t)}var to=ce(null),no=ce(0);function ro(e,t){e=eu,ue(no,e),ue(to,t),eu=e|t.baseLanes}function io(){ue(no,eu),ue(to,to.current)}function ao(){eu=no.current,le(to),le(no)}var oo=ce(null),so=null;function co(e){var t=e.alternate;ue(mo,mo.current&1),ue(oo,e),so===null&&(t===null||to.current!==null||t.memoizedState!==null)&&(so=e)}function lo(e){ue(mo,mo.current),ue(oo,e),so===null&&(so=e)}function uo(e){e.tag===22?(ue(mo,mo.current),ue(oo,e),so===null&&(so=e)):fo(e)}function fo(){ue(mo,mo.current),ue(oo,oo.current)}function po(e){le(oo),so===e&&(so=null),le(mo)}var mo=ce(0);function ho(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||yf(n)||bf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var go=0,L=null,_o=null,vo=null,yo=!1,bo=!1,xo=!1,So=0,Co=0,wo=null,To=0;function Eo(){throw Error(i(321))}function Do(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tr(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,a){return go=a,L=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Gs:Ks,xo=!1,a=n(r,i),xo=!1,bo&&(a=Ao(t,n,r,i)),ko(e),a}function ko(e){j.H=Ws;var t=_o!==null&&_o.next!==null;if(go=0,vo=_o=L=null,yo=!1,Co=0,wo=null,t)throw Error(i(300));e===null||lc||(e=e.dependencies,e!==null&&ra(e)&&(lc=!0))}function Ao(e,t,n,r){L=e;var a=0;do{if(bo&&(wo=null),Co=0,bo=!1,25<=a)throw Error(i(301));if(a+=1,vo=_o=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=qs,o=t(n,r)}while(bo);return o}function jo(){var e=j.H,t=e.useState()[0];return t=typeof t.then==`function`?Ro(t):t,e=e.useState()[0],(_o===null?null:_o.memoizedState)!==e&&(L.flags|=1024),t}function Mo(){var e=So!==0;return So=0,e}function No(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Po(e){if(yo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yo=!1}go=0,vo=_o=L=null,bo=!1,Co=So=0,wo=null}function Fo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vo===null?L.memoizedState=vo=e:vo=vo.next=e,vo}function Io(){if(_o===null){var e=L.alternate;e=e===null?null:e.memoizedState}else e=_o.next;var t=vo===null?L.memoizedState:vo.next;if(t!==null)vo=t,_o=e;else{if(e===null)throw L.alternate===null?Error(i(467)):Error(i(310));_o=e,e={memoizedState:_o.memoizedState,baseState:_o.baseState,baseQueue:_o.baseQueue,queue:_o.queue,next:null},vo===null?L.memoizedState=vo=e:vo=vo.next=e}return vo}function Lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ro(e){var t=Co;return Co+=1,wo===null&&(wo=[]),e=Aa(wo,e,t),t=L,(vo===null?t.memoizedState:vo.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Gs:Ks),e}function zo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return Ro(e);if(e.$$typeof===C)return I(e)}throw Error(i(438,String(e)))}function Bo(e){var t=null,n=L.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=L.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=Lo(),L.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Vo(e,t){return typeof t==`function`?t(e):t}function Ho(e){return Uo(Io(),_o,e)}function Uo(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(go&f)===f:(z&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ha&&(d=!0);else if((go&p)===p){u=u.next,p===ha&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,L.lanes|=p,nu|=p;f=u.action,xo&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,L.lanes|=f,nu|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!Tr(o,e.memoizedState)&&(lc=!0,d&&(n=ga,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wo(e){var t=Io(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);Tr(o,t.memoizedState)||(lc=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Go(e,t,n){var r=L,a=Io(),o=Ri;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!Tr((_o||a).memoizedState,n);if(s&&(a.memoizedState=n,lc=!0),a=a.queue,gs(Jo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||vo!==null&&vo.memoizedState.tag&1){if(r.flags|=2048,ds(9,{destroy:void 0},qo.bind(null,r,a,n,t),null),ql===null)throw Error(i(349));o||go&127||Ko(r,t,n)}return n}function Ko(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=L.updateQueue,t===null?(t=Lo(),L.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qo(e,t,n,r){t.value=n,t.getSnapshot=r,Yo(t)&&Xo(e)}function Jo(e,t,n){return n(function(){Yo(t)&&Xo(e)})}function Yo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tr(e,n)}catch{return!0}}function Xo(e){var t=oi(e,2);t!==null&&Eu(t,e,2)}function Zo(e){var t=Fo();if(typeof e==`function`){var n=e;if(e=n(),xo){He(!0);try{n()}finally{He(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:e},t}function Qo(e,t,n,r){return e.baseState=n,Uo(e,_o,typeof r==`function`?r:Vo)}function $o(e,t,n,r,a){if(Vs(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};j.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,es(t,o)):(o.next=n.next,t.pending=n.next=o)}}function es(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=j.T,o={};j.T=o;try{var s=n(i,r),c=j.S;c!==null&&c(o,s),ts(e,t,s)}catch(n){rs(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),j.T=a}}else try{a=n(i,r),ts(e,t,a)}catch(n){rs(e,t,n)}}function ts(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){ns(e,t,n)},function(n){return rs(e,t,n)}):ns(e,t,n)}function ns(e,t,n){t.status=`fulfilled`,t.value=n,is(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,es(e,n)))}function rs(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,is(t),t=t.next;while(t!==r)}e.action=null}function is(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function as(e,t){return t}function os(e,t){if(Ri){var n=ql.formState;if(n!==null){a:{var r=L;if(Ri){if(Li){b:{for(var i=Li,a=Bi;i.nodeType!==8;){if(!a){i=null;break b}if(i=Sf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){Li=Sf(i.nextSibling),r=i.data===`F!`;break a}}Hi(r)}r=!1}r&&(t=n[0])}}return n=Fo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n.queue=r,n=Rs.bind(null,L,r),r.dispatch=n,r=Zo(!1),a=Bs.bind(null,L,!1,r.queue),r=Fo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=$o.bind(null,L,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ss(e){return cs(Io(),_o,e)}function cs(e,t,n){if(t=Uo(e,t,as)[0],e=Ho(Vo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=Ro(t)}catch(e){throw e===Ta?Da:e}else r=t;t=Io();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(L.flags|=2048,ds(9,{destroy:void 0},ls.bind(null,i,n),null)),[r,a,e]}function ls(e,t){e.action=t}function us(e){var t=Io(),n=_o;if(n!==null)return cs(t,n,e);Io(),t=t.memoizedState,n=Io();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function ds(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=L.updateQueue,t===null&&(t=Lo(),L.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function fs(){return Io().memoizedState}function ps(e,t,n,r){var i=Fo();L.flags|=e,i.memoizedState=ds(1|t,{destroy:void 0},n,r===void 0?null:r)}function ms(e,t,n,r){var i=Io();r=r===void 0?null:r;var a=i.memoizedState.inst;_o!==null&&r!==null&&Do(r,_o.memoizedState.deps)?i.memoizedState=ds(t,a,n,r):(L.flags|=e,i.memoizedState=ds(1|t,a,n,r))}function hs(e,t){ps(8390656,8,e,t)}function gs(e,t){ms(2048,8,e,t)}function _s(e){L.flags|=4;var t=L.updateQueue;if(t===null)t=Lo(),L.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function vs(e){var t=Io().memoizedState;return _s({ref:t,nextImpl:e}),function(){if(Kl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function ys(e,t){return ms(4,2,e,t)}function bs(e,t){return ms(4,4,e,t)}function xs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=n==null?null:n.concat([e]),ms(4,4,xs.bind(null,t,e),n)}function Cs(){}function ws(e,t){var n=Io();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Do(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ts(e,t){var n=Io();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Do(t,r[1]))return r[0];if(r=e(),xo){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[r,t],r}function Es(e,t,n){return n===void 0||go&1073741824&&!(z&261930)?e.memoizedState=t:(e.memoizedState=n,e=Tu(),L.lanes|=e,nu|=e,n)}function Ds(e,t,n,r){return Tr(n,t)?n:to.current===null?!(go&42)||go&1073741824&&!(z&261930)?(lc=!0,e.memoizedState=n):(e=Tu(),L.lanes|=e,nu|=e,t):(e=Es(e,n,r),Tr(e,t)||(lc=!0),e)}function Os(e,t,n,r,i){var a=M.p;M.p=a!==0&&8>a?a:8;var o=j.T,s={};j.T=s,Bs(e,!1,t,n);try{var c=i(),l=j.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?zs(e,t,ya(c,r),wu(e)):zs(e,t,r,wu(e))}catch(n){zs(e,t,{then:function(){},status:`rejected`,reason:n},wu())}finally{M.p=a,o!==null&&s.types!==null&&(o.types=s.types),j.T=o}}function ks(){}function As(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=js(e).queue;Os(e,a,t,ae,n===null?ks:function(){return Ms(e),n(r)})}function js(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ms(e){var t=js(e);t.next===null&&(t=e.alternate.memoizedState),zs(e,t.next.queue,{},wu())}function Ns(){return I(fp)}function Ps(){return Io().memoizedState}function Fs(){return Io().memoizedState}function Is(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wu();e=Ka(n);var r=qa(t,e,n);r!==null&&(Eu(r,t,n),Ja(r,t,n)),t={cache:da()},e.payload=t;return}t=t.return}}function Ls(e,t,n){var r=wu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Vs(e)?Hs(t,n):(n=ai(e,t,n,r),n!==null&&(Eu(n,e,r),Us(n,t,r)))}function Rs(e,t,n){zs(e,t,n,wu())}function zs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vs(e))Hs(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Tr(s,o))return ii(e,t,i,0),ql===null&&ri(),!1}catch{}if(n=ai(e,t,i,r),n!==null)return Eu(n,e,r),Us(n,t,r),!0}return!1}function Bs(e,t,n,r){if(r={lane:2,revertLane:Cd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vs(e)){if(t)throw Error(i(479))}else t=ai(e,n,r,2),t!==null&&Eu(t,e,2)}function Vs(e){var t=e.alternate;return e===L||t!==null&&t===L}function Hs(e,t){bo=yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Us(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,at(e,n)}}var Ws={readContext:I,use:zo,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useLayoutEffect:Eo,useInsertionEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useSyncExternalStore:Eo,useId:Eo,useHostTransitionStatus:Eo,useFormState:Eo,useActionState:Eo,useOptimistic:Eo,useMemoCache:Eo,useCacheRefresh:Eo};Ws.useEffectEvent=Eo;var Gs={readContext:I,use:zo,useCallback:function(e,t){return Fo().memoizedState=[e,t===void 0?null:t],e},useContext:I,useEffect:hs,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),ps(4194308,4,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ps(4194308,4,e,t)},useInsertionEffect:function(e,t){ps(4,2,e,t)},useMemo:function(e,t){var n=Fo();t=t===void 0?null:t;var r=e();if(xo){He(!0);try{e()}finally{He(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fo();if(n!==void 0){var i=n(t);if(xo){He(!0);try{n(t)}finally{He(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Ls.bind(null,L,e),[r.memoizedState,e]},useRef:function(e){var t=Fo();return e={current:e},t.memoizedState=e},useState:function(e){e=Zo(e);var t=e.queue,n=Rs.bind(null,L,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Cs,useDeferredValue:function(e,t){return Es(Fo(),e,t)},useTransition:function(){var e=Zo(!1);return e=Os.bind(null,L,e.queue,!0,!1),Fo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=L,a=Fo();if(Ri){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),ql===null)throw Error(i(349));z&127||Ko(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,hs(Jo.bind(null,r,o,e),[e]),r.flags|=2048,ds(9,{destroy:void 0},qo.bind(null,r,o,n,t),null),n},useId:function(){var e=Fo(),t=ql.identifierPrefix;if(Ri){var n=Ai,r=ki;n=(r&~(1<<32-Ue(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=So++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=To++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:Ns,useFormState:os,useActionState:os,useOptimistic:function(e){var t=Fo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bs.bind(null,L,!0,n),n.dispatch=t,[e,t]},useMemoCache:Bo,useCacheRefresh:function(){return Fo().memoizedState=Is.bind(null,L)},useEffectEvent:function(e){var t=Fo(),n={impl:e};return t.memoizedState=n,function(){if(Kl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ks={readContext:I,use:zo,useCallback:ws,useContext:I,useEffect:gs,useImperativeHandle:Ss,useInsertionEffect:ys,useLayoutEffect:bs,useMemo:Ts,useReducer:Ho,useRef:fs,useState:function(){return Ho(Vo)},useDebugValue:Cs,useDeferredValue:function(e,t){return Ds(Io(),_o.memoizedState,e,t)},useTransition:function(){var e=Ho(Vo)[0],t=Io().memoizedState;return[typeof e==`boolean`?e:Ro(e),t]},useSyncExternalStore:Go,useId:Ps,useHostTransitionStatus:Ns,useFormState:ss,useActionState:ss,useOptimistic:function(e,t){return Qo(Io(),_o,e,t)},useMemoCache:Bo,useCacheRefresh:Fs};Ks.useEffectEvent=vs;var qs={readContext:I,use:zo,useCallback:ws,useContext:I,useEffect:gs,useImperativeHandle:Ss,useInsertionEffect:ys,useLayoutEffect:bs,useMemo:Ts,useReducer:Wo,useRef:fs,useState:function(){return Wo(Vo)},useDebugValue:Cs,useDeferredValue:function(e,t){var n=Io();return _o===null?Es(n,e,t):Ds(n,_o.memoizedState,e,t)},useTransition:function(){var e=Wo(Vo)[0],t=Io().memoizedState;return[typeof e==`boolean`?e:Ro(e),t]},useSyncExternalStore:Go,useId:Ps,useHostTransitionStatus:Ns,useFormState:us,useActionState:us,useOptimistic:function(e,t){var n=Io();return _o===null?(n.baseState=e,[e,n.queue.dispatch]):Qo(n,_o,e,t)},useMemoCache:Bo,useCacheRefresh:Fs};qs.useEffectEvent=vs;function Js(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:m({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ys={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=wu(),i=Ka(r);i.payload=t,n!=null&&(i.callback=n),t=qa(e,i,r),t!==null&&(Eu(t,e,r),Ja(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=wu(),i=Ka(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=qa(e,i,r),t!==null&&(Eu(t,e,r),Ja(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wu(),r=Ka(n);r.tag=2,t!=null&&(r.callback=t),t=qa(e,r,n),t!==null&&(Eu(t,e,n),Ja(t,e,n))}};function Xs(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Er(n,r)||!Er(i,a):!0}function Zs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function Qs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=m({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function $s(e){$r(e)}function ec(e){console.error(e)}function tc(e){$r(e)}function nc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function rc(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function ic(e,t,n){return n=Ka(n),n.tag=3,n.payload={element:null},n.callback=function(){nc(e,t)},n}function ac(e){return e=Ka(e),e.tag=3,e}function oc(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){rc(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){rc(t,n,r),typeof i!=`function`&&(mu===null?mu=new Set([this]):mu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function sc(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&na(t,n,a,!0),n=oo.current,n!==null){switch(n.tag){case 31:case 13:return so===null?Ru():n.alternate===null&&tu===0&&(tu=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Oa?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),rd(e,r,a)),!1;case 22:return n.flags|=65536,r===Oa?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),rd(e,r,a)),!1}throw Error(i(435,n.tag))}return rd(e,r,a),Ru(),!1}if(Ri)return t=oo.current,t===null?(r!==Vi&&(t=Error(i(423),{cause:r}),Ji(xi(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=xi(r,n),a=ic(e.stateNode,r,a),Ya(e,a),tu!==4&&(tu=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Vi&&(e=Error(i(422),{cause:r}),Ji(xi(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=xi(o,n),su===null?su=[o]:su.push(o),tu!==4&&(tu=2),t===null)return!0;r=xi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=ic(n.stateNode,r,e),Ya(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(mu===null||!mu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=ac(a),oc(a,e,n,r),Ya(n,a),!1}n=n.return}while(n!==null);return!1}var cc=Error(i(461)),lc=!1;function uc(e,t,n,r){t.child=e===null?Ha(t,null,n,r):Va(t,e.child,n,r)}function dc(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return ia(t),r=Oo(e,t,n,o,a,i),s=Mo(),e!==null&&!lc?(No(e,t,i),Fc(e,t,i)):(Ri&&s&&Ni(t),t.flags|=1,uc(e,t,r,i),t.child)}function fc(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!fi(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,pc(e,t,a,r,i)):(e=hi(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ic(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?Er:n,n(o,r)&&e.ref===t.ref)return Fc(e,t,i)}return t.flags|=1,e=pi(a,r),e.ref=t.ref,e.return=t,t.child=e}function pc(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Er(a,r)&&e.ref===t.ref)if(lc=!1,t.pendingProps=r=a,Ic(e,i))e.flags&131072&&(lc=!0);else return t.lanes=e.lanes,Fc(e,t,i)}return xc(e,t,n,r,i)}function mc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return gc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ca(t,a===null?null:a.cachePool),a===null?io():ro(t,a),uo(t);else return r=t.lanes=536870912,gc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&Ca(t,null),io(),fo(t)):(Ca(t,a.cachePool),ro(t,a),fo(t),t.memoizedState=null);return uc(e,t,i,n),t.child}function hc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function gc(e,t,n,r,i){var a=Sa();return a=a===null?null:{parent:ua._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Ca(t,null),io(),uo(t),e!==null&&na(e,t,r,!0),t.childLanes=i,null}function _c(e,t){return t=Ac({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vc(e,t,n){return Va(t,e.child,null,n),e=_c(t,t.pendingProps),e.flags|=2,po(t),t.memoizedState=null,e}function yc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Ri){if(r.mode===`hidden`)return e=_c(t,r),t.lanes=536870912,hc(null,e);if(lo(t),(e=Li)?(e=vf(e,Bi),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Hi(t);return t.lanes=536870912,null}return _c(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(lo(t),a)if(t.flags&256)t.flags&=-257,t=vc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(lc||na(e,t,n,!1),a=(n&e.childLanes)!==0,lc||a){if(r=ql,r!==null&&(s=ot(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,oi(e,s),Eu(r,e,s),cc;Ru(),t=vc(e,t,n)}else e=o.treeContext,Li=Sf(s.nextSibling),Ii=t,Ri=!0,zi=null,Bi=!1,e!==null&&Fi(t,e),t=_c(t,r),t.flags|=4096;return t}return e=pi(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function xc(e,t,n,r,i){return ia(t),n=Oo(e,t,n,r,void 0,i),r=Mo(),e!==null&&!lc?(No(e,t,i),Fc(e,t,i)):(Ri&&r&&Ni(t),t.flags|=1,uc(e,t,n,i),t.child)}function Sc(e,t,n,r,i,a){return ia(t),t.updateQueue=null,n=Ao(t,r,n,i),ko(e),r=Mo(),e!==null&&!lc?(No(e,t,a),Fc(e,t,a)):(Ri&&r&&Ni(t),t.flags|=1,uc(e,t,n,a),t.child)}function Cc(e,t,n,r,i){if(ia(t),t.stateNode===null){var a=li,o=n.contextType;typeof o==`object`&&o&&(a=I(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ys,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Wa(t),o=n.contextType,a.context=typeof o==`object`&&o?I(o):li,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Js(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ys.enqueueReplaceState(a,a.state,null),Qa(t,r,a,i),Za(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Qs(n,s);a.props=c;var l=a.context,u=n.contextType;o=li,typeof u==`object`&&u&&(o=I(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Zs(t,a,r,o),Ua=!1;var f=t.memoizedState;a.state=f,Qa(t,r,a,i),Za(),l=t.memoizedState,s||f!==l||Ua?(typeof d==`function`&&(Js(t,n,d,r),l=t.memoizedState),(c=Ua||Xs(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ga(e,t),o=t.memoizedProps,u=Qs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=li,typeof l==`object`&&l&&(c=I(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Zs(t,a,r,c),Ua=!1,f=t.memoizedState,a.state=f,Qa(t,r,a,i),Za();var p=t.memoizedState;o!==d||f!==p||Ua||e!==null&&e.dependencies!==null&&ra(e.dependencies)?(typeof s==`function`&&(Js(t,n,s,r),p=t.memoizedState),(u=Ua||Xs(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&ra(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,bc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=Va(t,e.child,null,i),t.child=Va(t,null,n,i)):uc(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Fc(e,t,i),e}function wc(e,t,n,r){return Ki(),t.flags|=256,uc(e,t,n,r),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:wa()}}function Dc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=au),e}function Oc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(mo.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Ri){if(a?co(t):fo(t),(e=Li)?(e=vf(e,Bi),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Oi===null?null:{id:ki,overflow:Ai},retryLane:536870912,hydrationErrors:null},n=vi(e),n.return=t,t.child=n,Ii=t,Li=null)):e=null,e===null)throw Hi(t);return bf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(fo(t),a=t.mode,c=Ac({mode:`hidden`,children:c},a),r=gi(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=Ec(n),r.childLanes=Dc(e,s,n),t.memoizedState=Tc,hc(null,r)):(co(t),kc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(co(t),t.flags&=-257,t=jc(e,t,n)):t.memoizedState===null?(fo(t),c=r.fallback,a=t.mode,r=Ac({mode:`visible`,children:r.children},a),c=gi(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Va(t,e.child,null,n),r=t.child,r.memoizedState=Ec(n),r.childLanes=Dc(e,s,n),t.memoizedState=Tc,t=hc(null,r)):(fo(t),t.child=e.child,t.flags|=128,t=null);else if(co(t),bf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ji({value:r,source:null,stack:null}),t=jc(e,t,n)}else if(lc||na(e,t,n,!1),s=(n&e.childLanes)!==0,lc||s){if(s=ql,s!==null&&(r=ot(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,oi(e,r),Eu(s,e,r),cc;yf(c)||Ru(),t=jc(e,t,n)}else yf(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,Li=Sf(c.nextSibling),Ii=t,Ri=!0,zi=null,Bi=!1,e!==null&&Fi(t,e),t=kc(t,r.children),t.flags|=4096);return t}return a?(fo(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=pi(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=gi(c,a,n,null),c.flags|=2):c=pi(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,hc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=Ec(n):(a=c.cachePool,a===null?a=wa():(l=ua._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=Dc(e,s,n),t.memoizedState=Tc,hc(e.child,r)):(co(t),n=e.child,e=n.sibling,n=pi(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function kc(e,t){return t=Ac({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function Ac(e,t){return e=di(22,e,null,t),e.lanes=0,e}function jc(e,t,n){return Va(t,e.child,null,n),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),ea(e.return,t,n)}function Nc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function Pc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=mo.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,ue(mo,o),uc(e,t,r,n),r=Ri?Ti:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ho(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Nc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ho(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Nc(t,!0,n,null,a,r);break;case`together`:Nc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Fc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nu|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(na(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=pi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=pi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ic(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&ra(e))):!0}function Lc(e,t,n){switch(t.tag){case 3:he(t,t.stateNode.containerInfo),Qi(t,ua,e.memoizedState.cache),Ki();break;case 27:case 5:_e(t);break;case 4:he(t,t.stateNode.containerInfo);break;case 10:Qi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lo(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(co(t),e=Fc(e,t,n),e===null?null:e.sibling):Oc(e,t,n):(co(t),t.flags|=128,null);co(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(na(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return Pc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(mo,mo.current),r)break;return null;case 22:return t.lanes=0,mc(e,t,n,t.pendingProps);case 24:Qi(t,ua,e.memoizedState.cache)}return Fc(e,t,n)}function Rc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)lc=!0;else{if(!Ic(e,n)&&!(t.flags&128))return lc=!1,Lc(e,t,n);lc=!!(e.flags&131072)}else lc=!1,Ri&&t.flags&1048576&&Mi(t,Ti,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=ja(t.elementType),t.type=e,typeof e==`function`)fi(e)?(r=Qs(e,r),t.tag=1,t=Cc(null,t,e,r,n)):(t.tag=0,t=xc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=dc(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=fc(null,t,e,r,n);break a}}throw t=re(e)||e,Error(i(306,t,``))}}return t;case 0:return xc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Qs(r,t.pendingProps),Cc(e,t,r,a,n);case 3:a:{if(he(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Ga(e,t),Qa(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Qi(t,ua,r),r!==o.cache&&ta(t,[ua],n,!0),Za(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=wc(e,t,r,n);break a}else if(r!==a){a=xi(Error(i(424)),t),Ji(a),t=wc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(Li=Sf(e.firstChild),Ii=t,Ri=!0,zi=null,Bi=!0,n=Ha(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){t=Fc(e,t,n);break a}uc(e,t,r,n)}t=t.child}return t;case 26:return bc(e,t),e===null?(n=Uf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ri||(n=t.type,e=t.pendingProps,r=ef(pe.current).createElement(n),r[ft]=t,r[pt]=e,Jd(r,n,e),Tt(r),t.stateNode=r):t.memoizedState=Uf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ri&&(r=t.stateNode=Ef(t.type,t.pendingProps,pe.current),Ii=t,Bi=!0,a=Li,ff(t.type)?(Cf=a,Li=Sf(r.firstChild)):Li=a),uc(e,t,t.pendingProps.children,n),bc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ri&&((a=r=Li)&&(r=gf(r,t.type,t.pendingProps,Bi),r===null?a=!1:(t.stateNode=r,Ii=t,Li=Sf(r.firstChild),Bi=!1,a=!0)),a||Hi(t)),_e(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,rf(a,o)?r=null:s!==null&&rf(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=Oo(e,t,jo,null,null,n),fp._currentValue=a),bc(e,t),uc(e,t,r,n),t.child;case 6:return e===null&&Ri&&((e=n=Li)&&(n=_f(n,t.pendingProps,Bi),n===null?e=!1:(t.stateNode=n,Ii=t,Li=null,e=!0)),e||Hi(t)),null;case 13:return Oc(e,t,n);case 4:return he(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Va(t,null,r,n):uc(e,t,r,n),t.child;case 11:return dc(e,t,t.type,t.pendingProps,n);case 7:return uc(e,t,t.pendingProps,n),t.child;case 8:return uc(e,t,t.pendingProps.children,n),t.child;case 12:return uc(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Qi(t,t.type,r.value),uc(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,ia(t),a=I(a),r=r(a),t.flags|=1,uc(e,t,r,n),t.child;case 14:return fc(e,t,t.type,t.pendingProps,n);case 15:return pc(e,t,t.type,t.pendingProps,n);case 19:return Pc(e,t,n);case 31:return yc(e,t,n);case 22:return mc(e,t,n,t.pendingProps);case 24:return ia(t),r=I(ua),e===null?(a=Sa(),a===null&&(a=ql,o=da(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Wa(t),Qi(t,ua,a)):((e.lanes&n)!==0&&(Ga(e,t),Qa(t,null,null,n),Za()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Qi(t,ua,r),r!==a.cache&&ta(t,[ua],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Qi(t,ua,r))),uc(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function zc(e){e.flags|=4}function Bc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fu())e.flags|=8192;else throw Ma=Oa,Ea}else e.flags&=-16777217}function Vc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ip(t))if(Fu())e.flags|=8192;else throw Ma=Oa,Ea}function Hc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:et(),e.lanes|=t,ou|=t)}function Uc(e,t){if(!Ri)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gc(e,t,n){var r=t.pendingProps;switch(Pi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wc(t),null;case 1:return Wc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),$i(ua),ge(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Gi(t)?zc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qi())),Wc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(zc(t),o===null?(Wc(t),Bc(t,a,null,r,n)):(Wc(t),Vc(t,o))):o?o===e.memoizedState?(Wc(t),t.flags&=-16777217):(zc(t),Wc(t),Vc(t,o)):(e=e.memoizedProps,e!==r&&zc(t),Wc(t),Bc(t,a,e,r,n)),null;case 27:if(ve(t),n=pe.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Wc(t),null}e=de.current,Gi(t)?Ui(t,e):(e=Ef(a,r,n),t.stateNode=e,zc(t))}return Wc(t),null;case 5:if(ve(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Wc(t),null}if(o=de.current,Gi(t))Ui(t,o);else{var s=ef(pe.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[ft]=t,o[pt]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Jd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&zc(t)}}return Wc(t),Bc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&zc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=pe.current,Gi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ii,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Gd(e.nodeValue,n)),e||Hi(t,!0)}else e=ef(e).createTextNode(r),e[ft]=t,t.stateNode=e}return Wc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Gi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[ft]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wc(t),e=!1}else n=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(po(t),t):(po(t),null);if(t.flags&128)throw Error(i(558))}return Wc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Gi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[ft]=t}else Ki(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Wc(t),a=!1}else a=qi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(po(t),t):(po(t),null)}return po(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Hc(t,t.updateQueue),Wc(t),null);case 4:return ge(),e===null&&Fd(t.stateNode.containerInfo),Wc(t),null;case 10:return $i(t.type),Wc(t),null;case 19:if(le(mo),r=t.memoizedState,r===null)return Wc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Uc(r,!1);else{if(tu!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ho(e),o!==null){for(t.flags|=128,Uc(r,!1),e=o.updateQueue,t.updateQueue=e,Hc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)mi(n,e),n=n.sibling;return ue(mo,mo.current&1|2),Ri&&ji(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&je()>fu&&(t.flags|=128,a=!0,Uc(r,!1),t.lanes=4194304)}else{if(!a)if(e=ho(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Hc(t,e),Uc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Ri)return Wc(t),null}else 2*je()-r.renderingStartTime>fu&&n!==536870912&&(t.flags|=128,a=!0,Uc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Wc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=je(),e.sibling=null,n=mo.current,ue(mo,a?n&1|2:n&1),Ri&&ji(t,r.treeForkCount),e);case 22:case 23:return po(t),ao(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Wc(t),t.subtreeFlags&6&&(t.flags|=8192)):Wc(t),n=t.updateQueue,n!==null&&Hc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&le(xa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),$i(ua),Wc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Kc(e,t){switch(Pi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(ua),ge(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ve(t),null;case 31:if(t.memoizedState!==null){if(po(t),t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(po(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ki()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(mo),null;case 4:return ge(),null;case 10:return $i(t.type),null;case 22:case 23:return po(t),ao(),e!==null&&le(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $i(ua),null;case 25:return null;default:return null}}function qc(e,t){switch(Pi(t),t.tag){case 3:$i(ua),ge();break;case 26:case 27:case 5:ve(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&po(t);break;case 13:po(t);break;case 19:le(mo);break;case 10:$i(t.type);break;case 22:case 23:po(t),ao(),e!==null&&le(xa);break;case 24:$i(ua)}}function R(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){nd(t,t.return,e)}}function Jc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){nd(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){nd(t,t.return,e)}}function Yc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{eo(t,n)}catch(t){nd(e,e.return,t)}}}function Xc(e,t,n){n.props=Qs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){nd(e,t,n)}}function Zc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){nd(e,t,n)}}function Qc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){nd(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){nd(e,t,n)}else n.current=null}function $c(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){nd(e,e.return,t)}}function el(e,t,n){try{var r=e.stateNode;Yd(r,e.type,n,t),r[pt]=t}catch(t){nd(e,e.return,t)}}function tl(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ff(e.type)||e.tag===4}function nl(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||tl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ff(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=on));else if(r!==4&&(r===27&&ff(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}function il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&ff(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(il(e,t,n),e=e.sibling;e!==null;)il(e,t,n),e=e.sibling}function al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Jd(t,r,n),t[ft]=e,t[pt]=n}catch(t){nd(e,e.return,t)}}var ol=!1,sl=!1,cl=!1,ll=typeof WeakSet==`function`?WeakSet:Set,ul=null;function dl(e,t){if(e=e.containerInfo,Qd=xp,e=Ar(e),jr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},xp=!1,ul=t;ul!==null;)if(t=ul,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,ul=e;else for(;ul!==null;){switch(t=ul,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Qs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){nd(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)hf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:hf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ul=e;break}ul=t.return}}function fl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Dl(e,n),r&4&&R(5,n);break;case 1:if(Dl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){nd(n,n.return,e)}else{var i=Qs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){nd(n,n.return,e)}}r&64&&Yc(n),r&512&&Zc(n,n.return);break;case 3:if(Dl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{eo(e,t)}catch(e){nd(n,n.return,e)}}break;case 27:t===null&&r&4&&al(n);case 26:case 5:Dl(e,n),t===null&&r&4&&$c(n),r&512&&Zc(n,n.return);break;case 12:Dl(e,n);break;case 31:Dl(e,n),r&4&&vl(e,n);break;case 13:Dl(e,n),r&4&&yl(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=od.bind(null,n),xf(e,n))));break;case 22:if(r=n.memoizedState!==null||ol,!r){t=t!==null&&t.memoizedState!==null||sl,i=ol;var a=sl;ol=r,(sl=t)&&!a?kl(e,n,(n.subtreeFlags&8772)!=0):Dl(e,n),ol=i,sl=a}break;case 30:break;default:Dl(e,n)}}function pl(e){var t=e.alternate;t!==null&&(e.alternate=null,pl(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ml=null,hl=!1;function gl(e,t,n){for(n=n.child;n!==null;)_l(e,t,n),n=n.sibling}function _l(e,t,n){if(Ve&&typeof Ve.onCommitFiberUnmount==`function`)try{Ve.onCommitFiberUnmount(Be,n)}catch{}switch(n.tag){case 26:sl||Qc(n,t),gl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:sl||Qc(n,t);var r=ml,i=hl;ff(n.type)&&(ml=n.stateNode,hl=!1),gl(e,t,n),Df(n.stateNode),ml=r,hl=i;break;case 5:sl||Qc(n,t);case 6:if(r=ml,i=hl,ml=null,gl(e,t,n),ml=r,hl=i,ml!==null)if(hl)try{(ml.nodeType===9?ml.body:ml.nodeName===`HTML`?ml.ownerDocument.body:ml).removeChild(n.stateNode)}catch(e){nd(n,t,e)}else try{ml.removeChild(n.stateNode)}catch(e){nd(n,t,e)}break;case 18:ml!==null&&(hl?(e=ml,pf(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Gp(e)):pf(ml,n.stateNode));break;case 4:r=ml,i=hl,ml=n.stateNode.containerInfo,hl=!0,gl(e,t,n),ml=r,hl=i;break;case 0:case 11:case 14:case 15:Jc(2,n,t),sl||Jc(4,n,t),gl(e,t,n);break;case 1:sl||(Qc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Xc(n,t,r)),gl(e,t,n);break;case 21:gl(e,t,n);break;case 22:sl=(r=sl)||n.memoizedState!==null,gl(e,t,n),sl=r;break;default:gl(e,t,n)}}function vl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gp(e)}catch(e){nd(t,t.return,e)}}}function yl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gp(e)}catch(e){nd(t,t.return,e)}}function bl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ll),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ll),t;default:throw Error(i(435,e.tag))}}function xl(e,t){var n=bl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=sd.bind(null,e,t);t.then(r,r)}})}function Sl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(ff(c.type)){ml=c.stateNode,hl=!1;break a}break;case 5:ml=c.stateNode,hl=!1;break a;case 3:case 4:ml=c.stateNode.containerInfo,hl=!0;break a}c=c.return}if(ml===null)throw Error(i(160));_l(o,s,a),ml=null,hl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)wl(t,e),t=t.sibling}var Cl=null;function wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Sl(t,e),Tl(e),r&4&&(Jc(3,e,e.return),R(3,e),Jc(5,e,e.return));break;case 1:Sl(t,e),Tl(e),r&512&&(sl||n===null||Qc(n,n.return)),r&64&&ol&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=Cl;if(Sl(t,e),Tl(e),r&512&&(sl||n===null||Qc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[yt]||o[ft]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Jd(o,r,n),o[ft]=e,Tt(o),r=o;break a;case`link`:var s=tp(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Jd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=tp(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Jd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[ft]=e,Tt(o),r=o}e.stateNode=r}else np(a,e.type,e.stateNode);else e.stateNode=Xf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&el(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?np(a,e.type,e.stateNode):Xf(a,r,e.memoizedProps))}break;case 27:Sl(t,e),Tl(e),r&512&&(sl||n===null||Qc(n,n.return)),n!==null&&r&4&&el(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Sl(t,e),Tl(e),r&512&&(sl||n===null||Qc(n,n.return)),e.flags&32){a=e.stateNode;try{Zt(a,``)}catch(t){nd(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,el(e,a,n===null?a:n.memoizedProps)),r&1024&&(cl=!0);break;case 6:if(Sl(t,e),Tl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){nd(e,e.return,t)}}break;case 3:if(ep=null,a=Cl,Cl=Af(t.containerInfo),Sl(t,e),Cl=a,Tl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gp(t.containerInfo)}catch(t){nd(e,e.return,t)}cl&&(cl=!1,El(e));break;case 4:r=Cl,Cl=Af(e.stateNode.containerInfo),Sl(t,e),Tl(e),Cl=r;break;case 12:Sl(t,e),Tl(e);break;case 31:Sl(t,e),Tl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,xl(e,r)));break;case 13:Sl(t,e),Tl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uu=je()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,xl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=ol,d=sl;if(ol=u||a,sl=d||l,Sl(t,e),sl=d,ol=u,Tl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||ol||sl||Ol(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){nd(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){nd(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?mf(m,!0):mf(l.stateNode,!1)}catch(e){nd(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,xl(e,n))));break;case 19:Sl(t,e),Tl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,xl(e,r)));break;case 30:break;case 21:break;default:Sl(t,e),Tl(e)}}function Tl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(tl(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;il(e,nl(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Zt(o,``),n.flags&=-33),il(e,nl(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;rl(e,nl(e),s);break;default:throw Error(i(161))}}catch(t){nd(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function El(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;El(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Dl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fl(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Jc(4,t,t.return),Ol(t);break;case 1:Qc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Xc(t,t.return,n),Ol(t);break;case 27:Df(t.stateNode);case 26:case 5:Qc(t,t.return),Ol(t);break;case 22:t.memoizedState===null&&Ol(t);break;case 30:Ol(t);break;default:Ol(t)}e=e.sibling}}function kl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:kl(i,a,n),R(4,a);break;case 1:if(kl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){nd(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)$a(c[i],s)}catch(e){nd(r,r.return,e)}}n&&o&64&&Yc(a),Zc(a,a.return);break;case 27:al(a);case 26:case 5:kl(i,a,n),n&&r===null&&o&4&&$c(a),Zc(a,a.return);break;case 12:kl(i,a,n);break;case 31:kl(i,a,n),n&&o&4&&vl(i,a);break;case 13:kl(i,a,n),n&&o&4&&yl(i,a);break;case 22:a.memoizedState===null&&kl(i,a,n),Zc(a,a.return);break;case 30:break;default:kl(i,a,n)}t=t.sibling}}function Al(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fa(n))}function jl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fa(e))}function Ml(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nl(e,t,n,r),t=t.sibling}function Nl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ml(e,t,n,r),i&2048&&R(9,t);break;case 1:Ml(e,t,n,r);break;case 3:Ml(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fa(e)));break;case 12:if(i&2048){Ml(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){nd(t,t.return,e)}}else Ml(e,t,n,r);break;case 31:Ml(e,t,n,r);break;case 13:Ml(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?Ml(e,t,n,r):(a._visibility|=2,Pl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?Ml(e,t,n,r):Fl(e,t),i&2048&&Al(o,t);break;case 24:Ml(e,t,n,r),i&2048&&jl(t.alternate,t);break;default:Ml(e,t,n,r)}}function Pl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:Pl(a,o,s,c,i),R(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,Pl(a,o,s,c,i)):u._visibility&2?Pl(a,o,s,c,i):Fl(a,o),i&&l&2048&&Al(o.alternate,o);break;case 24:Pl(a,o,s,c,i),i&&l&2048&&jl(o.alternate,o);break;default:Pl(a,o,s,c,i)}t=t.sibling}}function Fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Fl(n,r),i&2048&&Al(r.alternate,r);break;case 24:Fl(n,r),i&2048&&jl(r.alternate,r);break;default:Fl(n,r)}t=t.sibling}}var Il=8192;function Ll(e,t,n){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Rl(e,t,n),e=e.sibling}function Rl(e,t,n){switch(e.tag){case 26:Ll(e,t,n),e.flags&Il&&e.memoizedState!==null&&ap(n,Cl,e.memoizedState,e.memoizedProps);break;case 5:Ll(e,t,n);break;case 3:case 4:var r=Cl;Cl=Af(e.stateNode.containerInfo),Ll(e,t,n),Cl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Il,Il=16777216,Ll(e,t,n),Il=r):Ll(e,t,n));break;default:Ll(e,t,n)}}function zl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Bl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ul=r,Ul(r,e)}zl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vl(e),e=e.sibling}function Vl(e){switch(e.tag){case 0:case 11:case 15:Bl(e),e.flags&2048&&Jc(9,e,e.return);break;case 3:Bl(e);break;case 12:Bl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hl(e)):Bl(e);break;default:Bl(e)}}function Hl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];ul=r,Ul(r,e)}zl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Jc(8,t,t.return),Hl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hl(t));break;default:Hl(t)}e=e.sibling}}function Ul(e,t){for(;ul!==null;){var n=ul;switch(n.tag){case 0:case 11:case 15:Jc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:fa(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,ul=r;else a:for(n=e;ul!==null;){r=ul;var i=r.sibling,a=r.return;if(pl(r),r===n){ul=null;break a}if(i!==null){i.return=a,ul=i;break a}ul=a}}}var Wl={getCacheForType:function(e){var t=I(ua),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return I(ua).controller.signal}},Gl=typeof WeakMap==`function`?WeakMap:Map,Kl=0,ql=null,Jl=null,z=0,Yl=0,Xl=null,Zl=!1,Ql=!1,$l=!1,eu=0,tu=0,nu=0,ru=0,iu=0,au=0,ou=0,su=null,cu=null,lu=!1,uu=0,du=0,fu=1/0,pu=null,mu=null,hu=0,gu=null,_u=null,vu=0,yu=0,bu=null,xu=null,Su=0,Cu=null;function wu(){return Kl&2&&z!==0?z&-z:j.T===null?lt():Cd()}function Tu(){if(au===0)if(!(z&536870912)||Ri){var e=Je;Je<<=1,!(Je&3932160)&&(Je=262144),au=e}else au=536870912;return e=oo.current,e!==null&&(e.flags|=32),au}function Eu(e,t,n){(e===ql&&(Yl===2||Yl===9)||e.cancelPendingCommit!==null)&&(Nu(e,0),Au(e,z,au,!1)),nt(e,n),(!(Kl&2)||e!==ql)&&(e===ql&&(!(Kl&2)&&(ru|=n),tu===4&&Au(e,z,au,!1)),hd(e))}function Du(e,t,n){if(Kl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Qe(e,t),a=r?Vu(e,t):zu(e,t,!0),o=r;do{if(a===0){Ql&&!r&&Au(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!ku(n)){a=zu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=su;var l=c.current.memoizedState.isDehydrated;if(l&&(Nu(c,s).flags|=256),s=zu(c,s,!1),s!==2){if($l&&!l){c.errorRecoveryDisabledLanes|=o,ru|=o,a=4;break a}o=cu,cu=a,o!==null&&(cu===null?cu=o:cu.push.apply(cu,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){Nu(e,0),Au(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Au(r,t,au,!Zl);break a;case 2:cu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=uu+300-je(),10<a)){if(Au(r,t,au,!Zl),Ze(r,0,!0)!==0)break a;vu=t,r.timeoutHandle=sf(Ou.bind(null,r,n,cu,pu,lu,t,au,ru,ou,Zl,o,`Throttled`,-0,0),a);break a}Ou(r,n,cu,pu,lu,t,au,ru,ou,Zl,o,null,-0,0)}}break}while(1);hd(e)}function Ou(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:on},Rl(t,a,d);var m=(a&62914560)===a?uu-je():(a&4194048)===a?du-je():0;if(m=sp(d,m),m!==null){vu=a,e.cancelPendingCommit=m(Ju.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),Au(e,a,o,!l);return}}Ju(e,t,a,n,r,i,o,s,c)}function ku(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Tr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Au(e,t,n,r){t&=~iu,t&=~ru,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ue(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&it(e,n,t)}function ju(){return Kl&6?!0:(gd(0,!1),!1)}function Mu(){if(Jl!==null){if(Yl===0)var e=Jl.return;else e=Jl,Zi=Xi=null,Po(e),Fa=null,Ia=0,e=Jl;for(;e!==null;)qc(e.alternate,e),e=e.return;Jl=null}}function Nu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,cf(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),vu=0,Mu(),ql=e,Jl=n=pi(e.current,null),z=t,Yl=0,Xl=null,Zl=!1,Ql=Qe(e,t),$l=!1,ou=au=iu=ru=nu=tu=0,cu=su=null,lu=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ue(r),a=1<<i;t|=e[i],r&=~a}return eu=t,ri(),n}function Pu(e,t){L=null,j.H=Ws,t===Ta||t===Da?(t=Na(),Yl=3):t===Ea?(t=Na(),Yl=4):Yl=t===cc?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Xl=t,Jl===null&&(tu=1,nc(e,xi(t,e.current)))}function Fu(){var e=oo.current;return e===null?!0:(z&4194048)===z?so===null:(z&62914560)===z||z&536870912?e===so:!1}function Iu(){var e=j.H;return j.H=Ws,e===null?Ws:e}function Lu(){var e=j.A;return j.A=Wl,e}function Ru(){tu=4,Zl||(z&4194048)!==z&&oo.current!==null||(Ql=!0),!(nu&134217727)&&!(ru&134217727)||ql===null||Au(ql,z,au,!1)}function zu(e,t,n){var r=Kl;Kl|=2;var i=Iu(),a=Lu();(ql!==e||z!==t)&&(pu=null,Nu(e,t)),t=!1;var o=tu;a:do try{if(Yl!==0&&Jl!==null){var s=Jl,c=Xl;switch(Yl){case 8:Mu(),o=6;break a;case 3:case 2:case 9:case 6:oo.current===null&&(t=!0);var l=Yl;if(Yl=0,Xl=null,Gu(e,s,c,l),n&&Ql){o=0;break a}break;default:l=Yl,Yl=0,Xl=null,Gu(e,s,c,l)}}Bu(),o=tu;break}catch(t){Pu(e,t)}while(1);return t&&e.shellSuspendCounter++,Zi=Xi=null,Kl=r,j.H=i,j.A=a,Jl===null&&(ql=null,z=0,ri()),o}function Bu(){for(;Jl!==null;)Uu(Jl)}function Vu(e,t){var n=Kl;Kl|=2;var r=Iu(),a=Lu();ql!==e||z!==t?(pu=null,fu=je()+500,Nu(e,t)):Ql=Qe(e,t);a:do try{if(Yl!==0&&Jl!==null){t=Jl;var o=Xl;b:switch(Yl){case 1:Yl=0,Xl=null,Gu(e,t,o,1);break;case 2:case 9:if(ka(o)){Yl=0,Xl=null,Wu(t);break}t=function(){Yl!==2&&Yl!==9||ql!==e||(Yl=7),hd(e)},o.then(t,t);break a;case 3:Yl=7;break a;case 4:Yl=5;break a;case 7:ka(o)?(Yl=0,Xl=null,Wu(t)):(Yl=0,Xl=null,Gu(e,t,o,7));break;case 5:var s=null;switch(Jl.tag){case 26:s=Jl.memoizedState;case 5:case 27:var c=Jl;if(s?ip(s):c.stateNode.complete){Yl=0,Xl=null;var l=c.sibling;if(l!==null)Jl=l;else{var u=c.return;u===null?Jl=null:(Jl=u,Ku(u))}break b}}Yl=0,Xl=null,Gu(e,t,o,5);break;case 6:Yl=0,Xl=null,Gu(e,t,o,6);break;case 8:Mu(),tu=6;break a;default:throw Error(i(462))}}Hu();break}catch(t){Pu(e,t)}while(1);return Zi=Xi=null,j.H=r,j.A=a,Kl=n,Jl===null?(ql=null,z=0,ri(),tu):0}function Hu(){for(;Jl!==null&&!ke();)Uu(Jl)}function Uu(e){var t=Rc(e.alternate,e,eu);e.memoizedProps=e.pendingProps,t===null?Ku(e):Jl=t}function Wu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Sc(n,t,t.pendingProps,t.type,void 0,z);break;case 11:t=Sc(n,t,t.pendingProps,t.type.render,t.ref,z);break;case 5:Po(t);default:qc(n,t),t=Jl=mi(t,eu),t=Rc(n,t,eu)}e.memoizedProps=e.pendingProps,t===null?Ku(e):Jl=t}function Gu(e,t,n,r){Zi=Xi=null,Po(t),Fa=null,Ia=0;var i=t.return;try{if(sc(e,i,t,n,z)){tu=1,nc(e,xi(n,e.current)),Jl=null;return}}catch(t){if(i!==null)throw Jl=i,t;tu=1,nc(e,xi(n,e.current)),Jl=null;return}t.flags&32768?(Ri||r===1?e=!0:Ql||z&536870912?e=!1:(Zl=e=!0,(r===2||r===9||r===3||r===6)&&(r=oo.current,r!==null&&r.tag===13&&(r.flags|=16384))),qu(t,e)):Ku(t)}function Ku(e){var t=e;do{if(t.flags&32768){qu(t,Zl);return}e=t.return;var n=Gc(t.alternate,t,eu);if(n!==null){Jl=n;return}if(t=t.sibling,t!==null){Jl=t;return}Jl=t=e}while(t!==null);tu===0&&(tu=5)}function qu(e,t){do{var n=Kc(e.alternate,e);if(n!==null){n.flags&=32767,Jl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Jl=e;return}Jl=e=n}while(e!==null);tu=6,Jl=null}function Ju(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do $u();while(hu!==0);if(Kl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=ni,rt(e,n,o,s,c,l),e===ql&&(Jl=ql=null,z=0),_u=t,gu=e,vu=n,yu=o,bu=a,xu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,cd(Fe,function(){return ed(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=j.T,j.T=null,a=M.p,M.p=2,s=Kl,Kl|=4;try{dl(e,t,n)}finally{Kl=s,M.p=a,j.T=r}}hu=1,Yu(),Xu(),Zu()}}function Yu(){if(hu===1){hu=0;var e=gu,t=_u,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=j.T,j.T=null;var r=M.p;M.p=2;var i=Kl;Kl|=4;try{wl(t,e);var a=$d,o=Ar(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&kr(s.ownerDocument.documentElement,s)){if(c!==null&&jr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=Or(s,h),v=Or(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}xp=!!Qd,$d=Qd=null}finally{Kl=i,M.p=r,j.T=n}}e.current=t,hu=2}}function Xu(){if(hu===2){hu=0;var e=gu,t=_u,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=j.T,j.T=null;var r=M.p;M.p=2;var i=Kl;Kl|=4;try{fl(e,t.alternate,t)}finally{Kl=i,M.p=r,j.T=n}}hu=3}}function Zu(){if(hu===4||hu===3){hu=0,Ae();var e=gu,t=_u,n=vu,r=xu;t.subtreeFlags&10256||t.flags&10256?hu=5:(hu=0,_u=gu=null,Qu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(mu=null),ct(n),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot==`function`)try{Ve.onCommitFiberRoot(Be,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=j.T,i=M.p,M.p=2,j.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{j.T=t,M.p=i}}vu&3&&$u(),hd(e),i=e.pendingLanes,n&261930&&i&42?e===Cu?Su++:(Su=0,Cu=e):Su=0,gd(0,!1)}}function Qu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fa(t)))}function $u(){return Yu(),Xu(),Zu(),ed()}function ed(){if(hu!==5)return!1;var e=gu,t=yu;yu=0;var n=ct(vu),r=j.T,a=M.p;try{M.p=32>n?32:n,j.T=null,n=bu,bu=null;var o=gu,s=vu;if(hu=0,_u=gu=null,vu=0,Kl&6)throw Error(i(331));var c=Kl;if(Kl|=4,Vl(o.current),Nl(o,o.current,s,n),Kl=c,gd(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot==`function`)try{Ve.onPostCommitFiberRoot(Be,o)}catch{}return!0}finally{M.p=a,j.T=r,Qu(e,t)}}function td(e,t,n){t=xi(n,t),t=ic(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(nt(e,2),hd(e))}function nd(e,t,n){if(e.tag===3)td(e,e,n);else for(;t!==null;){if(t.tag===3){td(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(mu===null||!mu.has(r))){e=xi(n,e),n=ac(2),r=qa(t,n,2),r!==null&&(oc(n,r,t,e),nt(r,2),hd(r));break}}t=t.return}}function rd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||($l=!0,i.add(n),e=id.bind(null,e,t,n),t.then(e,e))}function id(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ql===e&&(z&n)===n&&(tu===4||tu===3&&(z&62914560)===z&&300>je()-uu?!(Kl&2)&&Nu(e,0):iu|=n,ou===z&&(ou=0)),hd(e)}function ad(e,t){t===0&&(t=et()),e=oi(e,t),e!==null&&(nt(e,t),hd(e))}function od(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ad(e,n)}function sd(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),ad(e,n)}function cd(e,t){return De(e,t)}var ld=null,ud=null,dd=!1,fd=!1,pd=!1,md=0;function hd(e){e!==ud&&e.next===null&&(ud===null?ld=ud=e:ud=ud.next=e),fd=!0,dd||(dd=!0,Sd())}function gd(e,t){if(!pd&&fd){pd=!0;do for(var n=!1,r=ld;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ue(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,xd(r,a))}else a=z,a=Ze(r,r===ql?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Qe(r,a)||(n=!0,xd(r,a));r=r.next}while(n);pd=!1}}function _d(){vd()}function vd(){fd=dd=!1;var e=0;md!==0&&of()&&(e=md);for(var t=je(),n=null,r=ld;r!==null;){var i=r.next,a=yd(r,t);a===0?(r.next=null,n===null?ld=i:n.next=i,i===null&&(ud=n)):(n=r,(e!==0||a&3)&&(fd=!0)),r=i}hu!==0&&hu!==5||gd(e,!1),md!==0&&(md=0)}function yd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ue(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=$e(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=ql,n=z,n=Ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Yl===2||Yl===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Oe(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Qe(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Oe(r),ct(n)){case 2:case 8:n=Pe;break;case 32:n=Fe;break;case 268435456:n=Le;break;default:n=Fe}return r=bd.bind(null,e),n=De(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Oe(r),e.callbackPriority=2,e.callbackNode=null,2}function bd(e,t){if(hu!==0&&hu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if($u()&&e.callbackNode!==n)return null;var r=z;return r=Ze(e,e===ql?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Du(e,r,t),yd(e,je()),e.callbackNode!=null&&e.callbackNode===n?bd.bind(null,e):null)}function xd(e,t){if($u())return null;Du(e,t,!0)}function Sd(){uf(function(){Kl&6?De(Ne,_d):vd()})}function Cd(){if(md===0){var e=ha;e===0&&(e=qe,qe<<=1,!(qe&261888)&&(qe=256)),md=e}return md}function wd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:an(``+e)}function Td(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ed(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=wd((i[pt]||null).action),o=r.submitter;o&&(t=(t=o[pt]||null)?wd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new Dn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(md!==0){var e=o?Td(i,o):new FormData(i);As(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?Td(i,o):new FormData(i),As(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var Dd=0;Dd<Zr.length;Dd++){var Od=Zr[Dd];Qr(Od.toLowerCase(),`on`+(Od[0].toUpperCase()+Od.slice(1)))}Qr(Ur,`onAnimationEnd`),Qr(Wr,`onAnimationIteration`),Qr(Gr,`onAnimationStart`),Qr(`dblclick`,`onDoubleClick`),Qr(`focusin`,`onFocus`),Qr(`focusout`,`onBlur`),Qr(Kr,`onTransitionRun`),Qr(qr,`onTransitionStart`),Qr(Jr,`onTransitionCancel`),Qr(Yr,`onTransitionEnd`),kt(`onMouseEnter`,[`mouseout`,`mouseover`]),kt(`onMouseLeave`,[`mouseout`,`mouseover`]),kt(`onPointerEnter`,[`pointerout`,`pointerover`]),kt(`onPointerLeave`,[`pointerout`,`pointerover`]),Ot(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),Ot(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),Ot(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),Ot(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),Ot(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var kd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),Ad=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(kd));function jd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){$r(e)}i.currentTarget=null,a=c}}}}function Md(e,t){var n=t[ht];n===void 0&&(n=t[ht]=new Set);var r=e+`__bubble`;n.has(r)||(Id(t,e,2,!1),n.add(r))}function Nd(e,t,n){var r=0;t&&(r|=4),Id(n,e,r,t)}var Pd=`_reactListening`+Math.random().toString(36).slice(2);function Fd(e){if(!e[Pd]){e[Pd]=!0,Et.forEach(function(t){t!==`selectionchange`&&(Ad.has(t)||Nd(t,!1,e),Nd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pd]||(t[Pd]=!0,Nd(`selectionchange`,!1,t))}}function Id(e,t,n,r){switch(Op(t)){case 2:var i=Sp;break;case 8:i=Cp;break;default:i=wp}n=i.bind(null,t,n,e),i=void 0,!gn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Ld(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=xt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}pn(function(){var r=a,i=cn(n),s=[];a:{var c=Xr.get(e);if(c!==void 0){var l=Dn,u=e;switch(e){case`keypress`:if(Sn(n)===0)break a;case`keydown`:case`keyup`:l=Gn;break;case`focusin`:u=`focus`,l=In;break;case`focusout`:u=`blur`,l=In;break;case`beforeblur`:case`afterblur`:l=In;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=Pn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=Fn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=qn;break;case Ur:case Wr:case Gr:l=Ln;break;case Yr:l=Jn;break;case`scroll`:case`scrollend`:l=kn;break;case`wheel`:l=Yn;break;case`copy`:case`cut`:case`paste`:l=Rn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=Kn;break;case`toggle`:case`beforetoggle`:l=Xn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=mn(m,p),g!=null&&d.push(Rd(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==sn&&(u=n.relatedTarget||n.fromElement)&&(xt(u)||u[mt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?xt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=Pn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=Kn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:Ct(l),h=u==null?c:Ct(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,xt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Bd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Vd(s,c,l,d,!1),u!==null&&f!==null&&Vd(s,f,u,d,!0)}}a:{if(c=r?Ct(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=mr;else if(cr(c))if(hr)v=Cr;else{v=xr;var y=br}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&tn(r.elementType)&&(v=mr):v=Sr;if(v&&=v(e,r)){lr(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&qt(c,`number`,c.value)}switch(y=r?Ct(r):window,e){case`focusin`:(cr(y)||y.contentEditable===`true`)&&(Nr=y,Pr=r,Fr=null);break;case`focusout`:Fr=Pr=Nr=null;break;case`mousedown`:Ir=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Ir=!1,Lr(s,n,i);break;case`selectionchange`:if(Mr)break;case`keydown`:case`keyup`:Lr(s,n,i)}var b;if(Qn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else P?rr(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(N&&n.locale!==`ko`&&(P||x!==`onCompositionStart`?x===`onCompositionEnd`&&P&&(b=xn()):(vn=i,yn=`value`in vn?vn.value:vn.textContent,P=!0)),y=zd(r,x),0<y.length&&(x=new zn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=ir(n),b!==null&&(x.data=b)))),(b=er?ar(e,n):or(e,n))&&(x=zd(r,`onBeforeInput`),0<x.length&&(y=new zn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),Ed(s,e,r,n,i)}jd(s,t)})}function Rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=mn(e,n),i!=null&&r.unshift(Rd(e,i,a)),i=mn(e,t),i!=null&&r.push(Rd(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Bd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=mn(n,a),l!=null&&o.unshift(Rd(n,l,c))):i||(l=mn(n,a),l!=null&&o.push(Rd(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hd=/\r\n?/g,Ud=/\u0000|\uFFFD/g;function Wd(e){return(typeof e==`string`?e:``+e).replace(Hd,`
`).replace(Ud,``)}function Gd(e,t){return t=Wd(t),Wd(e)===t}function Kd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Zt(e,``+r);break;case`className`:Ft(e,`class`,r);break;case`tabIndex`:Ft(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ft(e,n,r);break;case`style`:en(e,r,o);break;case`data`:if(t!==`object`){Ft(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Kd(e,t,`name`,a.name,a,null),Kd(e,t,`formEncType`,a.formEncType,a,null),Kd(e,t,`formMethod`,a.formMethod,a,null),Kd(e,t,`formTarget`,a.formTarget,a,null)):(Kd(e,t,`encType`,a.encType,a,null),Kd(e,t,`method`,a.method,a,null),Kd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=an(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=on);break;case`onScroll`:r!=null&&Md(`scroll`,e);break;case`onScrollEnd`:r!=null&&Md(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=an(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:Md(`beforetoggle`,e),Md(`toggle`,e),Pt(e,`popover`,r);break;case`xlinkActuate`:It(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:It(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:It(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:It(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:It(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:It(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Pt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=nn.get(n)||n,Pt(e,n,r))}}function qd(e,t,n,r,a,o){switch(n){case`style`:en(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Zt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Zt(e,``+r);break;case`onScroll`:r!=null&&Md(`scroll`,e);break;case`onScrollEnd`:r!=null&&Md(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=on);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!Dt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[pt]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Pt(e,n,r)}}}function Jd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:Md(`error`,e),Md(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Kd(e,t,o,s,n,null)}}a&&Kd(e,t,`srcSet`,n.srcSet,n,null),r&&Kd(e,t,`src`,n.src,n,null);return;case`input`:Md(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Kd(e,t,r,d,n,null)}}Kt(e,o,c,l,u,s,a,!1);return;case`select`:for(a in Md(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Kd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Jt(e,!!r,n,!0):Jt(e,!!r,t,!1);return;case`textarea`:for(s in Md(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Kd(e,t,s,c,n,null)}Xt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Kd(e,t,l,r,n,null)}return;case`dialog`:Md(`beforetoggle`,e),Md(`toggle`,e),Md(`cancel`,e),Md(`close`,e);break;case`iframe`:case`object`:Md(`load`,e);break;case`video`:case`audio`:for(r=0;r<kd.length;r++)Md(kd[r],e);break;case`image`:Md(`error`,e),Md(`load`,e);break;case`details`:Md(`toggle`,e);break;case`embed`:case`source`:case`link`:Md(`error`,e),Md(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Kd(e,t,u,r,n,null)}return;default:if(tn(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&qd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Kd(e,t,c,r,n,null))}function Yd(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Kd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Kd(e,t,p,m,r,f)}}Gt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Kd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Kd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Jt(e,!!n,n?[]:``,!1):Jt(e,!!n,t,!0)):Jt(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Kd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Kd(e,t,s,a,r,o)}Yt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Kd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Kd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Kd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Kd(e,t,u,p,r,m)}return;default:if(tn(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&qd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||qd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Kd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Kd(e,t,f,p,r,m)}function Xd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Xd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Xd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Qd=null,$d=null;function ef(e){return e.nodeType===9?e:e.ownerDocument}function tf(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function nf(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function rf(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var af=null;function of(){var e=window.event;return e&&e.type===`popstate`?e===af?!1:(af=e,!0):(af=null,!1)}var sf=typeof setTimeout==`function`?setTimeout:void 0,cf=typeof clearTimeout==`function`?clearTimeout:void 0,lf=typeof Promise==`function`?Promise:void 0,uf=typeof queueMicrotask==`function`?queueMicrotask:lf===void 0?sf:function(e){return lf.resolve(null).then(e).catch(df)};function df(e){setTimeout(function(){throw e})}function ff(e){return e===`head`}function pf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Gp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)Df(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,Df(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[yt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&Df(e.ownerDocument.body);n=i}while(n);Gp(t)}function mf(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function hf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:hf(n),bt(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function gf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[yt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=Sf(e.nextSibling),e===null)break}return null}function _f(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=Sf(e.nextSibling),e===null))return null;return e}function vf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=Sf(e.nextSibling),e===null))return null;return e}function yf(e){return e.data===`$?`||e.data===`$~`}function bf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function xf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function Sf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var Cf=null;function wf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return Sf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function Tf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function Ef(e,t,n){switch(t=ef(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Df(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bt(e)}var Of=new Map,kf=new Set;function Af(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jf=M.d;M.d={f:Mf,r:Nf,D:If,C:Lf,L:Rf,m:zf,X:Vf,S:Bf,M:Hf};function Mf(){var e=jf.f(),t=ju();return e||t}function Nf(e){var t=St(e);t!==null&&t.tag===5&&t.type===`form`?Ms(t):jf.r(e)}var Pf=typeof document>`u`?null:document;function Ff(e,t,n){var r=Pf;if(r&&typeof t==`string`&&t){var i=Wt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),kf.has(i)||(kf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Jd(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function If(e){jf.D(e),Ff(`dns-prefetch`,e,null)}function Lf(e,t){jf.C(e,t),Ff(`preconnect`,e,t)}function Rf(e,t,n){jf.L(e,t,n);var r=Pf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Wt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Wt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Wt(n.imageSizes)+`"]`)):i+=`[href="`+Wt(e)+`"]`;var a=i;switch(t){case`style`:a=Wf(e);break;case`script`:a=Jf(e)}Of.has(a)||(e=m({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),Of.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Gf(a))||t===`script`&&r.querySelector(Yf(a))||(t=r.createElement(`link`),Jd(t,`link`,e),Tt(t),r.head.appendChild(t)))}}function zf(e,t){jf.m(e,t);var n=Pf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Wt(r)+`"][href="`+Wt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Jf(e)}if(!Of.has(a)&&(e=m({rel:`modulepreload`,href:e},t),Of.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(Yf(a)))return}r=n.createElement(`link`),Jd(r,`link`,e),Tt(r),n.head.appendChild(r)}}}function Bf(e,t,n){jf.S(e,t,n);var r=Pf;if(r&&e){var i=wt(r).hoistableStyles,a=Wf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Gf(a)))s.loading=5;else{e=m({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=Of.get(a))&&Qf(e,n);var c=o=r.createElement(`link`);Tt(c),Jd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Zf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Vf(e,t){jf.X(e,t);var n=Pf;if(n&&e){var r=wt(n).hoistableScripts,i=Jf(e),a=r.get(i);a||(a=n.querySelector(Yf(i)),a||(e=m({src:e,async:!0},t),(t=Of.get(i))&&$f(e,t),a=n.createElement(`script`),Tt(a),Jd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Hf(e,t){jf.M(e,t);var n=Pf;if(n&&e){var r=wt(n).hoistableScripts,i=Jf(e),a=r.get(i);a||(a=n.querySelector(Yf(i)),a||(e=m({src:e,async:!0,type:`module`},t),(t=Of.get(i))&&$f(e,t),a=n.createElement(`script`),Tt(a),Jd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Uf(e,t,n,r){var a=(a=pe.current)?Af(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=Wf(n.href),n=wt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=Wf(n.href);var o=wt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Gf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Of.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Of.set(e,n),o||qf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Jf(n),n=wt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Wf(e){return`href="`+Wt(e)+`"`}function Gf(e){return`link[rel="stylesheet"][`+e+`]`}function Kf(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function qf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Jd(t,`link`,n),Tt(t),e.head.appendChild(t))}function Jf(e){return`[src="`+Wt(e)+`"]`}function Yf(e){return`script[async]`+e}function Xf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Wt(n.href)+`"]`);if(r)return t.instance=r,Tt(r),r;var a=m({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),Tt(r),Jd(r,`style`,a),Zf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=Wf(n.href);var o=e.querySelector(Gf(a));if(o)return t.state.loading|=4,t.instance=o,Tt(o),o;r=Kf(n),(a=Of.get(a))&&Qf(r,a),o=(e.ownerDocument||e).createElement(`link`),Tt(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Jd(o,`link`,r),t.state.loading|=4,Zf(o,n.precedence,e),t.instance=o;case`script`:return o=Jf(n.src),(a=e.querySelector(Yf(o)))?(t.instance=a,Tt(a),a):(r=n,(a=Of.get(o))&&(r=m({},n),$f(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),Tt(a),Jd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Zf(r,n.precedence,e));return t.instance}function Zf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function $f(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var ep=null;function tp(e,t,n){if(ep===null){var r=new Map,i=ep=new Map;i.set(n,r)}else i=ep,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[yt]||a[ft]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function np(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function rp(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function ip(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function ap(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=Wf(r.href),a=t.querySelector(Gf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=cp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,Tt(a);return}a=t.ownerDocument||t,r=Kf(r),(i=Of.get(i))&&Qf(r,i),a=a.createElement(`link`),Tt(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Jd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=cp.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var op=0;function sp(e,t){return e.stylesheets&&e.count===0&&up(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&up(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&op===0&&(op=62500*Zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&up(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>op?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function cp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lp=null;function up(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lp=new Map,t.forEach(dp,e),lp=null,cp.call(e))}function dp(e,t){if(!(t.state.loading&4)){var n=lp.get(e);if(n)var r=n.get(null);else{n=new Map,lp.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=cp.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var fp={$$typeof:C,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function pp(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=tt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tt(0),this.hiddenUpdates=tt(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function mp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new pp(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=di(3,null,null,t),e.current=a,a.stateNode=e,t=da(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Wa(a),e}function hp(e){return e?(e=li,e):li}function gp(e,t,n,r,i,a){i=hp(i),r.context===null?r.context=i:r.pendingContext=i,r=Ka(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=qa(e,r,t),n!==null&&(Eu(n,e,t),Ja(n,e,t))}function _p(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function vp(e,t){_p(e,t),(e=e.alternate)&&_p(e,t)}function yp(e){if(e.tag===13||e.tag===31){var t=oi(e,67108864);t!==null&&Eu(t,e,67108864),vp(e,67108864)}}function bp(e){if(e.tag===13||e.tag===31){var t=wu();t=st(t);var n=oi(e,t);n!==null&&Eu(n,e,t),vp(e,t)}}var xp=!0;function Sp(e,t,n,r){var i=j.T;j.T=null;var a=M.p;try{M.p=2,wp(e,t,n,r)}finally{M.p=a,j.T=i}}function Cp(e,t,n,r){var i=j.T;j.T=null;var a=M.p;try{M.p=8,wp(e,t,n,r)}finally{M.p=a,j.T=i}}function wp(e,t,n,r){if(xp){var i=Tp(r);if(i===null)Ld(e,t,r,Ep,n),Lp(e,r);else if(zp(i,e,t,n,r))r.stopPropagation();else if(Lp(e,r),t&4&&-1<Ip.indexOf(e)){for(;i!==null;){var a=St(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Xe(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ue(o);s.entanglements[1]|=c,o&=~c}hd(a),!(Kl&6)&&(fu=je()+500,gd(0,!1))}}break;case 31:case 13:s=oi(a,2),s!==null&&Eu(s,a,2),ju(),vp(a,2)}if(a=Tp(r),a===null&&Ld(e,t,r,Ep,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Ld(e,t,r,null,n)}}function Tp(e){return e=cn(e),Dp(e)}var Ep=null;function Dp(e){if(Ep=null,e=xt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ep=e,null}function Op(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Me()){case Ne:return 2;case Pe:return 8;case Fe:case Ie:return 32;case Le:return 268435456;default:return 32}default:return 32}}var kp=!1,Ap=null,jp=null,Mp=null,Np=new Map,Pp=new Map,Fp=[],Ip=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Lp(e,t){switch(e){case`focusin`:case`focusout`:Ap=null;break;case`dragenter`:case`dragleave`:jp=null;break;case`mouseover`:case`mouseout`:Mp=null;break;case`pointerover`:case`pointerout`:Np.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:Pp.delete(t.pointerId)}}function Rp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=St(t),t!==null&&yp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zp(e,t,n,r,i){switch(t){case`focusin`:return Ap=Rp(Ap,e,t,n,r,i),!0;case`dragenter`:return jp=Rp(jp,e,t,n,r,i),!0;case`mouseover`:return Mp=Rp(Mp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return Np.set(a,Rp(Np.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,Pp.set(a,Rp(Pp.get(a)||null,e,t,n,r,i)),!0}return!1}function Bp(e){var t=xt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,ut(e.priority,function(){bp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,ut(e.priority,function(){bp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sn=r,n.target.dispatchEvent(r),sn=null}else return t=St(n),t!==null&&yp(t),e.blockedOn=n,!1;t.shift()}return!0}function B(e,t,n){Vp(e)&&n.delete(t)}function V(){kp=!1,Ap!==null&&Vp(Ap)&&(Ap=null),jp!==null&&Vp(jp)&&(jp=null),Mp!==null&&Vp(Mp)&&(Mp=null),Np.forEach(B),Pp.forEach(B)}function Hp(e,n){e.blockedOn===n&&(e.blockedOn=null,kp||(kp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,V)))}var Up=null;function Wp(e){Up!==e&&(Up=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Up===e&&(Up=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(Dp(r||n)===null)continue;break}var a=St(n);a!==null&&(e.splice(t,3),t-=3,As(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Gp(e){function t(t){return Hp(t,e)}Ap!==null&&Hp(Ap,e),jp!==null&&Hp(jp,e),Mp!==null&&Hp(Mp,e),Np.forEach(t),Pp.forEach(t);for(var n=0;n<Fp.length;n++){var r=Fp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Fp.length&&(n=Fp[0],n.blockedOn===null);)Bp(n),n.blockedOn===null&&Fp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[pt]||null;if(typeof a==`function`)o||Wp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[pt]||null)s=o.formAction;else if(Dp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Wp(n)}}}function Kp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function qp(e){this._internalRoot=e}Jp.prototype.render=qp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;gp(n,wu(),e,t,null,null)},Jp.prototype.unmount=qp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),ju(),t[mt]=null}};function Jp(e){this._internalRoot=e}Jp.prototype.unstable_scheduleHydration=function(e){if(e){var t=lt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fp.length&&t!==0&&t<Fp[n].priority;n++);Fp.splice(n,0,e),n===0&&Bp(e)}};var Yp=n.version;if(Yp!==`19.2.3`)throw Error(i(527,Yp,`19.2.3`));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=u(t),e=e===null?null:f(e),e=e===null?null:e.stateNode,e};var Xp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:j,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zp.isDisabled&&Zp.supportsFiber)try{Be=Zp.inject(Xp),Ve=Zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=$s,s=ec,c=tc;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=mp(e,1,!1,null,null,n,r,null,o,s,c,Kp),e[mt]=t.current,Fd(e),new qp(t)}})),_=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=g()})),v=`modulepreload`,y=function(e){return`/`+e},b={};const x=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=y(t,n),t in b)return;b[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:v,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var S=l(p(),1),C=`popstate`;function w(e={}){function t(e,t){let{pathname:n,search:r,hash:i}=e.location;return k(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){return typeof t==`string`?t:A(t)}return te(t,n,null,e)}function T(e,t){if(e===!1||e==null)throw Error(t)}function E(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function D(){return Math.random().toString(36).substring(2,10)}function O(e,t){return{usr:e.state,key:e.key,idx:t}}function k(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?ee(t):t,state:n,key:t&&t.key||r||D()}}function A({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function ee(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function te(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=k(h.location,e,t);n&&n(r,e),l=u()+1;let d=O(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=k(h.location,e,t);n&&n(r,e),l=u();let i=O(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return ne(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(C,d),c=e,()=>{i.removeEventListener(C,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function ne(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),T(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:A(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function re(e,t,n=`/`){return ie(e,t,n,!1)}function ie(e,t,n,r){let i=be((typeof t==`string`?ee(t):t).pathname||`/`,n);if(i==null)return null;let a=M(e);oe(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=ye(i);o=ge(a[e],t,r)}return o}function j(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function M(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;T(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=ke([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(T(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),M(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:me(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of ae(e.path))a(e,t,!0,n)}),t}function ae(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=ae(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function oe(e){e.sort((e,t)=>e.score===t.score?he(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var se=/^:[\w-]+$/,ce=3,le=2,ue=1,de=10,fe=-2,pe=e=>e===`*`;function me(e,t){let n=e.split(`/`),r=n.length;return n.some(pe)&&(r+=fe),t&&(r+=le),n.filter(e=>!pe(e)).reduce((e,t)=>e+(se.test(t)?ce:t===``?ue:de),r)}function he(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function ge(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=_e({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=_e({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:ke([a,u.pathname]),pathnameBase:Ae(ke([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=ke([a,u.pathnameBase]))}return o}function _e(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ve(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function ve(e,t=!1,n=!0){E(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function ye(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return E(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function be(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=e=>xe.test(e);function Ce(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?ee(e):e,a;if(n)if(Se(n))a=n;else{if(n.includes(`//`)){let e=n;n=n.replace(/\/\/+/g,`/`),E(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${n}`)}a=n.startsWith(`/`)?we(n.substring(1),`/`):we(n,t)}else a=t;return{pathname:a,search:je(r),hash:Me(i)}}function we(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function Te(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ee(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function De(e){let t=Ee(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Oe(e,t,n,r=!1){let i;typeof e==`string`?i=ee(e):(i={...e},T(!i.pathname||!i.pathname.includes(`?`),Te(`?`,`pathname`,`search`,i)),T(!i.pathname||!i.pathname.includes(`#`),Te(`#`,`pathname`,`hash`,i)),T(!i.search||!i.search.includes(`#`),Te(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=Ce(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var ke=e=>e.join(`/`).replace(/\/\/+/g,`/`),Ae=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),je=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Me=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,Ne=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Pe(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function Fe(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Ie=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function Le(e,t){let n=e;if(typeof n!=`string`||!xe.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Ie)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=be(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{E(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Re=S.createContext(null);Re.displayName=`DataRouter`;var ze=S.createContext(null);ze.displayName=`DataRouterState`;var Be=S.createContext(!1),Ve=S.createContext({isTransitioning:!1});Ve.displayName=`ViewTransition`;var He=S.createContext(new Map);He.displayName=`Fetchers`;var Ue=S.createContext(null);Ue.displayName=`Await`;var We=S.createContext(null);We.displayName=`Navigation`;var Ge=S.createContext(null);Ge.displayName=`Location`;var Ke=S.createContext({outlet:null,matches:[],isDataRoute:!1});Ke.displayName=`Route`;var qe=S.createContext(null);qe.displayName=`RouteError`;var Je=`REACT_ROUTER_ERROR`,Ye=`REDIRECT`,Xe=`ROUTE_ERROR_RESPONSE`;function Ze(e){if(e.startsWith(`${Je}:${Ye}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Qe(e){if(e.startsWith(`${Je}:${Xe}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new Ne(t.status,t.statusText,t.data)}catch{}}function $e(e,{relative:t}={}){T(et(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=S.useContext(We),{hash:i,pathname:a,search:o}=lt(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:ke([n,a])),r.createHref({pathname:s,search:o,hash:i})}function et(){return S.useContext(Ge)!=null}function tt(){return T(et(),`useLocation() may be used only in the context of a <Router> component.`),S.useContext(Ge).location}var nt=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function rt(e){S.useContext(We).static||S.useLayoutEffect(e)}function it(){let{isDataRoute:e}=S.useContext(Ke);return e?Ot():at()}function at(){T(et(),`useNavigate() may be used only in the context of a <Router> component.`);let e=S.useContext(Re),{basename:t,navigator:n}=S.useContext(We),{matches:r}=S.useContext(Ke),{pathname:i}=tt(),a=JSON.stringify(De(r)),o=S.useRef(!1);return rt(()=>{o.current=!0}),S.useCallback((r,s={})=>{if(E(o.current,nt),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=Oe(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:ke([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}var ot=S.createContext(null);function st(e){let t=S.useContext(Ke).outlet;return S.useMemo(()=>t&&S.createElement(ot.Provider,{value:e},t),[t,e])}function ct(){let{matches:e}=S.useContext(Ke),t=e[e.length-1];return t?t.params:{}}function lt(e,{relative:t}={}){let{matches:n}=S.useContext(Ke),{pathname:r}=tt(),i=JSON.stringify(De(n));return S.useMemo(()=>Oe(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function ut(e,t){return dt(e,t)}function dt(e,t,n,r,i){T(et(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=S.useContext(We),{matches:o}=S.useContext(Ke),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;At(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=tt(),p;if(t){let e=typeof t==`string`?ee(t):t;T(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=re(e,{pathname:h});E(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),E(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=vt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ke([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:ke([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?S.createElement(Ge.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function ft(){let e=Dt(),t=Pe(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=S.createElement(S.Fragment,null,S.createElement(`p`,null,` Hey developer `),S.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,S.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,S.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),S.createElement(S.Fragment,null,S.createElement(`h2`,null,`Unexpected Application Error!`),S.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?S.createElement(`pre`,{style:i},n):null,o)}var pt=S.createElement(ft,null),mt=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Qe(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:S.createElement(Ke.Provider,{value:this.props.routeContext},S.createElement(qe.Provider,{value:e,children:this.props.component}));return this.context?S.createElement(gt,{error:e},t):t}};mt.contextType=Be;var ht=new WeakMap;function gt({children:e,error:t}){let{basename:n}=S.useContext(We);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Ze(t.digest);if(e){let r=ht.get(t);if(r)throw r;let i=Le(e.location,n);if(Ie&&!ht.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw ht.set(t,n),n}return S.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function _t({routeContext:e,match:t,children:n}){let r=S.useContext(Re);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Ke.Provider,{value:e},n)}function vt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);T(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Fe(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||pt,s&&(c<0&&i===0?(At(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?S.createElement(r.route.Component,null):r.route.element?r.route.element:e,S.createElement(_t,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?S.createElement(mt,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function yt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bt(e){let t=S.useContext(Re);return T(t,yt(e)),t}function xt(e){let t=S.useContext(ze);return T(t,yt(e)),t}function St(e){let t=S.useContext(Ke);return T(t,yt(e)),t}function Ct(e){let t=St(e),n=t.matches[t.matches.length-1];return T(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function wt(){return Ct(`useRouteId`)}function Tt(){return xt(`useNavigation`).navigation}function Et(){let{matches:e,loaderData:t}=xt(`useMatches`);return S.useMemo(()=>e.map(e=>j(e,t)),[e,t])}function Dt(){let e=S.useContext(qe),t=xt(`useRouteError`),n=Ct(`useRouteError`);return e===void 0?t.errors?.[n]:e}function Ot(){let{router:e}=bt(`useNavigate`),t=Ct(`useNavigate`),n=S.useRef(!1);return rt(()=>{n.current=!0}),S.useCallback(async(r,i={})=>{E(n.current,nt),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var kt={};function At(e,t,n){!t&&!kt[e]&&(kt[e]=!0,E(!1,n))}S.useOptimistic,S.memo(jt);function jt({routes:e,future:t,state:n,onError:r}){return dt(e,void 0,n,r,t)}function Mt({to:e,replace:t,state:n,relative:r}){T(et(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=S.useContext(We);E(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=S.useContext(Ke),{pathname:o}=tt(),s=it(),c=Oe(e,De(a),o,r===`path`),l=JSON.stringify(c);return S.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function Nt(e){return st(e.context)}function Pt(e){T(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Ft({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){T(!et(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=S.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=ee(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=S.useMemo(()=>{let e=be(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return E(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:S.createElement(We.Provider,{value:c},S.createElement(Ge.Provider,{children:t,value:m}))}function It({children:e,location:t}){return ut(Lt(e),t)}function Lt(e,t=[]){let n=[];return S.Children.forEach(e,(e,r)=>{if(!S.isValidElement(e))return;let i=[...t,r];if(e.type===S.Fragment){n.push.apply(n,Lt(e.props.children,i));return}T(e.type===Pt,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),T(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Lt(e.props.children,i)),n.push(a)}),n}var Rt=`get`,zt=`application/x-www-form-urlencoded`;function Bt(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function Vt(e){return Bt(e)&&e.tagName.toLowerCase()===`button`}function Ht(e){return Bt(e)&&e.tagName.toLowerCase()===`form`}function Ut(e){return Bt(e)&&e.tagName.toLowerCase()===`input`}function Wt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gt(e,t){return e.button===0&&(!t||t===`_self`)&&!Wt(e)}var Kt=null;function qt(){if(Kt===null)try{new FormData(document.createElement(`form`),0),Kt=!1}catch{Kt=!0}return Kt}var Jt=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function Yt(e){return e!=null&&!Jt.has(e)?(E(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zt}"`),null):e}function Xt(e,t){let n,r,i,a,o;if(Ht(e)){let o=e.getAttribute(`action`);r=o?be(o,t):null,n=e.getAttribute(`method`)||Rt,i=Yt(e.getAttribute(`enctype`))||zt,a=new FormData(e)}else if(Vt(e)||Ut(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?be(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Rt,i=Yt(e.getAttribute(`formenctype`))||Yt(o.getAttribute(`enctype`))||zt,a=new FormData(o,e),!qt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Bt(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Rt,r=null,i=zt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);function Zt(e,t){if(e===!1||e==null)throw Error(t)}function Qt(e,t,n){let r=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return r.pathname===`/`?r.pathname=`_root.${n}`:t&&be(r.pathname,t)===`/`?r.pathname=`${t.replace(/\/$/,``)}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,``)}.${n}`,r}async function $t(e,t){if(e.id in t)return t[e.id];try{let n=await x(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function en(e){return e!=null&&typeof e.page==`string`}function tn(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function nn(e,t,n){return cn((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await $t(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(tn).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function rn(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function an(e,t,{includeHydrateFallback:n}={}){return on(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function on(e){return[...new Set(e)]}function sn(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function cn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!en(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(sn(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function ln(){let e=S.useContext(Re);return Zt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function un(){let e=S.useContext(ze);return Zt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var dn=S.createContext(void 0);dn.displayName=`FrameworkContext`;function fn(){let e=S.useContext(dn);return Zt(e,`You must render this element inside a <HydratedRouter> element`),e}function pn(e,t){let n=S.useContext(dn),[r,i]=S.useState(!1),[a,o]=S.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=S.useRef(null);S.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),S.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:mn(s,p),onBlur:mn(c,m),onMouseEnter:mn(l,p),onMouseLeave:mn(u,m),onTouchStart:mn(d,p)}]:[a,f,{}]:[!1,f,{}]}function mn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hn({page:e,...t}){let{router:n}=ln(),r=S.useMemo(()=>re(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?S.createElement(_n,{page:e,matches:r,...t}):null}function gn(e){let{manifest:t,routeModules:n}=fn(),[r,i]=S.useState([]);return S.useEffect(()=>{let r=!1;return nn(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function _n({page:e,matches:t,...n}){let r=tt(),{manifest:i,routeModules:a}=fn(),{basename:o}=ln(),{loaderData:s,matches:c}=un(),l=S.useMemo(()=>rn(e,t,c,i,r,`data`),[e,t,c,i,r]),u=S.useMemo(()=>rn(e,t,c,i,r,`assets`),[e,t,c,i,r]),d=S.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,c=!1;if(t.forEach(e=>{let t=i.routes[e.route.id];!t||!t.hasLoader||(!l.some(t=>t.route.id===e.route.id)&&e.route.id in s&&a[e.route.id]?.shouldRevalidate||t.hasClientLoader?c=!0:n.add(e.route.id))}),n.size===0)return[];let u=Qt(e,o,`data`);return c&&n.size>0&&u.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[u.pathname+u.search]},[o,s,r,i,l,t,e,a]),f=S.useMemo(()=>an(u,i),[u,i]),p=gn(u);return S.createElement(S.Fragment,null,d.map(e=>S.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),f.map(e=>S.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),p.map(({key:e,link:t})=>S.createElement(`link`,{key:e,nonce:n.nonce,...t})))}function vn(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var yn=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{yn&&(window.__reactRouterVersion=`7.11.0`)}catch{}function bn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=S.useRef();i.current??=w({window:r,v5Compat:!0});let a=i.current,[o,s]=S.useState({action:a.action,location:a.location}),c=S.useCallback(e=>{n===!1?s(e):S.startTransition(()=>s(e))},[n]);return S.useLayoutEffect(()=>a.listen(c),[a,c]),S.createElement(Ft,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function xn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=S.useState({action:n.action,location:n.location}),o=S.useCallback(e=>{r===!1?a(e):S.startTransition(()=>a(e))},[r]);return S.useLayoutEffect(()=>n.listen(o),[n,o]),S.createElement(Ft,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}xn.displayName=`unstable_HistoryRouter`;var Sn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=S.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=S.useContext(We),g=typeof c==`string`&&Sn.test(c),_=Le(c,m);c=_.to;let v=$e(c,{relative:r}),[y,b,x]=pn(n,f),C=An(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=S.createElement(`a`,{...f,...x,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:vn(p,b),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?S.createElement(S.Fragment,null,T,S.createElement(hn,{page:v})):T});Cn.displayName=`Link`;var wn=S.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=lt(a,{relative:c.relative}),d=tt(),f=S.useContext(ze),{navigator:p,basename:m}=S.useContext(We),h=f!=null&&Bn(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=be(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,b=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,x=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:b,isPending:x,isTransitioning:h},w=b?e:void 0,T;T=typeof n==`function`?n(C):[n,b?`active`:null,x?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return S.createElement(Cn,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});wn.displayName=`NavLink`;var Tn=S.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Rt,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=S.useContext(We),g=Nn(),_=Pn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&Sn.test(s);return S.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?S.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});Tn.displayName=`Form`;function En({getKey:e,storageKey:t,...n}){let r=S.useContext(dn),{basename:i}=S.useContext(We),a=tt(),o=Et();Rn({getKey:e,storageKey:t});let s=S.useMemo(()=>{if(!r||!e)return null;let t=Ln(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return S.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${JSON.stringify(t||Fn)}, ${JSON.stringify(s)})`}})}En.displayName=`ScrollRestoration`;function Dn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function On(e){let t=S.useContext(Re);return T(t,Dn(e)),t}function kn(e){let t=S.useContext(ze);return T(t,Dn(e)),t}function An(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=it(),u=tt(),d=lt(e,{relative:a});return S.useCallback(f=>{if(Gt(f,t)){f.preventDefault();let t=n===void 0?A(u)===A(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?S.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}var jn=0,Mn=()=>`__${String(++jn)}__`;function Nn(){let{router:e}=On(`useSubmit`),{basename:t}=S.useContext(We),n=wt(),r=e.fetch,i=e.navigate;return S.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Xt(e,t);a.navigate===!1?await r(a.fetcherKey||Mn(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function Pn(e,{relative:t}={}){let{basename:n}=S.useContext(We),r=S.useContext(Ke);T(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...lt(e||`.`,{relative:t})},o=tt();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:ke([n,a.pathname])),A(a)}var Fn=`react-router-scroll-positions`,In={};function Ln(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:be(e.pathname,n)||e.pathname},t)),i??=e.key,i}function Rn({getKey:e,storageKey:t}={}){let{router:n}=On(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=kn(`useScrollRestoration`),{basename:a}=S.useContext(We),o=tt(),s=Et(),c=Tt();S.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),zn(S.useCallback(()=>{if(c.state===`idle`){let t=Ln(o,s,a,e);In[t]=window.scrollY}try{sessionStorage.setItem(t||Fn,JSON.stringify(In))}catch(e){E(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(S.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||Fn);e&&(In=JSON.parse(e))}catch{}},[t]),S.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(In,()=>window.scrollY,e?(t,n)=>Ln(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),S.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{E(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function zn(e,t){let{capture:n}=t||{};S.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function Bn(e,{relative:t}={}){let n=S.useContext(Ve);T(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=On(`useViewTransitionState`),i=lt(e,{relative:t});if(!n.isTransitioning)return!1;let a=be(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=be(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _e(i.pathname,o)!=null||_e(i.pathname,a)!=null}var Vn=_(),Hn=1,Un=1e6,Wn=0;function Gn(){return Wn=(Wn+1)%(2**53-1),Wn.toString()}var Kn=new Map,qn=e=>{if(Kn.has(e))return;let t=setTimeout(()=>{Kn.delete(e),Zn({type:`REMOVE_TOAST`,toastId:e})},Un);Kn.set(e,t)};const Jn=(e,t)=>{switch(t.type){case`ADD_TOAST`:return{...e,toasts:[t.toast,...e.toasts].slice(0,Hn)};case`UPDATE_TOAST`:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case`DISMISS_TOAST`:{let{toastId:n}=t;return n?qn(n):e.toasts.forEach(e=>{qn(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||n===void 0?{...e,open:!1}:e)}}case`REMOVE_TOAST`:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}};var Yn=[],Xn={toasts:[]};function Zn(e){Xn=Jn(Xn,e),Yn.forEach(e=>{e(Xn)})}function Qn({...e}){let t=Gn(),n=e=>Zn({type:`UPDATE_TOAST`,toast:{...e,id:t}}),r=()=>Zn({type:`DISMISS_TOAST`,toastId:t});return Zn({type:`ADD_TOAST`,toast:{...e,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:n}}function $n(){let[e,t]=S.useState(Xn);return S.useEffect(()=>(Yn.push(t),()=>{let e=Yn.indexOf(t);e>-1&&Yn.splice(e,1)}),[e]),{...e,toast:Qn,dismiss:e=>Zn({type:`DISMISS_TOAST`,toastId:e})}}var er=l(h(),1);typeof window<`u`&&window.document&&window.document.createElement;function N(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),n===!1||!r.defaultPrevented)return t?.(r)}}function tr(e,t){if(typeof e==`function`)return e(t);e!=null&&(e.current=t)}function nr(...e){return t=>{let n=!1,r=e.map(e=>{let r=tr(e,t);return!n&&typeof r==`function`&&(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){let n=r[t];typeof n==`function`?n():tr(e[t],null)}}}}function rr(...e){return S.useCallback(nr(...e),e)}var ir=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),P=l(o(((e,t)=>{t.exports=ir()}))(),1);function ar(e,t){let n=S.createContext(t),r=e=>{let{children:t,...r}=e,i=S.useMemo(()=>r,Object.values(r));return(0,P.jsx)(n.Provider,{value:i,children:t})};r.displayName=e+`Provider`;function i(r){let i=S.useContext(n);if(i)return i;if(t!==void 0)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}return[r,i]}function or(e,t=[]){let n=[];function r(t,r){let i=S.createContext(r),a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=S.useMemo(()=>o,Object.values(o));return(0,P.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=S.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>S.createContext(e));return function(n){let r=n?.[e]||t;return S.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,sr(i,...t)]}function sr(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e)[`__scope${r}`];return{...t,...i}},{});return S.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}function cr(e){let t=lr(e),n=S.forwardRef((e,n)=>{let{children:r,...i}=e,a=S.Children.toArray(r),o=a.find(fr);if(o){let e=o.props.children,r=a.map(t=>t===o?S.Children.count(e)>1?S.Children.only(null):S.isValidElement(e)?e.props.children:null:t);return(0,P.jsx)(t,{...i,ref:n,children:S.isValidElement(e)?S.cloneElement(e,void 0,r):null})}return(0,P.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function lr(e){let t=S.forwardRef((e,t)=>{let{children:n,...r}=e;if(S.isValidElement(n)){let e=mr(n),i=pr(r,n.props);return n.type!==S.Fragment&&(i.ref=t?nr(t,e):e),S.cloneElement(n,i)}return S.Children.count(n)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ur=Symbol(`radix.slottable`);function dr(e){let t=({children:e})=>(0,P.jsx)(P.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=ur,t}function fr(e){return S.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===ur}function pr(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function mr(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hr(e){let t=e+`CollectionProvider`,[n,r]=or(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:n}=e,r=S.useRef(null),a=S.useRef(new Map).current;return(0,P.jsx)(i,{scope:t,itemMap:a,collectionRef:r,children:n})};o.displayName=t;let s=e+`CollectionSlot`,c=cr(s),l=S.forwardRef((e,t)=>{let{scope:n,children:r}=e;return(0,P.jsx)(c,{ref:rr(t,a(s,n).collectionRef),children:r})});l.displayName=s;let u=e+`CollectionItemSlot`,d=`data-radix-collection-item`,f=cr(u),p=S.forwardRef((e,t)=>{let{scope:n,children:r,...i}=e,o=S.useRef(null),s=rr(t,o),c=a(u,n);return S.useEffect(()=>(c.itemMap.set(o,{ref:o,...i}),()=>void c.itemMap.delete(o))),(0,P.jsx)(f,{[d]:``,ref:s,children:r})});p.displayName=u;function m(t){let n=a(e+`CollectionConsumer`,t);return S.useCallback(()=>{let e=n.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current))},[n.collectionRef,n.itemMap])}return[{Provider:o,Slot:l,ItemSlot:p},m,r]}var F=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=cr(`Primitive.${t}`),r=S.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,P.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gr(e,t){e&&er.flushSync(()=>e.dispatchEvent(t))}function _r(e){let t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...e)=>t.current?.(...e),[])}function vr(e,t=globalThis?.document){let n=_r(e);S.useEffect(()=>{let e=e=>{e.key===`Escape`&&n(e)};return t.addEventListener(`keydown`,e,{capture:!0}),()=>t.removeEventListener(`keydown`,e,{capture:!0})},[n,t])}var yr=`DismissableLayer`,br=`dismissableLayer.update`,xr=`dismissableLayer.pointerDownOutside`,Sr=`dismissableLayer.focusOutside`,Cr,wr=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tr=S.forwardRef((e,t)=>{let{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,l=S.useContext(wr),[u,d]=S.useState(null),f=u?.ownerDocument??globalThis?.document,[,p]=S.useState({}),m=rr(t,e=>d(e)),h=Array.from(l.layers),[g]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),_=h.indexOf(g),v=u?h.indexOf(u):-1,y=l.layersWithOutsidePointerEventsDisabled.size>0,b=v>=_,x=Or(e=>{let t=e.target,n=[...l.branches].some(e=>e.contains(t));!b||n||(i?.(e),o?.(e),e.defaultPrevented||s?.())},f),C=kr(e=>{let t=e.target;[...l.branches].some(e=>e.contains(t))||(a?.(e),o?.(e),e.defaultPrevented||s?.())},f);return vr(e=>{v===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&s&&(e.preventDefault(),s()))},f),S.useEffect(()=>{if(u)return n&&(l.layersWithOutsidePointerEventsDisabled.size===0&&(Cr=f.body.style.pointerEvents,f.body.style.pointerEvents=`none`),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),Ar(),()=>{n&&l.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Cr)}},[u,f,n,l]),S.useEffect(()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),Ar())},[u,l]),S.useEffect(()=>{let e=()=>p({});return document.addEventListener(br,e),()=>document.removeEventListener(br,e)},[]),(0,P.jsx)(F.div,{...c,ref:m,style:{pointerEvents:y?b?`auto`:`none`:void 0,...e.style},onFocusCapture:N(e.onFocusCapture,C.onFocusCapture),onBlurCapture:N(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,x.onPointerDownCapture)})});Tr.displayName=yr;var Er=`DismissableLayerBranch`,Dr=S.forwardRef((e,t)=>{let n=S.useContext(wr),r=S.useRef(null),i=rr(t,r);return S.useEffect(()=>{let e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,P.jsx)(F.div,{...e,ref:i})});Dr.displayName=Er;function Or(e,t=globalThis?.document){let n=_r(e),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){jr(xr,n,a,{discrete:!0})},a={originalEvent:e};e.pointerType===`touch`?(t.removeEventListener(`click`,i.current),i.current=r,t.addEventListener(`click`,i.current,{once:!0})):r()}else t.removeEventListener(`click`,i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener(`pointerdown`,e)},0);return()=>{window.clearTimeout(a),t.removeEventListener(`pointerdown`,e),t.removeEventListener(`click`,i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function kr(e,t=globalThis?.document){let n=_r(e),r=S.useRef(!1);return S.useEffect(()=>{let e=e=>{e.target&&!r.current&&jr(Sr,n,{originalEvent:e},{discrete:!1})};return t.addEventListener(`focusin`,e),()=>t.removeEventListener(`focusin`,e)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ar(){let e=new CustomEvent(br);document.dispatchEvent(e)}function jr(e,t,n,{discrete:r}){let i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gr(i,a):i.dispatchEvent(a)}var Mr=Tr,Nr=Dr,Pr=globalThis?.document?S.useLayoutEffect:()=>{},Fr=l(h(),1),Ir=`Portal`,Lr=S.forwardRef((e,t)=>{let{container:n,...r}=e,[i,a]=S.useState(!1);Pr(()=>a(!0),[]);let o=n||i&&globalThis?.document?.body;return o?Fr.createPortal((0,P.jsx)(F.div,{...r,ref:t}),o):null});Lr.displayName=Ir;function Rr(e,t){return S.useReducer((e,n)=>t[e][n]??e,e)}var zr=e=>{let{present:t,children:n}=e,r=Br(t),i=typeof n==`function`?n({present:r.isPresent}):S.Children.only(n),a=rr(r.ref,Hr(i));return typeof n==`function`||r.isPresent?S.cloneElement(i,{ref:a}):null};zr.displayName=`Presence`;function Br(e){let[t,n]=S.useState(),r=S.useRef(null),i=S.useRef(e),a=S.useRef(`none`),[o,s]=Rr(e?`mounted`:`unmounted`,{mounted:{UNMOUNT:`unmounted`,ANIMATION_OUT:`unmountSuspended`},unmountSuspended:{MOUNT:`mounted`,ANIMATION_END:`unmounted`},unmounted:{MOUNT:`mounted`}});return S.useEffect(()=>{let e=Vr(r.current);a.current=o===`mounted`?e:`none`},[o]),Pr(()=>{let t=r.current,n=i.current;if(n!==e){let r=a.current,o=Vr(t);e?s(`MOUNT`):o===`none`||t?.display===`none`?s(`UNMOUNT`):s(n&&r!==o?`ANIMATION_OUT`:`UNMOUNT`),i.current=e}},[e,s]),Pr(()=>{if(t){let e,n=t.ownerDocument.defaultView??window,o=a=>{let o=Vr(r.current).includes(CSS.escape(a.animationName));if(a.target===t&&o&&(s(`ANIMATION_END`),!i.current)){let r=t.style.animationFillMode;t.style.animationFillMode=`forwards`,e=n.setTimeout(()=>{t.style.animationFillMode===`forwards`&&(t.style.animationFillMode=r)})}},c=e=>{e.target===t&&(a.current=Vr(r.current))};return t.addEventListener(`animationstart`,c),t.addEventListener(`animationcancel`,o),t.addEventListener(`animationend`,o),()=>{n.clearTimeout(e),t.removeEventListener(`animationstart`,c),t.removeEventListener(`animationcancel`,o),t.removeEventListener(`animationend`,o)}}else s(`ANIMATION_END`)},[t,s]),{isPresent:[`mounted`,`unmountSuspended`].includes(o),ref:S.useCallback(e=>{r.current=e?getComputedStyle(e):null,n(e)},[])}}function Vr(e){return e?.animationName||`none`}function Hr(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ur=S.useInsertionEffect||Pr;function Wr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){let[i,a,o]=Gr({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:i;{let t=S.useRef(e!==void 0);S.useEffect(()=>{let e=t.current;if(e!==s){let t=e?`controlled`:`uncontrolled`,n=s?`controlled`:`uncontrolled`;console.warn(`${r} is changing from ${t} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=s},[s,r])}return[c,S.useCallback(t=>{if(s){let n=Kr(t)?t(e):t;n!==e&&o.current?.(n)}else a(t)},[s,e,a,o])]}function Gr({defaultProp:e,onChange:t}){let[n,r]=S.useState(e),i=S.useRef(n),a=S.useRef(t);return Ur(()=>{a.current=t},[t]),S.useEffect(()=>{i.current!==n&&(a.current?.(n),i.current=n)},[n,i]),[n,r,a]}function Kr(e){return typeof e==`function`}var qr=Object.freeze({position:`absolute`,border:0,width:1,height:1,padding:0,margin:-1,overflow:`hidden`,clip:`rect(0, 0, 0, 0)`,whiteSpace:`nowrap`,wordWrap:`normal`}),Jr=`VisuallyHidden`,Yr=S.forwardRef((e,t)=>(0,P.jsx)(F.span,{...e,ref:t,style:{...qr,...e.style}}));Yr.displayName=Jr;var Xr=Yr,Zr=l(h(),1),Qr=`ToastProvider`,[$r,ei,ti]=hr(`Toast`),[ni,ri]=or(`Toast`,[ti]),[ii,ai]=ni(Qr),oi=e=>{let{__scopeToast:t,label:n=`Notification`,duration:r=5e3,swipeDirection:i=`right`,swipeThreshold:a=50,children:o}=e,[s,c]=S.useState(null),[l,u]=S.useState(0),d=S.useRef(!1),f=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Qr}\`. Expected non-empty \`string\`.`),(0,P.jsx)($r.Provider,{scope:t,children:(0,P.jsx)(ii,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:l,viewport:s,onViewportChange:c,onToastAdd:S.useCallback(()=>u(e=>e+1),[]),onToastRemove:S.useCallback(()=>u(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};oi.displayName=Qr;var si=`ToastViewport`,ci=[`F8`],li=`toast.viewportPause`,ui=`toast.viewportResume`,di=S.forwardRef((e,t)=>{let{__scopeToast:n,hotkey:r=ci,label:i=`Notifications ({hotkey})`,...a}=e,o=ai(si,n),s=ei(n),c=S.useRef(null),l=S.useRef(null),u=S.useRef(null),d=S.useRef(null),f=rr(t,d,o.onViewportChange),p=r.join(`+`).replace(/Key/g,``).replace(/Digit/g,``),m=o.toastCount>0;S.useEffect(()=>{let e=e=>{r.length!==0&&r.every(t=>e[t]||e.code===t)&&d.current?.focus()};return document.addEventListener(`keydown`,e),()=>document.removeEventListener(`keydown`,e)},[r]),S.useEffect(()=>{let e=c.current,t=d.current;if(m&&e&&t){let n=()=>{if(!o.isClosePausedRef.current){let e=new CustomEvent(li);t.dispatchEvent(e),o.isClosePausedRef.current=!0}},r=()=>{if(o.isClosePausedRef.current){let e=new CustomEvent(ui);t.dispatchEvent(e),o.isClosePausedRef.current=!1}},i=t=>{e.contains(t.relatedTarget)||r()},a=()=>{e.contains(document.activeElement)||r()};return e.addEventListener(`focusin`,n),e.addEventListener(`focusout`,i),e.addEventListener(`pointermove`,n),e.addEventListener(`pointerleave`,a),window.addEventListener(`blur`,n),window.addEventListener(`focus`,r),()=>{e.removeEventListener(`focusin`,n),e.removeEventListener(`focusout`,i),e.removeEventListener(`pointermove`,n),e.removeEventListener(`pointerleave`,a),window.removeEventListener(`blur`,n),window.removeEventListener(`focus`,r)}}},[m,o.isClosePausedRef]);let h=S.useCallback(({tabbingDirection:e})=>{let t=s().map(t=>{let n=t.ref.current,r=[n,...Ri(n)];return e===`forwards`?r:r.reverse()});return(e===`forwards`?t.reverse():t).flat()},[s]);return S.useEffect(()=>{let e=d.current;if(e){let t=t=>{let n=t.altKey||t.ctrlKey||t.metaKey;if(t.key===`Tab`&&!n){let n=document.activeElement,r=t.shiftKey;if(t.target===e&&r){l.current?.focus();return}let i=h({tabbingDirection:r?`backwards`:`forwards`}),a=i.findIndex(e=>e===n);zi(i.slice(a+1))?t.preventDefault():r?l.current?.focus():u.current?.focus()}};return e.addEventListener(`keydown`,t),()=>e.removeEventListener(`keydown`,t)}},[s,h]),(0,P.jsxs)(Nr,{ref:c,role:`region`,"aria-label":i.replace(`{hotkey}`,p),tabIndex:-1,style:{pointerEvents:m?void 0:`none`},children:[m&&(0,P.jsx)(pi,{ref:l,onFocusFromOutsideViewport:()=>{zi(h({tabbingDirection:`forwards`}))}}),(0,P.jsx)($r.Slot,{scope:n,children:(0,P.jsx)(F.ol,{tabIndex:-1,...a,ref:f})}),m&&(0,P.jsx)(pi,{ref:u,onFocusFromOutsideViewport:()=>{zi(h({tabbingDirection:`backwards`}))}})]})});di.displayName=si;var fi=`ToastFocusProxy`,pi=S.forwardRef((e,t)=>{let{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=ai(fi,n);return(0,P.jsx)(Yr,{tabIndex:0,...i,ref:t,style:{position:`fixed`},onFocus:e=>{let t=e.relatedTarget;a.viewport?.contains(t)||r()}})});pi.displayName=fi;var mi=`Toast`,hi=`toast.swipeStart`,gi=`toast.swipeMove`,_i=`toast.swipeCancel`,vi=`toast.swipeEnd`,yi=S.forwardRef((e,t)=>{let{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[s,c]=Wr({prop:r,defaultProp:i??!0,onChange:a,caller:mi});return(0,P.jsx)(zr,{present:n||s,children:(0,P.jsx)(Si,{open:s,...o,ref:t,onClose:()=>c(!1),onPause:_r(e.onPause),onResume:_r(e.onResume),onSwipeStart:N(e.onSwipeStart,e=>{e.currentTarget.setAttribute(`data-swipe`,`start`)}),onSwipeMove:N(e.onSwipeMove,e=>{let{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute(`data-swipe`,`move`),e.currentTarget.style.setProperty(`--radix-toast-swipe-move-x`,`${t}px`),e.currentTarget.style.setProperty(`--radix-toast-swipe-move-y`,`${n}px`)}),onSwipeCancel:N(e.onSwipeCancel,e=>{e.currentTarget.setAttribute(`data-swipe`,`cancel`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-move-x`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-move-y`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-end-x`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-end-y`)}),onSwipeEnd:N(e.onSwipeEnd,e=>{let{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute(`data-swipe`,`end`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-move-x`),e.currentTarget.style.removeProperty(`--radix-toast-swipe-move-y`),e.currentTarget.style.setProperty(`--radix-toast-swipe-end-x`,`${t}px`),e.currentTarget.style.setProperty(`--radix-toast-swipe-end-y`,`${n}px`),c(!1)})})})});yi.displayName=mi;var[bi,xi]=ni(mi,{onClose(){}}),Si=S.forwardRef((e,t)=>{let{__scopeToast:n,type:r=`foreground`,duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:p,...m}=e,h=ai(mi,n),[g,_]=S.useState(null),v=rr(t,e=>_(e)),y=S.useRef(null),b=S.useRef(null),x=i||h.duration,C=S.useRef(0),w=S.useRef(x),T=S.useRef(0),{onToastAdd:E,onToastRemove:D}=h,O=_r(()=>{g?.contains(document.activeElement)&&h.viewport?.focus(),o()}),k=S.useCallback(e=>{!e||e===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(O,e))},[O]);S.useEffect(()=>{let e=h.viewport;if(e){let t=()=>{k(w.current),l?.()},n=()=>{let e=new Date().getTime()-C.current;w.current-=e,window.clearTimeout(T.current),c?.()};return e.addEventListener(li,n),e.addEventListener(ui,t),()=>{e.removeEventListener(li,n),e.removeEventListener(ui,t)}}},[h.viewport,x,c,l,k]),S.useEffect(()=>{a&&!h.isClosePausedRef.current&&k(x)},[a,x,h.isClosePausedRef,k]),S.useEffect(()=>(E(),()=>D()),[E,D]);let A=S.useMemo(()=>g?Ni(g):null,[g]);return h.viewport?(0,P.jsxs)(P.Fragment,{children:[A&&(0,P.jsx)(Ci,{__scopeToast:n,role:`status`,"aria-live":r===`foreground`?`assertive`:`polite`,children:A}),(0,P.jsx)(bi,{scope:n,onClose:O,children:Zr.createPortal((0,P.jsx)($r.ItemSlot,{scope:n,children:(0,P.jsx)(Mr,{asChild:!0,onEscapeKeyDown:N(s,()=>{h.isFocusedToastEscapeKeyDownRef.current||O(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,P.jsx)(F.li,{tabIndex:0,"data-state":a?`open`:`closed`,"data-swipe-direction":h.swipeDirection,...m,ref:v,style:{userSelect:`none`,touchAction:`none`,...e.style},onKeyDown:N(e.onKeyDown,e=>{e.key===`Escape`&&(s?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:N(e.onPointerDown,e=>{e.button===0&&(y.current={x:e.clientX,y:e.clientY})}),onPointerMove:N(e.onPointerMove,e=>{if(!y.current)return;let t=e.clientX-y.current.x,n=e.clientY-y.current.y,r=!!b.current,i=[`left`,`right`].includes(h.swipeDirection),a=[`left`,`up`].includes(h.swipeDirection)?Math.min:Math.max,o=i?a(0,t):0,s=i?0:a(0,n),c=e.pointerType===`touch`?10:2,l={x:o,y:s},f={originalEvent:e,delta:l};r?(b.current=l,Pi(gi,d,f,{discrete:!1})):Fi(l,h.swipeDirection,c)?(b.current=l,Pi(hi,u,f,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(n)>c)&&(y.current=null)}),onPointerUp:N(e.onPointerUp,e=>{let t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,y.current=null,t){let n=e.currentTarget,r={originalEvent:e,delta:t};Fi(t,h.swipeDirection,h.swipeThreshold)?Pi(vi,p,r,{discrete:!0}):Pi(_i,f,r,{discrete:!0}),n.addEventListener(`click`,e=>e.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),Ci=e=>{let{__scopeToast:t,children:n,...r}=e,i=ai(mi,t),[a,o]=S.useState(!1),[s,c]=S.useState(!1);return Ii(()=>o(!0)),S.useEffect(()=>{let e=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(e)},[]),s?null:(0,P.jsx)(Lr,{asChild:!0,children:(0,P.jsx)(Yr,{...r,children:a&&(0,P.jsxs)(P.Fragment,{children:[i.label,` `,n]})})})},wi=`ToastTitle`,Ti=S.forwardRef((e,t)=>{let{__scopeToast:n,...r}=e;return(0,P.jsx)(F.div,{...r,ref:t})});Ti.displayName=wi;var Ei=`ToastDescription`,Di=S.forwardRef((e,t)=>{let{__scopeToast:n,...r}=e;return(0,P.jsx)(F.div,{...r,ref:t})});Di.displayName=Ei;var Oi=`ToastAction`,ki=S.forwardRef((e,t)=>{let{altText:n,...r}=e;return n.trim()?(0,P.jsx)(Mi,{altText:n,asChild:!0,children:(0,P.jsx)(ji,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Oi}\`. Expected non-empty \`string\`.`),null)});ki.displayName=Oi;var Ai=`ToastClose`,ji=S.forwardRef((e,t)=>{let{__scopeToast:n,...r}=e,i=xi(Ai,n);return(0,P.jsx)(Mi,{asChild:!0,children:(0,P.jsx)(F.button,{type:`button`,...r,ref:t,onClick:N(e.onClick,i.onClose)})})});ji.displayName=Ai;var Mi=S.forwardRef((e,t)=>{let{__scopeToast:n,altText:r,...i}=e;return(0,P.jsx)(F.div,{"data-radix-toast-announce-exclude":``,"data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Ni(e){let t=[];return Array.from(e.childNodes).forEach(e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),Li(e)){let n=e.ariaHidden||e.hidden||e.style.display===`none`,r=e.dataset.radixToastAnnounceExclude===``;if(!n)if(r){let n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...Ni(e))}}),t}function Pi(e,t,n,{discrete:r}){let i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gr(i,a):i.dispatchEvent(a)}var Fi=(e,t,n=0)=>{let r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t===`left`||t===`right`?a&&r>n:!a&&i>n};function Ii(e=()=>{}){let t=_r(e);Pr(()=>{let e=0,n=0;return e=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(n)}},[t])}function Li(e){return e.nodeType===e.ELEMENT_NODE}function Ri(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zi(e){let t=document.activeElement;return e.some(e=>e===t?!0:(e.focus(),document.activeElement!==t))}var Bi=oi,Vi=di,Hi=yi,Ui=Ti,Wi=Di,Gi=ki,Ki=ji;function qi(e){var t,n,r=``;if(typeof e==`string`||typeof e==`number`)r+=e;else if(typeof e==`object`)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qi(e[t]))&&(r&&(r+=` `),r+=n)}else for(n in e)e[n]&&(r&&(r+=` `),r+=n);return r}function Ji(){for(var e,t,n=0,r=``,i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qi(e))&&(r&&(r+=` `),r+=t);return r}var Yi=e=>typeof e==`boolean`?`${e}`:e===0?`0`:e;const Xi=Ji,Zi=(e,t)=>n=>{if(t?.variants==null)return Xi(e,n?.class,n?.className);let{variants:r,defaultVariants:i}=t,a=Object.keys(r).map(e=>{let t=n?.[e],a=i?.[e];if(t===null)return null;let o=Yi(t)||Yi(a);return r[e][o]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return r===void 0||(e[n]=r),e},{});return Xi(e,a,t?.compoundVariants?.reduce((e,t)=>{let{class:n,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n})?[...e,n,r]:e},[]),n?.class,n?.className)};var Qi=e=>e.replace(/([a-z0-9])([A-Z])/g,`$1-$2`).toLowerCase(),$i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),ea=e=>{let t=$i(e);return t.charAt(0).toUpperCase()+t.slice(1)},ta=(...e)=>e.filter((e,t,n)=>!!e&&e.trim()!==``&&n.indexOf(e)===t).join(` `).trim(),na=e=>{for(let t in e)if(t.startsWith(`aria-`)||t===`role`||t===`title`)return!0},ra={xmlns:`http://www.w3.org/2000/svg`,width:24,height:24,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:2,strokeLinecap:`round`,strokeLinejoin:`round`},ia=(0,S.forwardRef)(({color:e=`currentColor`,size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i=``,children:a,iconNode:o,...s},c)=>(0,S.createElement)(`svg`,{ref:c,...ra,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ta(`lucide`,i),...!a&&!na(s)&&{"aria-hidden":`true`},...s},[...o.map(([e,t])=>(0,S.createElement)(e,t)),...Array.isArray(a)?a:[a]])),I=(e,t)=>{let n=(0,S.forwardRef)(({className:n,...r},i)=>(0,S.createElement)(ia,{ref:i,iconNode:t,className:ta(`lucide-${Qi(ea(e))}`,`lucide-${e}`,n),...r}));return n.displayName=ea(e),n},aa=I(`activity`,[[`path`,{d:`M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2`,key:`169zse`}]]),oa=I(`arrow-left`,[[`path`,{d:`m12 19-7-7 7-7`,key:`1l729n`}],[`path`,{d:`M19 12H5`,key:`x3x0zl`}]]),sa=I(`arrow-right`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`m12 5 7 7-7 7`,key:`xquz4c`}]]),ca=I(`banknote`,[[`rect`,{width:`20`,height:`12`,x:`2`,y:`6`,rx:`2`,key:`9lu3g6`}],[`circle`,{cx:`12`,cy:`12`,r:`2`,key:`1c9p78`}],[`path`,{d:`M6 12h.01M18 12h.01`,key:`113zkx`}]]),la=I(`bell`,[[`path`,{d:`M10.268 21a2 2 0 0 0 3.464 0`,key:`vwvbt9`}],[`path`,{d:`M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326`,key:`11g9vi`}]]),ua=I(`building-2`,[[`path`,{d:`M10 12h4`,key:`a56b0p`}],[`path`,{d:`M10 8h4`,key:`1sr2af`}],[`path`,{d:`M14 21v-3a2 2 0 0 0-4 0v3`,key:`1rgiei`}],[`path`,{d:`M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2`,key:`secmi2`}],[`path`,{d:`M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16`,key:`16ra0t`}]]),da=I(`building`,[[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M12 6h.01`,key:`1vi96p`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M16 6h.01`,key:`1x0f13`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M8 6h.01`,key:`1dz90k`}],[`path`,{d:`M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3`,key:`cabbwy`}],[`rect`,{x:`4`,y:`2`,width:`16`,height:`20`,rx:`2`,key:`1uxh74`}]]),fa=I(`calculator`,[[`rect`,{width:`16`,height:`20`,x:`4`,y:`2`,rx:`2`,key:`1nb95v`}],[`line`,{x1:`8`,x2:`16`,y1:`6`,y2:`6`,key:`x4nwl0`}],[`line`,{x1:`16`,x2:`16`,y1:`14`,y2:`18`,key:`wjye3r`}],[`path`,{d:`M16 10h.01`,key:`1m94wz`}],[`path`,{d:`M12 10h.01`,key:`1nrarc`}],[`path`,{d:`M8 10h.01`,key:`19clt8`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}]]),pa=I(`calendar-days`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}],[`path`,{d:`M8 14h.01`,key:`6423bh`}],[`path`,{d:`M12 14h.01`,key:`1etili`}],[`path`,{d:`M16 14h.01`,key:`1gbofw`}],[`path`,{d:`M8 18h.01`,key:`lrp35t`}],[`path`,{d:`M12 18h.01`,key:`mhygvu`}],[`path`,{d:`M16 18h.01`,key:`kzsmim`}]]),ma=I(`calendar`,[[`path`,{d:`M8 2v4`,key:`1cmpym`}],[`path`,{d:`M16 2v4`,key:`4m81vk`}],[`rect`,{width:`18`,height:`18`,x:`3`,y:`4`,rx:`2`,key:`1hopcy`}],[`path`,{d:`M3 10h18`,key:`8toen8`}]]),ha=I(`camera`,[[`path`,{d:`M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z`,key:`18u6gg`}],[`circle`,{cx:`12`,cy:`13`,r:`3`,key:`1vg3eu`}]]),ga=I(`check`,[[`path`,{d:`M20 6 9 17l-5-5`,key:`1gmf2c`}]]),_a=I(`chevron-down`,[[`path`,{d:`m6 9 6 6 6-6`,key:`qrunsl`}]]),va=I(`chevron-left`,[[`path`,{d:`m15 18-6-6 6-6`,key:`1wnfg3`}]]),ya=I(`chevron-right`,[[`path`,{d:`m9 18 6-6-6-6`,key:`mthhwq`}]]),ba=I(`chevron-up`,[[`path`,{d:`m18 15-6-6-6 6`,key:`153udz`}]]),xa=I(`circle-alert`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`line`,{x1:`12`,x2:`12`,y1:`8`,y2:`12`,key:`1pkeuh`}],[`line`,{x1:`12`,x2:`12.01`,y1:`16`,y2:`16`,key:`4dfq90`}]]),Sa=I(`circle-check-big`,[[`path`,{d:`M21.801 10A10 10 0 1 1 17 3.335`,key:`yps3ct`}],[`path`,{d:`m9 11 3 3L22 4`,key:`1pflzl`}]]),Ca=I(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),wa=I(`circle-x`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m15 9-6 6`,key:`1uzhvr`}],[`path`,{d:`m9 9 6 6`,key:`z0biqf`}]]),Ta=I(`circle`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Ea=I(`clock`,[[`path`,{d:`M12 6v6l4 2`,key:`mmk7yg`}],[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}]]),Da=I(`cloud-upload`,[[`path`,{d:`M12 13v8`,key:`1l5pq0`}],[`path`,{d:`M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242`,key:`1pljnt`}],[`path`,{d:`m8 17 4-4 4 4`,key:`1quai1`}]]),Oa=I(`contact`,[[`path`,{d:`M16 2v2`,key:`scm5qe`}],[`path`,{d:`M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2`,key:`1waht3`}],[`path`,{d:`M8 2v2`,key:`pbkmx`}],[`circle`,{cx:`12`,cy:`11`,r:`3`,key:`itu57m`}],[`rect`,{x:`3`,y:`4`,width:`18`,height:`18`,rx:`2`,key:`12vinp`}]]),ka=I(`credit-card`,[[`rect`,{width:`20`,height:`14`,x:`2`,y:`5`,rx:`2`,key:`ynyp8z`}],[`line`,{x1:`2`,x2:`22`,y1:`10`,y2:`10`,key:`1b3vmo`}]]),Aa=I(`dollar-sign`,[[`line`,{x1:`12`,x2:`12`,y1:`2`,y2:`22`,key:`7eqyqh`}],[`path`,{d:`M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6`,key:`1b0p4s`}]]),ja=I(`download`,[[`path`,{d:`M12 15V3`,key:`m9g1x1`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}],[`path`,{d:`m7 10 5 5 5-5`,key:`brsn70`}]]),Ma=I(`eye`,[[`path`,{d:`M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0`,key:`1nclc0`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),Na=I(`file-check`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`m9 15 2 2 4-4`,key:`1grp1n`}]]),Pa=I(`file-exclamation-point`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),Fa=I(`file-text`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}],[`path`,{d:`M10 9H8`,key:`b1mrlr`}],[`path`,{d:`M16 13H8`,key:`t4e002`}],[`path`,{d:`M16 17H8`,key:`z1uh3a`}]]),Ia=I(`file`,[[`path`,{d:`M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z`,key:`1oefj6`}],[`path`,{d:`M14 2v5a1 1 0 0 0 1 1h5`,key:`wfsgrz`}]]),La=I(`funnel`,[[`path`,{d:`M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z`,key:`sc7q7i`}]]),Ra=I(`hard-hat`,[[`path`,{d:`M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5`,key:`1p9q5i`}],[`path`,{d:`M14 6a6 6 0 0 1 6 6v3`,key:`1hnv84`}],[`path`,{d:`M4 15v-3a6 6 0 0 1 6-6`,key:`9ciidu`}],[`rect`,{x:`2`,y:`15`,width:`20`,height:`4`,rx:`1`,key:`g3x8cw`}]]),za=I(`house`,[[`path`,{d:`M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8`,key:`5wwlr5`}],[`path`,{d:`M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z`,key:`r6nss1`}]]),Ba=I(`key`,[[`path`,{d:`m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4`,key:`g0fldk`}],[`path`,{d:`m21 2-9.6 9.6`,key:`1j0ho8`}],[`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`,key:`yqb3hr`}]]),Va=I(`landmark`,[[`path`,{d:`M10 18v-7`,key:`wt116b`}],[`path`,{d:`M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z`,key:`1m329m`}],[`path`,{d:`M14 18v-7`,key:`vav6t3`}],[`path`,{d:`M18 18v-7`,key:`aexdmj`}],[`path`,{d:`M3 22h18`,key:`8prr45`}],[`path`,{d:`M6 18v-7`,key:`1ivflk`}]]),Ha=I(`layout-dashboard`,[[`rect`,{width:`7`,height:`9`,x:`3`,y:`3`,rx:`1`,key:`10lvy0`}],[`rect`,{width:`7`,height:`5`,x:`14`,y:`3`,rx:`1`,key:`16une8`}],[`rect`,{width:`7`,height:`9`,x:`14`,y:`12`,rx:`1`,key:`1hutg5`}],[`rect`,{width:`7`,height:`5`,x:`3`,y:`16`,rx:`1`,key:`ldoo1y`}]]),Ua=I(`loader-circle`,[[`path`,{d:`M21 12a9 9 0 1 1-6.219-8.56`,key:`13zald`}]]),Wa=I(`lock`,[[`rect`,{width:`18`,height:`11`,x:`3`,y:`11`,rx:`2`,ry:`2`,key:`1w4ew1`}],[`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`,key:`fwvmzm`}]]),Ga=I(`log-out`,[[`path`,{d:`m16 17 5-5-5-5`,key:`1bji2h`}],[`path`,{d:`M21 12H9`,key:`dn1m92`}],[`path`,{d:`M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4`,key:`1uf3rs`}]]),Ka=I(`mail`,[[`path`,{d:`m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7`,key:`132q7q`}],[`rect`,{x:`2`,y:`4`,width:`20`,height:`16`,rx:`2`,key:`izxlao`}]]),qa=I(`map-pin`,[[`path`,{d:`M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0`,key:`1r0f0z`}],[`circle`,{cx:`12`,cy:`10`,r:`3`,key:`ilqhr7`}]]),Ja=I(`panel-left`,[[`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`,key:`afitv7`}],[`path`,{d:`M9 3v18`,key:`fh3hqa`}]]),Ya=I(`paperclip`,[[`path`,{d:`m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551`,key:`1miecu`}]]),Xa=I(`pen`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}]]),Za=I(`pencil`,[[`path`,{d:`M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z`,key:`1a8usu`}],[`path`,{d:`m15 5 4 4`,key:`1mk7zo`}]]),Qa=I(`phone`,[[`path`,{d:`M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384`,key:`9njp5v`}]]),$a=I(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),eo=I(`rotate-ccw`,[[`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`,key:`1357e3`}],[`path`,{d:`M3 3v5h5`,key:`1xhq8a`}]]),to=I(`save`,[[`path`,{d:`M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z`,key:`1c8476`}],[`path`,{d:`M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7`,key:`1ydtos`}],[`path`,{d:`M7 3v4a1 1 0 0 0 1 1h7`,key:`t51u73`}]]),no=I(`search`,[[`path`,{d:`m21 21-4.34-4.34`,key:`14j7rj`}],[`circle`,{cx:`11`,cy:`11`,r:`8`,key:`4ej97u`}]]),ro=I(`settings`,[[`path`,{d:`M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915`,key:`1i5ecw`}],[`circle`,{cx:`12`,cy:`12`,r:`3`,key:`1v7zrd`}]]),io=I(`shield-alert`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`M12 8v4`,key:`1got3b`}],[`path`,{d:`M12 16h.01`,key:`1drbdi`}]]),ao=I(`shield-check`,[[`path`,{d:`M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z`,key:`oel41y`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),oo=I(`square-pen`,[[`path`,{d:`M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7`,key:`1m0v6g`}],[`path`,{d:`M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z`,key:`ohrbg2`}]]),so=I(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),co=I(`triangle-alert`,[[`path`,{d:`m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3`,key:`wmoenq`}],[`path`,{d:`M12 9v4`,key:`juzpu7`}],[`path`,{d:`M12 17h.01`,key:`p32p05`}]]),lo=I(`truck`,[[`path`,{d:`M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2`,key:`wrbu53`}],[`path`,{d:`M15 18H9`,key:`1lyqi6`}],[`path`,{d:`M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14`,key:`lysw3i`}],[`circle`,{cx:`17`,cy:`18`,r:`2`,key:`332jqn`}],[`circle`,{cx:`7`,cy:`18`,r:`2`,key:`19iecd`}]]),uo=I(`upload`,[[`path`,{d:`M12 3v12`,key:`1x0j5s`}],[`path`,{d:`m17 8-5-5-5 5`,key:`7q97r8`}],[`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`,key:`ih7n3h`}]]),fo=I(`user-check`,[[`path`,{d:`m16 11 2 2 4-4`,key:`9rsbq5`}],[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),po=I(`user-x`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}],[`line`,{x1:`17`,x2:`22`,y1:`8`,y2:`13`,key:`3nzzx3`}],[`line`,{x1:`22`,x2:`17`,y1:`8`,y2:`13`,key:`1swrse`}]]),mo=I(`user`,[[`path`,{d:`M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2`,key:`975kel`}],[`circle`,{cx:`12`,cy:`7`,r:`4`,key:`17ys0d`}]]),ho=I(`users`,[[`path`,{d:`M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2`,key:`1yyitq`}],[`path`,{d:`M16 3.128a4 4 0 0 1 0 7.744`,key:`16gr8j`}],[`path`,{d:`M22 21v-2a4 4 0 0 0-3-3.87`,key:`kshegd`}],[`circle`,{cx:`9`,cy:`7`,r:`4`,key:`nufk8`}]]),go=I(`wrench`,[[`path`,{d:`M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z`,key:`1ngwbx`}]]),L=I(`x`,[[`path`,{d:`M18 6 6 18`,key:`1bl5f8`}],[`path`,{d:`m6 6 12 12`,key:`d8bk6v`}]]),_o=`-`,vo=e=>{let t=So(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let n=e.split(_o);return n[0]===``&&n.length!==1&&n.shift(),yo(n,t)||xo(e)},getConflictingClassGroupIds:(e,t)=>{let i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},yo=(e,t)=>{if(e.length===0)return t.classGroupId;let n=e[0],r=t.nextPart.get(n),i=r?yo(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;let a=e.join(_o);return t.validators.find(({validator:e})=>e(a))?.classGroupId},bo=/^\[(.+)\]$/,xo=e=>{if(bo.test(e)){let t=bo.exec(e)[1],n=t?.substring(0,t.indexOf(`:`));if(n)return`arbitrary..`+n}},So=e=>{let{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Eo(Object.entries(e.classGroups),n).forEach(([e,n])=>{Co(n,r,e,t)}),r},Co=(e,t,n,r)=>{e.forEach(e=>{if(typeof e==`string`){let r=e===``?t:wo(t,e);r.classGroupId=n;return}if(typeof e==`function`){if(To(e)){Co(e(r),t,n,r);return}t.validators.push({validator:e,classGroupId:n});return}Object.entries(e).forEach(([e,i])=>{Co(i,wo(t,e),n,r)})})},wo=(e,t)=>{let n=e;return t.split(_o).forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},To=e=>e.isThemeGetter,Eo=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>typeof e==`string`?t+e:typeof e==`object`?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Do=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,n=new Map,r=new Map,i=(i,a)=>{n.set(i,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);if(t!==void 0)return t;if((t=r.get(e))!==void 0)return i(e,t),t},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Oo=`!`,ko=e=>{let{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=e=>{let n=[],o=0,s=0,c;for(let l=0;l<e.length;l++){let u=e[l];if(o===0){if(u===i&&(r||e.slice(l,l+a)===t)){n.push(e.slice(s,l)),s=l+a;continue}if(u===`/`){c=l;continue}}u===`[`?o++:u===`]`&&o--}let l=n.length===0?e:e.substring(s),u=l.startsWith(Oo);return{modifiers:n,hasImportantModifier:u,baseClassName:u?l.substring(1):l,maybePostfixModifierPosition:c&&c>s?c-s:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Ao=e=>{if(e.length<=1)return e;let t=[],n=[];return e.forEach(e=>{e[0]===`[`?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},jo=e=>({cache:Do(e.cacheSize),parseClassName:ko(e),...vo(e)}),Mo=/\s+/,No=(e,t)=>{let{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(Mo),s=``;for(let e=o.length-1;e>=0;--e){let t=o[e],{modifiers:c,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(t),f=!!d,p=r(f?u.substring(0,d):u);if(!p){if(!f){s=t+(s.length>0?` `+s:s);continue}if(p=r(u),!p){s=t+(s.length>0?` `+s:s);continue}f=!1}let m=Ao(c).join(`:`),h=l?m+Oo:m,g=h+p;if(a.includes(g))continue;a.push(g);let _=i(p,f);for(let e=0;e<_.length;++e){let t=_[e];a.push(h+t)}s=t+(s.length>0?` `+s:s)}return s};function Po(){let e=0,t,n,r=``;for(;e<arguments.length;)(t=arguments[e++])&&(n=Fo(t))&&(r&&(r+=` `),r+=n);return r}var Fo=e=>{if(typeof e==`string`)return e;let t,n=``;for(let r=0;r<e.length;r++)e[r]&&(t=Fo(e[r]))&&(n&&(n+=` `),n+=t);return n};function Io(e,...t){let n,r,i,a=o;function o(o){return n=jo(t.reduce((e,t)=>t(e),e())),r=n.cache.get,i=n.cache.set,a=s,s(o)}function s(e){let t=r(e);if(t)return t;let a=No(e,n);return i(e,a),a}return function(){return a(Po.apply(null,arguments))}}var Lo=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ro=/^\[(?:([a-z-]+):)?(.+)\]$/i,zo=/^\d+\/\d+$/,Bo=new Set([`px`,`full`,`screen`]),Vo=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ho=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Uo=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Wo=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Go=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=e=>Jo(e)||Bo.has(e)||zo.test(e),qo=e=>ss(e,`length`,cs),Jo=e=>!!e&&!Number.isNaN(Number(e)),Yo=e=>ss(e,`number`,Jo),Xo=e=>!!e&&Number.isInteger(Number(e)),Zo=e=>e.endsWith(`%`)&&Jo(e.slice(0,-1)),Qo=e=>Ro.test(e),$o=e=>Vo.test(e),es=new Set([`length`,`size`,`percentage`]),ts=e=>ss(e,es,ls),ns=e=>ss(e,`position`,ls),rs=new Set([`image`,`url`]),is=e=>ss(e,rs,ds),as=e=>ss(e,``,us),os=()=>!0,ss=(e,t,n)=>{let r=Ro.exec(e);return r?r[1]?typeof t==`string`?r[1]===t:t.has(r[1]):n(r[2]):!1},cs=e=>Ho.test(e)&&!Uo.test(e),ls=()=>!1,us=e=>Wo.test(e),ds=e=>Go.test(e),fs=Io(()=>{let e=Lo(`colors`),t=Lo(`spacing`),n=Lo(`blur`),r=Lo(`brightness`),i=Lo(`borderColor`),a=Lo(`borderRadius`),o=Lo(`borderSpacing`),s=Lo(`borderWidth`),c=Lo(`contrast`),l=Lo(`grayscale`),u=Lo(`hueRotate`),d=Lo(`invert`),f=Lo(`gap`),p=Lo(`gradientColorStops`),m=Lo(`gradientColorStopPositions`),h=Lo(`inset`),g=Lo(`margin`),_=Lo(`opacity`),v=Lo(`padding`),y=Lo(`saturate`),b=Lo(`scale`),x=Lo(`sepia`),S=Lo(`skew`),C=Lo(`space`),w=Lo(`translate`),T=()=>[`auto`,`contain`,`none`],E=()=>[`auto`,`hidden`,`clip`,`visible`,`scroll`],D=()=>[`auto`,Qo,t],O=()=>[Qo,t],k=()=>[``,Ko,qo],A=()=>[`auto`,Jo,Qo],ee=()=>[`bottom`,`center`,`left`,`left-bottom`,`left-top`,`right`,`right-bottom`,`right-top`,`top`],te=()=>[`solid`,`dashed`,`dotted`,`double`,`none`],ne=()=>[`normal`,`multiply`,`screen`,`overlay`,`darken`,`lighten`,`color-dodge`,`color-burn`,`hard-light`,`soft-light`,`difference`,`exclusion`,`hue`,`saturation`,`color`,`luminosity`],re=()=>[`start`,`end`,`center`,`between`,`around`,`evenly`,`stretch`],ie=()=>[``,`0`,Qo],j=()=>[`auto`,`avoid`,`all`,`avoid-page`,`page`,`left`,`right`,`column`],M=()=>[Jo,Qo];return{cacheSize:500,separator:`:`,theme:{colors:[os],spacing:[Ko,qo],blur:[`none`,``,$o,Qo],brightness:M(),borderColor:[e],borderRadius:[`none`,``,`full`,$o,Qo],borderSpacing:O(),borderWidth:k(),contrast:M(),grayscale:ie(),hueRotate:M(),invert:ie(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[Zo,qo],inset:D(),margin:D(),opacity:M(),padding:O(),saturate:M(),scale:M(),sepia:ie(),skew:M(),space:O(),translate:O()},classGroups:{aspect:[{aspect:[`auto`,`square`,`video`,Qo]}],container:[`container`],columns:[{columns:[$o]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":[`auto`,`avoid`,`avoid-page`,`avoid-column`]}],"box-decoration":[{"box-decoration":[`slice`,`clone`]}],box:[{box:[`border`,`content`]}],display:[`block`,`inline-block`,`inline`,`flex`,`inline-flex`,`table`,`inline-table`,`table-caption`,`table-cell`,`table-column`,`table-column-group`,`table-footer-group`,`table-header-group`,`table-row-group`,`table-row`,`flow-root`,`grid`,`inline-grid`,`contents`,`list-item`,`hidden`],float:[{float:[`right`,`left`,`none`,`start`,`end`]}],clear:[{clear:[`left`,`right`,`both`,`none`,`start`,`end`]}],isolation:[`isolate`,`isolation-auto`],"object-fit":[{object:[`contain`,`cover`,`fill`,`none`,`scale-down`]}],"object-position":[{object:[...ee(),Qo]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:[`static`,`fixed`,`absolute`,`relative`,`sticky`],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:[`visible`,`invisible`,`collapse`],z:[{z:[`auto`,Xo,Qo]}],basis:[{basis:D()}],"flex-direction":[{flex:[`row`,`row-reverse`,`col`,`col-reverse`]}],"flex-wrap":[{flex:[`wrap`,`wrap-reverse`,`nowrap`]}],flex:[{flex:[`1`,`auto`,`initial`,`none`,Qo]}],grow:[{grow:ie()}],shrink:[{shrink:ie()}],order:[{order:[`first`,`last`,`none`,Xo,Qo]}],"grid-cols":[{"grid-cols":[os]}],"col-start-end":[{col:[`auto`,{span:[`full`,Xo,Qo]},Qo]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[os]}],"row-start-end":[{row:[`auto`,{span:[Xo,Qo]},Qo]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":[`row`,`col`,`dense`,`row-dense`,`col-dense`]}],"auto-cols":[{"auto-cols":[`auto`,`min`,`max`,`fr`,Qo]}],"auto-rows":[{"auto-rows":[`auto`,`min`,`max`,`fr`,Qo]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:[`normal`,...re()]}],"justify-items":[{"justify-items":[`start`,`end`,`center`,`stretch`]}],"justify-self":[{"justify-self":[`auto`,`start`,`end`,`center`,`stretch`]}],"align-content":[{content:[`normal`,...re(),`baseline`]}],"align-items":[{items:[`start`,`end`,`center`,`baseline`,`stretch`]}],"align-self":[{self:[`auto`,`start`,`end`,`center`,`stretch`,`baseline`]}],"place-content":[{"place-content":[...re(),`baseline`]}],"place-items":[{"place-items":[`start`,`end`,`center`,`baseline`,`stretch`]}],"place-self":[{"place-self":[`auto`,`start`,`end`,`center`,`stretch`]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[C]}],"space-x-reverse":[`space-x-reverse`],"space-y":[{"space-y":[C]}],"space-y-reverse":[`space-y-reverse`],w:[{w:[`auto`,`min`,`max`,`fit`,`svw`,`lvw`,`dvw`,Qo,t]}],"min-w":[{"min-w":[Qo,t,`min`,`max`,`fit`]}],"max-w":[{"max-w":[Qo,t,`none`,`full`,`min`,`max`,`fit`,`prose`,{screen:[$o]},$o]}],h:[{h:[Qo,t,`auto`,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],"min-h":[{"min-h":[Qo,t,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],"max-h":[{"max-h":[Qo,t,`min`,`max`,`fit`,`svh`,`lvh`,`dvh`]}],size:[{size:[Qo,t,`auto`,`min`,`max`,`fit`]}],"font-size":[{text:[`base`,$o,qo]}],"font-smoothing":[`antialiased`,`subpixel-antialiased`],"font-style":[`italic`,`not-italic`],"font-weight":[{font:[`thin`,`extralight`,`light`,`normal`,`medium`,`semibold`,`bold`,`extrabold`,`black`,Yo]}],"font-family":[{font:[os]}],"fvn-normal":[`normal-nums`],"fvn-ordinal":[`ordinal`],"fvn-slashed-zero":[`slashed-zero`],"fvn-figure":[`lining-nums`,`oldstyle-nums`],"fvn-spacing":[`proportional-nums`,`tabular-nums`],"fvn-fraction":[`diagonal-fractions`,`stacked-fractions`],tracking:[{tracking:[`tighter`,`tight`,`normal`,`wide`,`wider`,`widest`,Qo]}],"line-clamp":[{"line-clamp":[`none`,Jo,Yo]}],leading:[{leading:[`none`,`tight`,`snug`,`normal`,`relaxed`,`loose`,Ko,Qo]}],"list-image":[{"list-image":[`none`,Qo]}],"list-style-type":[{list:[`none`,`disc`,`decimal`,Qo]}],"list-style-position":[{list:[`inside`,`outside`]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:[`left`,`center`,`right`,`justify`,`start`,`end`]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":[`underline`,`overline`,`line-through`,`no-underline`],"text-decoration-style":[{decoration:[...te(),`wavy`]}],"text-decoration-thickness":[{decoration:[`auto`,`from-font`,Ko,qo]}],"underline-offset":[{"underline-offset":[`auto`,Ko,Qo]}],"text-decoration-color":[{decoration:[e]}],"text-transform":[`uppercase`,`lowercase`,`capitalize`,`normal-case`],"text-overflow":[`truncate`,`text-ellipsis`,`text-clip`],"text-wrap":[{text:[`wrap`,`nowrap`,`balance`,`pretty`]}],indent:[{indent:O()}],"vertical-align":[{align:[`baseline`,`top`,`middle`,`bottom`,`text-top`,`text-bottom`,`sub`,`super`,Qo]}],whitespace:[{whitespace:[`normal`,`nowrap`,`pre`,`pre-line`,`pre-wrap`,`break-spaces`]}],break:[{break:[`normal`,`words`,`all`,`keep`]}],hyphens:[{hyphens:[`none`,`manual`,`auto`]}],content:[{content:[`none`,Qo]}],"bg-attachment":[{bg:[`fixed`,`local`,`scroll`]}],"bg-clip":[{"bg-clip":[`border`,`padding`,`content`,`text`]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":[`border`,`padding`,`content`]}],"bg-position":[{bg:[...ee(),ns]}],"bg-repeat":[{bg:[`no-repeat`,{repeat:[``,`x`,`y`,`round`,`space`]}]}],"bg-size":[{bg:[`auto`,`cover`,`contain`,ts]}],"bg-image":[{bg:[`none`,{"gradient-to":[`t`,`tr`,`r`,`br`,`b`,`bl`,`l`,`tl`]},is]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),`hidden`]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":[`divide-x-reverse`],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":[`divide-y-reverse`],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[``,...te()]}],"outline-offset":[{"outline-offset":[Ko,Qo]}],"outline-w":[{outline:[Ko,qo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:k()}],"ring-w-inset":[`ring-inset`],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ko,qo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:[``,`inner`,`none`,$o,as]}],"shadow-color":[{shadow:[os]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),`plus-lighter`,`plus-darker`]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:[``,`none`]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":[``,`none`,$o,Qo]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":[``,`none`]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:[`collapse`,`separate`]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:[`auto`,`fixed`]}],caption:[{caption:[`top`,`bottom`]}],transition:[{transition:[`none`,`all`,``,`colors`,`opacity`,`shadow`,`transform`,Qo]}],duration:[{duration:M()}],ease:[{ease:[`linear`,`in`,`out`,`in-out`,Qo]}],delay:[{delay:M()}],animate:[{animate:[`none`,`spin`,`ping`,`pulse`,`bounce`,Qo]}],transform:[{transform:[``,`gpu`,`none`]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Xo,Qo]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:[`center`,`top`,`top-right`,`right`,`bottom-right`,`bottom`,`bottom-left`,`left`,`top-left`,Qo]}],accent:[{accent:[`auto`,e]}],appearance:[{appearance:[`none`,`auto`]}],cursor:[{cursor:[`auto`,`default`,`pointer`,`wait`,`text`,`move`,`help`,`not-allowed`,`none`,`context-menu`,`progress`,`cell`,`crosshair`,`vertical-text`,`alias`,`copy`,`no-drop`,`grab`,`grabbing`,`all-scroll`,`col-resize`,`row-resize`,`n-resize`,`e-resize`,`s-resize`,`w-resize`,`ne-resize`,`nw-resize`,`se-resize`,`sw-resize`,`ew-resize`,`ns-resize`,`nesw-resize`,`nwse-resize`,`zoom-in`,`zoom-out`,Qo]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":[`none`,`auto`]}],resize:[{resize:[`none`,`y`,`x`,``]}],"scroll-behavior":[{scroll:[`auto`,`smooth`]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:[`start`,`end`,`center`,`align-none`]}],"snap-stop":[{snap:[`normal`,`always`]}],"snap-type":[{snap:[`none`,`x`,`y`,`both`]}],"snap-strictness":[{snap:[`mandatory`,`proximity`]}],touch:[{touch:[`auto`,`none`,`manipulation`]}],"touch-x":[{"touch-pan":[`x`,`left`,`right`]}],"touch-y":[{"touch-pan":[`y`,`up`,`down`]}],"touch-pz":[`touch-pinch-zoom`],select:[{select:[`none`,`text`,`all`,`auto`]}],"will-change":[{"will-change":[`auto`,`scroll`,`contents`,`transform`,Qo]}],fill:[{fill:[e,`none`]}],"stroke-w":[{stroke:[Ko,qo,Yo]}],stroke:[{stroke:[e,`none`]}],sr:[`sr-only`,`not-sr-only`],"forced-color-adjust":[{"forced-color-adjust":[`auto`,`none`]}]},conflictingClassGroups:{overflow:[`overflow-x`,`overflow-y`],overscroll:[`overscroll-x`,`overscroll-y`],inset:[`inset-x`,`inset-y`,`start`,`end`,`top`,`right`,`bottom`,`left`],"inset-x":[`right`,`left`],"inset-y":[`top`,`bottom`],flex:[`basis`,`grow`,`shrink`],gap:[`gap-x`,`gap-y`],p:[`px`,`py`,`ps`,`pe`,`pt`,`pr`,`pb`,`pl`],px:[`pr`,`pl`],py:[`pt`,`pb`],m:[`mx`,`my`,`ms`,`me`,`mt`,`mr`,`mb`,`ml`],mx:[`mr`,`ml`],my:[`mt`,`mb`],size:[`w`,`h`],"font-size":[`leading`],"fvn-normal":[`fvn-ordinal`,`fvn-slashed-zero`,`fvn-figure`,`fvn-spacing`,`fvn-fraction`],"fvn-ordinal":[`fvn-normal`],"fvn-slashed-zero":[`fvn-normal`],"fvn-figure":[`fvn-normal`],"fvn-spacing":[`fvn-normal`],"fvn-fraction":[`fvn-normal`],"line-clamp":[`display`,`overflow`],rounded:[`rounded-s`,`rounded-e`,`rounded-t`,`rounded-r`,`rounded-b`,`rounded-l`,`rounded-ss`,`rounded-se`,`rounded-ee`,`rounded-es`,`rounded-tl`,`rounded-tr`,`rounded-br`,`rounded-bl`],"rounded-s":[`rounded-ss`,`rounded-es`],"rounded-e":[`rounded-se`,`rounded-ee`],"rounded-t":[`rounded-tl`,`rounded-tr`],"rounded-r":[`rounded-tr`,`rounded-br`],"rounded-b":[`rounded-br`,`rounded-bl`],"rounded-l":[`rounded-tl`,`rounded-bl`],"border-spacing":[`border-spacing-x`,`border-spacing-y`],"border-w":[`border-w-s`,`border-w-e`,`border-w-t`,`border-w-r`,`border-w-b`,`border-w-l`],"border-w-x":[`border-w-r`,`border-w-l`],"border-w-y":[`border-w-t`,`border-w-b`],"border-color":[`border-color-s`,`border-color-e`,`border-color-t`,`border-color-r`,`border-color-b`,`border-color-l`],"border-color-x":[`border-color-r`,`border-color-l`],"border-color-y":[`border-color-t`,`border-color-b`],"scroll-m":[`scroll-mx`,`scroll-my`,`scroll-ms`,`scroll-me`,`scroll-mt`,`scroll-mr`,`scroll-mb`,`scroll-ml`],"scroll-mx":[`scroll-mr`,`scroll-ml`],"scroll-my":[`scroll-mt`,`scroll-mb`],"scroll-p":[`scroll-px`,`scroll-py`,`scroll-ps`,`scroll-pe`,`scroll-pt`,`scroll-pr`,`scroll-pb`,`scroll-pl`],"scroll-px":[`scroll-pr`,`scroll-pl`],"scroll-py":[`scroll-pt`,`scroll-pb`],touch:[`touch-x`,`touch-y`,`touch-pz`],"touch-x":[`touch`],"touch-y":[`touch`],"touch-pz":[`touch`]},conflictingClassGroupModifiers:{"font-size":[`leading`]}}});const ps=6048e5,ms=3600*24;ms*7,ms*365.2425;const hs=Symbol.for(`constructDateFrom`);function gs(e,t){return typeof e==`function`?e(t):e&&typeof e==`object`&&hs in e?e[hs](t):e instanceof Date?new e.constructor(t):new Date(t)}function _s(e,t){return gs(t||e,e)}function vs(e,t,n){let r=_s(e,n?.in);return isNaN(t)?gs(n?.in||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function ys(e,t,n){let r=_s(e,n?.in);if(isNaN(t))return gs(n?.in||e,NaN);if(!t)return r;let i=r.getDate(),a=gs(n?.in||e,r.getTime());return a.setMonth(r.getMonth()+t+1,0),i>=a.getDate()?a:(r.setFullYear(a.getFullYear(),a.getMonth(),i),r)}var bs={};function xs(){return bs}function Ss(e,t){let n=xs(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_s(e,t?.in),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Cs(e,t){return Ss(e,{...t,weekStartsOn:1})}function ws(e,t){let n=_s(e,t?.in),r=n.getFullYear(),i=gs(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let a=Cs(i),o=gs(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);let s=Cs(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=s.getTime()?r:r-1}function Ts(e){let t=_s(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-+n}function Es(e,...t){let n=gs.bind(null,e||t.find(e=>typeof e==`object`));return t.map(n)}function Ds(e,t){let n=_s(e,t?.in);return n.setHours(0,0,0,0),n}function Os(e,t,n){let[r,i]=Es(n?.in,e,t),a=Ds(r),o=Ds(i),s=+a-Ts(a),c=+o-Ts(o);return Math.round((s-c)/864e5)}function ks(e,t){let n=ws(e,t),r=gs(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Cs(r)}function As(e,t,n){return vs(e,t*7,n)}function js(e,t,n){return ys(e,t*12,n)}function Ms(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=gs.bind(null,e));let t=_s(e,r);(!n||n<t||isNaN(+t))&&(n=t)}),gs(r,n||NaN)}function Ns(e,t){let n,r=t?.in;return e.forEach(e=>{!r&&typeof e==`object`&&(r=gs.bind(null,e));let t=_s(e,r);(!n||n>t||isNaN(+t))&&(n=t)}),gs(r,n||NaN)}function Ps(e,t,n){let[r,i]=Es(n?.in,e,t);return+Ds(r)==+Ds(i)}function Fs(e){return e instanceof Date||typeof e==`object`&&Object.prototype.toString.call(e)===`[object Date]`}function Is(e){return!(!Fs(e)&&typeof e!=`number`||isNaN(+_s(e)))}function Ls(e,t,n){let[r,i]=Es(n?.in,e,t),a=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return a*12+o}function Rs(e,t,n){let[r,i]=Es(n?.in,e,t),a=zs(r,i),o=Math.abs(Os(r,i));r.setDate(r.getDate()-a*o);let s=a*(o-Number(zs(r,i)===-a));return s===0?0:s}function zs(e,t){let n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Bs(e,t){let n=_s(e,t?.in);return n.setHours(23,59,59,999),n}function Vs(e,t){let n=_s(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Hs(e,t){let[n,r]=Es(e,t.start,t.end);return{start:n,end:r}}function Us(e,t){let{start:n,end:r}=Hs(t?.in,e),i=+n>+r,a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let s=t?.step??1;if(!s)return[];s<0&&(s=-s,i=!i);let c=[];for(;+o<=a;)c.push(gs(n,o)),o.setMonth(o.getMonth()+s);return i?c.reverse():c}function Ws(e,t){let n=_s(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Gs(e,t){let n=_s(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function Ks(e,t){let n=_s(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function qs(e,t){let{start:n,end:r}=Hs(t?.in,e),i=+n>+r,a=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setMonth(0,1);let s=t?.step??1;if(!s)return[];s<0&&(s=-s,i=!i);let c=[];for(;+o<=a;)c.push(gs(n,o)),o.setFullYear(o.getFullYear()+s);return i?c.reverse():c}function Js(e,t){let n=xs(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=_s(e,t?.in),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Ys(e,t){return Js(e,{...t,weekStartsOn:1})}var Xs={lessThanXSeconds:{one:`less than a second`,other:`less than {{count}} seconds`},xSeconds:{one:`1 second`,other:`{{count}} seconds`},halfAMinute:`half a minute`,lessThanXMinutes:{one:`less than a minute`,other:`less than {{count}} minutes`},xMinutes:{one:`1 minute`,other:`{{count}} minutes`},aboutXHours:{one:`about 1 hour`,other:`about {{count}} hours`},xHours:{one:`1 hour`,other:`{{count}} hours`},xDays:{one:`1 day`,other:`{{count}} days`},aboutXWeeks:{one:`about 1 week`,other:`about {{count}} weeks`},xWeeks:{one:`1 week`,other:`{{count}} weeks`},aboutXMonths:{one:`about 1 month`,other:`about {{count}} months`},xMonths:{one:`1 month`,other:`{{count}} months`},aboutXYears:{one:`about 1 year`,other:`about {{count}} years`},xYears:{one:`1 year`,other:`{{count}} years`},overXYears:{one:`over 1 year`,other:`over {{count}} years`},almostXYears:{one:`almost 1 year`,other:`almost {{count}} years`}};const Zs=(e,t,n)=>{let r,i=Xs[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?`in `+r:r+` ago`:r};function Qs(e){return(t={})=>{let n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const $s={date:Qs({formats:{full:`EEEE, MMMM do, y`,long:`MMMM do, y`,medium:`MMM d, y`,short:`MM/dd/yyyy`},defaultWidth:`full`}),time:Qs({formats:{full:`h:mm:ss a zzzz`,long:`h:mm:ss a z`,medium:`h:mm:ss a`,short:`h:mm a`},defaultWidth:`full`}),dateTime:Qs({formats:{full:`{{date}} 'at' {{time}}`,long:`{{date}} 'at' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var ec={lastWeek:`'last' eeee 'at' p`,yesterday:`'yesterday at' p`,today:`'today at' p`,tomorrow:`'tomorrow at' p`,nextWeek:`eeee 'at' p`,other:`P`};const tc=(e,t,n,r)=>ec[e];function nc(e){return(t,n)=>{let r=n?.context?String(n.context):`standalone`,i;if(r===`formatting`&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,r=n?.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{let t=e.defaultWidth,r=n?.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}let a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const rc={ordinalNumber:(e,t)=>{let n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+`st`;case 2:return n+`nd`;case 3:return n+`rd`}return n+`th`},era:nc({values:{narrow:[`B`,`A`],abbreviated:[`BC`,`AD`],wide:[`Before Christ`,`Anno Domini`]},defaultWidth:`wide`}),quarter:nc({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`Q1`,`Q2`,`Q3`,`Q4`],wide:[`1st quarter`,`2nd quarter`,`3rd quarter`,`4th quarter`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:nc({values:{narrow:[`J`,`F`,`M`,`A`,`M`,`J`,`J`,`A`,`S`,`O`,`N`,`D`],abbreviated:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],wide:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`]},defaultWidth:`wide`}),day:nc({values:{narrow:[`S`,`M`,`T`,`W`,`T`,`F`,`S`],short:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],abbreviated:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],wide:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`]},defaultWidth:`wide`}),dayPeriod:nc({values:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mi`,noon:`n`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},abbreviated:{am:`AM`,pm:`PM`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`midnight`,noon:`noon`,morning:`in the morning`,afternoon:`in the afternoon`,evening:`in the evening`,night:`at night`}},defaultFormattingWidth:`wide`})};function ic(e){return(t,n={})=>{let r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;let o=a[0],s=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(s)?oc(s,e=>e.test(o)):ac(s,e=>e.test(o)),l;l=e.valueCallback?e.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;let u=t.slice(o.length);return{value:l,rest:u}}}function ac(e,t){for(let n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function oc(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function sc(e){return(t,n={})=>{let r=t.match(e.matchPattern);if(!r)return null;let i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;let s=t.slice(i.length);return{value:o,rest:s}}}const cc={code:`en-US`,formatDistance:Zs,formatLong:$s,formatRelative:tc,localize:rc,match:{ordinalNumber:sc({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:ic({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:`any`}),quarter:ic({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:ic({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:`any`}),day:ic({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:`any`}),dayPeriod:ic({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:`any`})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function lc(e,t){let n=_s(e,t?.in);return Os(n,Ks(n))+1}function uc(e,t){let n=_s(e,t?.in),r=Cs(n)-+ks(n);return Math.round(r/ps)+1}function dc(e,t){let n=_s(e,t?.in),r=n.getFullYear(),i=xs(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=gs(t?.in||e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);let s=Ss(o,t),c=gs(t?.in||e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);let l=Ss(c,t);return+n>=+s?r+1:+n>=+l?r:r-1}function fc(e,t){let n=xs(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=dc(e,t),a=gs(t?.in||e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Ss(a,t)}function pc(e,t){let n=_s(e,t?.in),r=Ss(n,t)-+fc(n,t);return Math.round(r/ps)+1}function mc(e,t){return(e<0?`-`:``)+Math.abs(e).toString().padStart(t,`0`)}const hc={y(e,t){let n=e.getFullYear(),r=n>0?n:1-n;return mc(t===`yy`?r%100:r,t.length)},M(e,t){let n=e.getMonth();return t===`M`?String(n+1):mc(n+1,2)},d(e,t){return mc(e.getDate(),t.length)},a(e,t){let n=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.toUpperCase();case`aaa`:return n;case`aaaaa`:return n[0];case`aaaa`:default:return n===`am`?`a.m.`:`p.m.`}},h(e,t){return mc(e.getHours()%12||12,t.length)},H(e,t){return mc(e.getHours(),t.length)},m(e,t){return mc(e.getMinutes(),t.length)},s(e,t){return mc(e.getSeconds(),t.length)},S(e,t){let n=t.length,r=e.getMilliseconds();return mc(Math.trunc(r*10**(n-3)),t.length)}};var gc={am:`am`,pm:`pm`,midnight:`midnight`,noon:`noon`,morning:`morning`,afternoon:`afternoon`,evening:`evening`,night:`night`};const _c={G:function(e,t,n){let r=e.getFullYear()>0?1:0;switch(t){case`G`:case`GG`:case`GGG`:return n.era(r,{width:`abbreviated`});case`GGGGG`:return n.era(r,{width:`narrow`});case`GGGG`:default:return n.era(r,{width:`wide`})}},y:function(e,t,n){if(t===`yo`){let t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:`year`})}return hc.y(e,t)},Y:function(e,t,n,r){let i=dc(e,r),a=i>0?i:1-i;return t===`YY`?mc(a%100,2):t===`Yo`?n.ordinalNumber(a,{unit:`year`}):mc(a,t.length)},R:function(e,t){return mc(ws(e),t.length)},u:function(e,t){return mc(e.getFullYear(),t.length)},Q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`Q`:return String(r);case`QQ`:return mc(r,2);case`Qo`:return n.ordinalNumber(r,{unit:`quarter`});case`QQQ`:return n.quarter(r,{width:`abbreviated`,context:`formatting`});case`QQQQQ`:return n.quarter(r,{width:`narrow`,context:`formatting`});case`QQQQ`:default:return n.quarter(r,{width:`wide`,context:`formatting`})}},q:function(e,t,n){let r=Math.ceil((e.getMonth()+1)/3);switch(t){case`q`:return String(r);case`qq`:return mc(r,2);case`qo`:return n.ordinalNumber(r,{unit:`quarter`});case`qqq`:return n.quarter(r,{width:`abbreviated`,context:`standalone`});case`qqqqq`:return n.quarter(r,{width:`narrow`,context:`standalone`});case`qqqq`:default:return n.quarter(r,{width:`wide`,context:`standalone`})}},M:function(e,t,n){let r=e.getMonth();switch(t){case`M`:case`MM`:return hc.M(e,t);case`Mo`:return n.ordinalNumber(r+1,{unit:`month`});case`MMM`:return n.month(r,{width:`abbreviated`,context:`formatting`});case`MMMMM`:return n.month(r,{width:`narrow`,context:`formatting`});case`MMMM`:default:return n.month(r,{width:`wide`,context:`formatting`})}},L:function(e,t,n){let r=e.getMonth();switch(t){case`L`:return String(r+1);case`LL`:return mc(r+1,2);case`Lo`:return n.ordinalNumber(r+1,{unit:`month`});case`LLL`:return n.month(r,{width:`abbreviated`,context:`standalone`});case`LLLLL`:return n.month(r,{width:`narrow`,context:`standalone`});case`LLLL`:default:return n.month(r,{width:`wide`,context:`standalone`})}},w:function(e,t,n,r){let i=pc(e,r);return t===`wo`?n.ordinalNumber(i,{unit:`week`}):mc(i,t.length)},I:function(e,t,n){let r=uc(e);return t===`Io`?n.ordinalNumber(r,{unit:`week`}):mc(r,t.length)},d:function(e,t,n){return t===`do`?n.ordinalNumber(e.getDate(),{unit:`date`}):hc.d(e,t)},D:function(e,t,n){let r=lc(e);return t===`Do`?n.ordinalNumber(r,{unit:`dayOfYear`}):mc(r,t.length)},E:function(e,t,n){let r=e.getDay();switch(t){case`E`:case`EE`:case`EEE`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`EEEEE`:return n.day(r,{width:`narrow`,context:`formatting`});case`EEEEEE`:return n.day(r,{width:`short`,context:`formatting`});case`EEEE`:default:return n.day(r,{width:`wide`,context:`formatting`})}},e:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`e`:return String(a);case`ee`:return mc(a,2);case`eo`:return n.ordinalNumber(a,{unit:`day`});case`eee`:return n.day(i,{width:`abbreviated`,context:`formatting`});case`eeeee`:return n.day(i,{width:`narrow`,context:`formatting`});case`eeeeee`:return n.day(i,{width:`short`,context:`formatting`});case`eeee`:default:return n.day(i,{width:`wide`,context:`formatting`})}},c:function(e,t,n,r){let i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case`c`:return String(a);case`cc`:return mc(a,t.length);case`co`:return n.ordinalNumber(a,{unit:`day`});case`ccc`:return n.day(i,{width:`abbreviated`,context:`standalone`});case`ccccc`:return n.day(i,{width:`narrow`,context:`standalone`});case`cccccc`:return n.day(i,{width:`short`,context:`standalone`});case`cccc`:default:return n.day(i,{width:`wide`,context:`standalone`})}},i:function(e,t,n){let r=e.getDay(),i=r===0?7:r;switch(t){case`i`:return String(i);case`ii`:return mc(i,t.length);case`io`:return n.ordinalNumber(i,{unit:`day`});case`iii`:return n.day(r,{width:`abbreviated`,context:`formatting`});case`iiiii`:return n.day(r,{width:`narrow`,context:`formatting`});case`iiiiii`:return n.day(r,{width:`short`,context:`formatting`});case`iiii`:default:return n.day(r,{width:`wide`,context:`formatting`})}},a:function(e,t,n){let r=e.getHours()/12>=1?`pm`:`am`;switch(t){case`a`:case`aa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`});case`aaa`:return n.dayPeriod(r,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`aaaaa`:return n.dayPeriod(r,{width:`narrow`,context:`formatting`});case`aaaa`:default:return n.dayPeriod(r,{width:`wide`,context:`formatting`})}},b:function(e,t,n){let r=e.getHours(),i;switch(i=r===12?gc.noon:r===0?gc.midnight:r/12>=1?`pm`:`am`,t){case`b`:case`bb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`bbb`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`}).toLowerCase();case`bbbbb`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`bbbb`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},B:function(e,t,n){let r=e.getHours(),i;switch(i=r>=17?gc.evening:r>=12?gc.afternoon:r>=4?gc.morning:gc.night,t){case`B`:case`BB`:case`BBB`:return n.dayPeriod(i,{width:`abbreviated`,context:`formatting`});case`BBBBB`:return n.dayPeriod(i,{width:`narrow`,context:`formatting`});case`BBBB`:default:return n.dayPeriod(i,{width:`wide`,context:`formatting`})}},h:function(e,t,n){if(t===`ho`){let t=e.getHours()%12;return t===0&&(t=12),n.ordinalNumber(t,{unit:`hour`})}return hc.h(e,t)},H:function(e,t,n){return t===`Ho`?n.ordinalNumber(e.getHours(),{unit:`hour`}):hc.H(e,t)},K:function(e,t,n){let r=e.getHours()%12;return t===`Ko`?n.ordinalNumber(r,{unit:`hour`}):mc(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t===`ko`?n.ordinalNumber(r,{unit:`hour`}):mc(r,t.length)},m:function(e,t,n){return t===`mo`?n.ordinalNumber(e.getMinutes(),{unit:`minute`}):hc.m(e,t)},s:function(e,t,n){return t===`so`?n.ordinalNumber(e.getSeconds(),{unit:`second`}):hc.s(e,t)},S:function(e,t){return hc.S(e,t)},X:function(e,t,n){let r=e.getTimezoneOffset();if(r===0)return`Z`;switch(t){case`X`:return yc(r);case`XXXX`:case`XX`:return bc(r);case`XXXXX`:case`XXX`:default:return bc(r,`:`)}},x:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`x`:return yc(r);case`xxxx`:case`xx`:return bc(r);case`xxxxx`:case`xxx`:default:return bc(r,`:`)}},O:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`O`:case`OO`:case`OOO`:return`GMT`+vc(r,`:`);case`OOOO`:default:return`GMT`+bc(r,`:`)}},z:function(e,t,n){let r=e.getTimezoneOffset();switch(t){case`z`:case`zz`:case`zzz`:return`GMT`+vc(r,`:`);case`zzzz`:default:return`GMT`+bc(r,`:`)}},t:function(e,t,n){return mc(Math.trunc(e/1e3),t.length)},T:function(e,t,n){return mc(+e,t.length)}};function vc(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+mc(a,2)}function yc(e,t){return e%60==0?(e>0?`-`:`+`)+mc(Math.abs(e)/60,2):bc(e,t)}function bc(e,t=``){let n=e>0?`-`:`+`,r=Math.abs(e),i=mc(Math.trunc(r/60),2),a=mc(r%60,2);return n+i+t+a}var xc=(e,t)=>{switch(e){case`P`:return t.date({width:`short`});case`PP`:return t.date({width:`medium`});case`PPP`:return t.date({width:`long`});case`PPPP`:default:return t.date({width:`full`})}},Sc=(e,t)=>{switch(e){case`p`:return t.time({width:`short`});case`pp`:return t.time({width:`medium`});case`ppp`:return t.time({width:`long`});case`pppp`:default:return t.time({width:`full`})}};const Cc={p:Sc,P:(e,t)=>{let n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return xc(e,t);let a;switch(r){case`P`:a=t.dateTime({width:`short`});break;case`PP`:a=t.dateTime({width:`medium`});break;case`PPP`:a=t.dateTime({width:`long`});break;case`PPPP`:default:a=t.dateTime({width:`full`});break}return a.replace(`{{date}}`,xc(r,t)).replace(`{{time}}`,Sc(i,t))}};var wc=/^D+$/,Tc=/^Y+$/,Ec=[`D`,`DD`,`YY`,`YYYY`];function Dc(e){return wc.test(e)}function Oc(e){return Tc.test(e)}function kc(e,t,n){let r=Ac(e,t,n);if(console.warn(r),Ec.includes(e))throw RangeError(r)}function Ac(e,t,n){let r=e[0]===`Y`?`years`:`days of the month`;return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}var jc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nc=/^'([^]*?)'?$/,Pc=/''/g,Fc=/[a-zA-Z]/;function Ic(e,t,n){let r=xs(),i=n?.locale??r.locale??cc,a=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=_s(e,n?.in);if(!Is(s))throw RangeError(`Invalid time value`);let c=t.match(Mc).map(e=>{let t=e[0];if(t===`p`||t===`P`){let n=Cc[t];return n(e,i.formatLong)}return e}).join(``).match(jc).map(e=>{if(e===`''`)return{isToken:!1,value:`'`};let t=e[0];if(t===`'`)return{isToken:!1,value:Lc(e)};if(_c[t])return{isToken:!0,value:e};if(t.match(Fc))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});i.localize.preprocessor&&(c=i.localize.preprocessor(s,c));let l={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(r=>{if(!r.isToken)return r.value;let a=r.value;(!n?.useAdditionalWeekYearTokens&&Oc(a)||!n?.useAdditionalDayOfYearTokens&&Dc(a))&&kc(a,t,String(e));let o=_c[a[0]];return o(s,a,i.localize,l)}).join(``)}function Lc(e){let t=e.match(Nc);return t?t[1].replace(Pc,`'`):e}function Rc(e,t){let n=_s(e,t?.in),r=n.getFullYear(),i=n.getMonth(),a=gs(n,0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}function zc(e,t){return _s(e,t?.in).getMonth()}function Bc(e,t){return _s(e,t?.in).getFullYear()}function Vc(e,t){return+_s(e)>+_s(t)}function Hc(e,t){return+_s(e)<+_s(t)}function Uc(e,t,n){let[r,i]=Es(n?.in,e,t);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function Wc(e,t,n){let[r,i]=Es(n?.in,e,t);return r.getFullYear()===i.getFullYear()}function Gc(e,t,n){let r=+_s(e,n?.in),[i,a]=[+_s(t.start,n?.in),+_s(t.end,n?.in)].sort((e,t)=>e-t);return r>=i&&r<=a}function Kc(e,t,n){let r=_s(e,n?.in),i=r.getFullYear(),a=r.getDate(),o=gs(n?.in||e,0);o.setFullYear(i,t,15),o.setHours(0,0,0,0);let s=Rc(o);return r.setMonth(t,Math.min(a,s)),r}function qc(e,t,n){let r=_s(e,n?.in);return isNaN(+r)?gs(n?.in||e,NaN):(r.setFullYear(t),r)}function R(...e){return fs(Ji(e))}const Jc=`AC.AL.AP.AM.BA.CE.DF.ES.GO.MA.MT.MS.MG.PA.PB.PR.PE.PI.RJ.RN.RS.RO.RR.SC.SP.SE.TO`.split(`.`);function Yc(e){return e?Is(new Date(e)):!1}function Xc(e,t,n){return Yc(e)?Ic(new Date(e),t,n):`N/A`}function Zc(e){if(!Yc(e))return{severity:`neutral`,label:`N/A`,color:`text-muted-foreground`,bg:`bg-muted/10`,border:`border-muted`};let t=new Date(e),n=Ds(new Date),r=Rs(Ds(t),n);return r<0?{severity:`expired`,label:`VENCIDO`,color:`text-red-700`,bg:`bg-red-50`,border:`border-red-200`}:r<=30?{severity:`warning`,label:`ATENO`,color:`text-yellow-700`,bg:`bg-yellow-50`,border:`border-yellow-200`}:{severity:`ok`,label:`VLIDO`,color:`text-green-700`,bg:`bg-green-50`,border:`border-green-200`}}function Qc(e){return e.replace(/\D/g,``).replace(/^(\d{2})(\d)/,`$1.$2`).replace(/^(\d{2})\.(\d{3})(\d)/,`$1.$2.$3`).replace(/\.(\d{3})(\d)/,`.$1/$2`).replace(/(\d{4})(\d)/,`$1-$2`).slice(0,18)}function $c(e){let t=e.replace(/[^\d]+/g,``);if(t.length!==14||/^(\d)\1+$/.test(t))return!1;let n=t.length-2,r=t.substring(0,n),i=t.substring(n),a=0,o=n-7;for(let e=n;e>=1;e--)a+=parseInt(r.charAt(n-e))*o--,o<2&&(o=9);let s=a%11<2?0:11-a%11;if(s!==parseInt(i.charAt(0)))return!1;n+=1,r=t.substring(0,n),a=0,o=n-7;for(let e=n;e>=1;e--)a+=parseInt(r.charAt(n-e))*o--,o<2&&(o=9);return s=a%11<2?0:11-a%11,s===parseInt(i.charAt(1))}function el(e){if(!e)return!1;let t=e.replace(/[^A-Z0-9]/gi,``).toUpperCase();return t.length===7?/^[A-Z]{3}[0-9][A-Z][0-9]{2}$/.test(t):!1}var tl=Bi,nl=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Vi,{ref:n,className:R(`fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]`,e),...t}));nl.displayName=Vi.displayName;var rl=Zi(`group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full`,{variants:{variant:{default:`border bg-background text-foreground`,destructive:`destructive group border-destructive bg-destructive text-destructive-foreground`}},defaultVariants:{variant:`default`}}),il=S.forwardRef(({className:e,variant:t,...n},r)=>(0,P.jsx)(Hi,{ref:r,className:R(rl({variant:t}),e),...n}));il.displayName=Hi.displayName;var al=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Gi,{ref:n,className:R(`inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive`,e),...t}));al.displayName=Gi.displayName;var ol=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Ki,{ref:n,className:R(`absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600`,e),"toast-close":``,...t,children:(0,P.jsx)(L,{className:`h-4 w-4`})}));ol.displayName=Ki.displayName;var sl=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Ui,{ref:n,className:R(`text-sm font-semibold`,e),...t}));sl.displayName=Ui.displayName;var cl=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Wi,{ref:n,className:R(`text-sm opacity-90`,e),...t}));cl.displayName=Wi.displayName;function ll(){let{toasts:e}=$n();return(0,P.jsxs)(tl,{children:[e.map(function({id:e,title:t,description:n,action:r,...i}){return(0,P.jsxs)(il,{...i,children:[(0,P.jsxs)(`div`,{className:`grid gap-1`,children:[t&&(0,P.jsx)(sl,{children:t}),n&&(0,P.jsx)(cl,{children:n})]}),r,(0,P.jsx)(ol,{})]},e)}),(0,P.jsx)(nl,{})]})}var ul=(e,t,n,r,i,a,o,s)=>{let c=document.documentElement,l=[`light`,`dark`];function u(t){(Array.isArray(e)?e:[e]).forEach(e=>{let n=e===`class`,r=n&&a?i.map(e=>a[e]||e):i;n?(c.classList.remove(...r),c.classList.add(a&&a[t]?a[t]:t)):c.setAttribute(e,t)}),d(t)}function d(e){s&&l.includes(e)&&(c.style.colorScheme=e)}function f(){return window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`}if(r)u(r);else try{let e=localStorage.getItem(t)||n;u(o&&e===`system`?f():e)}catch{}},dl=S.createContext(void 0),fl={setTheme:e=>{},themes:[]},pl=()=>S.useContext(dl)??fl;S.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,themes:s,nonce:c,scriptProps:l})=>{let u=JSON.stringify([n,t,a,e,s,o,r,i]).slice(1,-1);return S.createElement(`script`,{...l,suppressHydrationWarning:!0,nonce:typeof window>`u`?c:``,dangerouslySetInnerHTML:{__html:`(${ul.toString()})(${u})`}})});var ml=l(h(),1);function hl(e){if(!e||typeof document>`u`)return;let t=document.head||document.getElementsByTagName(`head`)[0],n=document.createElement(`style`);n.type=`text/css`,t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}var gl=e=>{switch(e){case`success`:return yl;case`info`:return xl;case`warning`:return bl;case`error`:return Sl;default:return null}},_l=Array(12).fill(0),vl=({visible:e,className:t})=>S.createElement(`div`,{className:[`sonner-loading-wrapper`,t].filter(Boolean).join(` `),"data-visible":e},S.createElement(`div`,{className:`sonner-spinner`},_l.map((e,t)=>S.createElement(`div`,{className:`sonner-loading-bar`,key:`spinner-bar-${t}`})))),yl=S.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`,height:`20`,width:`20`},S.createElement(`path`,{fillRule:`evenodd`,d:`M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z`,clipRule:`evenodd`})),bl=S.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 24 24`,fill:`currentColor`,height:`20`,width:`20`},S.createElement(`path`,{fillRule:`evenodd`,d:`M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z`,clipRule:`evenodd`})),xl=S.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`,height:`20`,width:`20`},S.createElement(`path`,{fillRule:`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z`,clipRule:`evenodd`})),Sl=S.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,viewBox:`0 0 20 20`,fill:`currentColor`,height:`20`,width:`20`},S.createElement(`path`,{fillRule:`evenodd`,d:`M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z`,clipRule:`evenodd`})),Cl=S.createElement(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`12`,height:`12`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,strokeLinecap:`round`,strokeLinejoin:`round`},S.createElement(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),S.createElement(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})),wl=()=>{let[e,t]=S.useState(document.hidden);return S.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener(`visibilitychange`,e),()=>window.removeEventListener(`visibilitychange`,e)},[]),e},Tl=1,El=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{let{message:t,...n}=e,r=typeof e?.id==`number`||e.id?.length>0?e.id:Tl++,i=this.toasts.find(e=>e.id===r),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),i?this.toasts=this.toasts.map(n=>n.id===r?(this.publish({...n,...e,id:r,title:t}),{...n,...e,id:r,dismissible:a,title:t}):n):this.addToast({title:t,...n,dismissible:a,id:r}),r},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:`error`}),this.success=(e,t)=>this.create({...t,type:`success`,message:e}),this.info=(e,t)=>this.create({...t,type:`info`,message:e}),this.warning=(e,t)=>this.create({...t,type:`warning`,message:e}),this.loading=(e,t)=>this.create({...t,type:`loading`,message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:`loading`,message:t.loading,description:typeof t.description==`function`?void 0:t.description}));let r=Promise.resolve(e instanceof Function?e():e),i=n!==void 0,a,o=r.then(async e=>{if(a=[`resolve`,e],S.isValidElement(e))i=!1,this.create({id:n,type:`default`,message:e});else if(Ol(e)&&!e.ok){i=!1;let r=typeof t.error==`function`?await t.error(`HTTP error! status: ${e.status}`):t.error,a=typeof t.description==`function`?await t.description(`HTTP error! status: ${e.status}`):t.description,o=typeof r==`object`&&!S.isValidElement(r)?r:{message:r};this.create({id:n,type:`error`,description:a,...o})}else if(e instanceof Error){i=!1;let r=typeof t.error==`function`?await t.error(e):t.error,a=typeof t.description==`function`?await t.description(e):t.description,o=typeof r==`object`&&!S.isValidElement(r)?r:{message:r};this.create({id:n,type:`error`,description:a,...o})}else if(t.success!==void 0){i=!1;let r=typeof t.success==`function`?await t.success(e):t.success,a=typeof t.description==`function`?await t.description(e):t.description,o=typeof r==`object`&&!S.isValidElement(r)?r:{message:r};this.create({id:n,type:`success`,description:a,...o})}}).catch(async e=>{if(a=[`reject`,e],t.error!==void 0){i=!1;let r=typeof t.error==`function`?await t.error(e):t.error,a=typeof t.description==`function`?await t.description(e):t.description,o=typeof r==`object`&&!S.isValidElement(r)?r:{message:r};this.create({id:n,type:`error`,description:a,...o})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),s=()=>new Promise((e,t)=>o.then(()=>a[0]===`reject`?t(a[1]):e(a[1])).catch(t));return typeof n!=`string`&&typeof n!=`number`?{unwrap:s}:Object.assign(n,{unwrap:s})},this.custom=(e,t)=>{let n=t?.id||Tl++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dl=(e,t)=>{let n=t?.id||Tl++;return El.addToast({title:e,...t,id:n}),n},Ol=e=>e&&typeof e==`object`&&`ok`in e&&typeof e.ok==`boolean`&&`status`in e&&typeof e.status==`number`,kl=Dl,Al=Object.assign(kl,{success:El.success,info:El.info,warning:El.warning,error:El.error,custom:El.custom,message:El.message,promise:El.promise,dismiss:El.dismiss,loading:El.loading},{getHistory:()=>El.toasts,getToasts:()=>El.getActiveToasts()});hl(`[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}`);function jl(e){return e.label!==void 0}var Ml=3,Nl=`24px`,Pl=`16px`,Fl=4e3,Il=356,Ll=14,Rl=45,zl=200;function Bl(...e){return e.filter(Boolean).join(` `)}function Vl(e){let[t,n]=e.split(`-`),r=[];return t&&r.push(t),n&&r.push(n),r}var Hl=e=>{let{invert:t,toast:n,unstyled:r,interacting:i,setHeights:a,visibleToasts:o,heights:s,index:c,toasts:l,expanded:u,removeToast:d,defaultRichColors:f,closeButton:p,style:m,cancelButtonStyle:h,actionButtonStyle:g,className:_=``,descriptionClassName:v=``,duration:y,position:b,gap:x,expandByDefault:C,classNames:w,icons:T,closeButtonAriaLabel:E=`Close toast`}=e,[D,O]=S.useState(null),[k,A]=S.useState(null),[ee,te]=S.useState(!1),[ne,re]=S.useState(!1),[ie,j]=S.useState(!1),[M,ae]=S.useState(!1),[oe,se]=S.useState(!1),[ce,le]=S.useState(0),[ue,de]=S.useState(0),fe=S.useRef(n.duration||y||Fl),pe=S.useRef(null),me=S.useRef(null),he=c===0,ge=c+1<=o,_e=n.type,ve=n.dismissible!==!1,ye=n.className||``,be=n.descriptionClassName||``,xe=S.useMemo(()=>s.findIndex(e=>e.toastId===n.id)||0,[s,n.id]),Se=S.useMemo(()=>n.closeButton??p,[n.closeButton,p]),Ce=S.useMemo(()=>n.duration||y||Fl,[n.duration,y]),we=S.useRef(0),Te=S.useRef(0),Ee=S.useRef(0),De=S.useRef(null),[Oe,ke]=b.split(`-`),Ae=S.useMemo(()=>s.reduce((e,t,n)=>n>=xe?e:e+t.height,0),[s,xe]),je=wl(),Me=n.invert||t,Ne=_e===`loading`;Te.current=S.useMemo(()=>xe*x+Ae,[xe,Ae]),S.useEffect(()=>{fe.current=Ce},[Ce]),S.useEffect(()=>{te(!0)},[]),S.useEffect(()=>{let e=me.current;if(e){let t=e.getBoundingClientRect().height;return de(t),a(e=>[{toastId:n.id,height:t,position:n.position},...e]),()=>a(e=>e.filter(e=>e.toastId!==n.id))}},[a,n.id]),S.useLayoutEffect(()=>{if(!ee)return;let e=me.current,t=e.style.height;e.style.height=`auto`;let r=e.getBoundingClientRect().height;e.style.height=t,de(r),a(e=>e.find(e=>e.toastId===n.id)?e.map(e=>e.toastId===n.id?{...e,height:r}:e):[{toastId:n.id,height:r,position:n.position},...e])},[ee,n.title,n.description,a,n.id,n.jsx,n.action,n.cancel]);let Pe=S.useCallback(()=>{re(!0),le(Te.current),a(e=>e.filter(e=>e.toastId!==n.id)),setTimeout(()=>{d(n)},zl)},[n,d,a,Te]);S.useEffect(()=>{if(n.promise&&_e===`loading`||n.duration===1/0||n.type===`loading`)return;let e;return u||i||je?(()=>{if(Ee.current<we.current){let e=new Date().getTime()-we.current;fe.current-=e}Ee.current=new Date().getTime()})():fe.current!==1/0&&(we.current=new Date().getTime(),e=setTimeout(()=>{n.onAutoClose==null||n.onAutoClose.call(n,n),Pe()},fe.current)),()=>clearTimeout(e)},[u,i,n,_e,je,Pe]),S.useEffect(()=>{n.delete&&(Pe(),n.onDismiss==null||n.onDismiss.call(n,n))},[Pe,n.delete]);function Fe(){return T?.loading?S.createElement(`div`,{className:Bl(w?.loader,n?.classNames?.loader,`sonner-loader`),"data-visible":_e===`loading`},T.loading):S.createElement(vl,{className:Bl(w?.loader,n?.classNames?.loader),visible:_e===`loading`})}let Ie=n.icon||T?.[_e]||gl(_e);return S.createElement(`li`,{tabIndex:0,ref:me,className:Bl(_,ye,w?.toast,n?.classNames?.toast,w?.default,w?.[_e],n?.classNames?.[_e]),"data-sonner-toast":``,"data-rich-colors":n.richColors??f,"data-styled":!(n.jsx||n.unstyled||r),"data-mounted":ee,"data-promise":!!n.promise,"data-swiped":oe,"data-removed":ne,"data-visible":ge,"data-y-position":Oe,"data-x-position":ke,"data-index":c,"data-front":he,"data-swiping":ie,"data-dismissible":ve,"data-type":_e,"data-invert":Me,"data-swipe-out":M,"data-swipe-direction":k,"data-expanded":!!(u||C&&ee),"data-testid":n.testId,style:{"--index":c,"--toasts-before":c,"--z-index":l.length-c,"--offset":`${ne?ce:Te.current}px`,"--initial-height":C?`auto`:`${ue}px`,...m,...n.style},onDragEnd:()=>{j(!1),O(null),De.current=null},onPointerDown:e=>{e.button!==2&&(Ne||!ve||(pe.current=new Date,le(Te.current),e.target.setPointerCapture(e.pointerId),e.target.tagName!==`BUTTON`&&(j(!0),De.current={x:e.clientX,y:e.clientY})))},onPointerUp:()=>{if(M||!ve)return;De.current=null;let e=Number(me.current?.style.getPropertyValue(`--swipe-amount-x`).replace(`px`,``)||0),t=Number(me.current?.style.getPropertyValue(`--swipe-amount-y`).replace(`px`,``)||0),r=new Date().getTime()-pe.current?.getTime(),i=D===`x`?e:t,a=Math.abs(i)/r;if(Math.abs(i)>=Rl||a>.11){le(Te.current),n.onDismiss==null||n.onDismiss.call(n,n),A(D===`x`?e>0?`right`:`left`:t>0?`down`:`up`),Pe(),ae(!0);return}else{var o,s;(o=me.current)==null||o.style.setProperty(`--swipe-amount-x`,`0px`),(s=me.current)==null||s.style.setProperty(`--swipe-amount-y`,`0px`)}se(!1),j(!1),O(null)},onPointerMove:t=>{var n,r;if(!De.current||!ve||window.getSelection()?.toString().length>0)return;let i=t.clientY-De.current.y,a=t.clientX-De.current.x,o=e.swipeDirections??Vl(b);!D&&(Math.abs(a)>1||Math.abs(i)>1)&&O(Math.abs(a)>Math.abs(i)?`x`:`y`);let s={x:0,y:0},c=e=>1/(1.5+Math.abs(e)/20);if(D===`y`){if(o.includes(`top`)||o.includes(`bottom`))if(o.includes(`top`)&&i<0||o.includes(`bottom`)&&i>0)s.y=i;else{let e=i*c(i);s.y=Math.abs(e)<Math.abs(i)?e:i}}else if(D===`x`&&(o.includes(`left`)||o.includes(`right`)))if(o.includes(`left`)&&a<0||o.includes(`right`)&&a>0)s.x=a;else{let e=a*c(a);s.x=Math.abs(e)<Math.abs(a)?e:a}(Math.abs(s.x)>0||Math.abs(s.y)>0)&&se(!0),(n=me.current)==null||n.style.setProperty(`--swipe-amount-x`,`${s.x}px`),(r=me.current)==null||r.style.setProperty(`--swipe-amount-y`,`${s.y}px`)}},Se&&!n.jsx&&_e!==`loading`?S.createElement(`button`,{"aria-label":E,"data-disabled":Ne,"data-close-button":!0,onClick:Ne||!ve?()=>{}:()=>{Pe(),n.onDismiss==null||n.onDismiss.call(n,n)},className:Bl(w?.closeButton,n?.classNames?.closeButton)},T?.close??Cl):null,(_e||n.icon||n.promise)&&n.icon!==null&&(T?.[_e]!==null||n.icon)?S.createElement(`div`,{"data-icon":``,className:Bl(w?.icon,n?.classNames?.icon)},n.promise||n.type===`loading`&&!n.icon?n.icon||Fe():null,n.type===`loading`?null:Ie):null,S.createElement(`div`,{"data-content":``,className:Bl(w?.content,n?.classNames?.content)},S.createElement(`div`,{"data-title":``,className:Bl(w?.title,n?.classNames?.title)},n.jsx?n.jsx:typeof n.title==`function`?n.title():n.title),n.description?S.createElement(`div`,{"data-description":``,className:Bl(v,be,w?.description,n?.classNames?.description)},typeof n.description==`function`?n.description():n.description):null),S.isValidElement(n.cancel)?n.cancel:n.cancel&&jl(n.cancel)?S.createElement(`button`,{"data-button":!0,"data-cancel":!0,style:n.cancelButtonStyle||h,onClick:e=>{jl(n.cancel)&&ve&&(n.cancel.onClick==null||n.cancel.onClick.call(n.cancel,e),Pe())},className:Bl(w?.cancelButton,n?.classNames?.cancelButton)},n.cancel.label):null,S.isValidElement(n.action)?n.action:n.action&&jl(n.action)?S.createElement(`button`,{"data-button":!0,"data-action":!0,style:n.actionButtonStyle||g,onClick:e=>{jl(n.action)&&(n.action.onClick==null||n.action.onClick.call(n.action,e),!e.defaultPrevented&&Pe())},className:Bl(w?.actionButton,n?.classNames?.actionButton)},n.action.label):null)};function Ul(){if(typeof window>`u`||typeof document>`u`)return`ltr`;let e=document.documentElement.getAttribute(`dir`);return e===`auto`||!e?window.getComputedStyle(document.documentElement).direction:e}function Wl(e,t){let n={};return[e,t].forEach((e,t)=>{let r=t===1,i=r?`--mobile-offset`:`--offset`,a=r?Pl:Nl;function o(e){[`top`,`right`,`bottom`,`left`].forEach(t=>{n[`${i}-${t}`]=typeof e==`number`?`${e}px`:e})}typeof e==`number`||typeof e==`string`?o(e):typeof e==`object`?[`top`,`right`,`bottom`,`left`].forEach(t=>{e[t]===void 0?n[`${i}-${t}`]=a:n[`${i}-${t}`]=typeof e[t]==`number`?`${e[t]}px`:e[t]}):o(a)}),n}var Gl=S.forwardRef(function(e,t){let{id:n,invert:r,position:i=`bottom-right`,hotkey:a=[`altKey`,`KeyT`],expand:o,closeButton:s,className:c,offset:l,mobileOffset:u,theme:d=`light`,richColors:f,duration:p,style:m,visibleToasts:h=Ml,toastOptions:g,dir:_=Ul(),gap:v=Ll,icons:y,containerAriaLabel:b=`Notifications`}=e,[x,C]=S.useState([]),w=S.useMemo(()=>n?x.filter(e=>e.toasterId===n):x.filter(e=>!e.toasterId),[x,n]),T=S.useMemo(()=>Array.from(new Set([i].concat(w.filter(e=>e.position).map(e=>e.position)))),[w,i]),[E,D]=S.useState([]),[O,k]=S.useState(!1),[A,ee]=S.useState(!1),[te,ne]=S.useState(d===`system`?typeof window<`u`&&window.matchMedia&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`:d),re=S.useRef(null),ie=a.join(`+`).replace(/Key/g,``).replace(/Digit/g,``),j=S.useRef(null),M=S.useRef(!1),ae=S.useCallback(e=>{C(t=>(t.find(t=>t.id===e.id)?.delete||El.dismiss(e.id),t.filter(({id:t})=>t!==e.id)))},[]);return S.useEffect(()=>El.subscribe(e=>{if(e.dismiss){requestAnimationFrame(()=>{C(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))});return}setTimeout(()=>{ml.flushSync(()=>{C(t=>{let n=t.findIndex(t=>t.id===e.id);return n===-1?[e,...t]:[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]})})})}),[x]),S.useEffect(()=>{if(d!==`system`){ne(d);return}if(d===`system`&&(window.matchMedia&&window.matchMedia(`(prefers-color-scheme: dark)`).matches?ne(`dark`):ne(`light`)),typeof window>`u`)return;let e=window.matchMedia(`(prefers-color-scheme: dark)`);try{e.addEventListener(`change`,({matches:e})=>{ne(e?`dark`:`light`)})}catch{e.addListener(({matches:e})=>{try{ne(e?`dark`:`light`)}catch(e){console.error(e)}})}},[d]),S.useEffect(()=>{x.length<=1&&k(!1)},[x]),S.useEffect(()=>{let e=e=>{if(a.every(t=>e[t]||e.code===t)){var t;k(!0),(t=re.current)==null||t.focus()}e.code===`Escape`&&(document.activeElement===re.current||re.current?.contains(document.activeElement))&&k(!1)};return document.addEventListener(`keydown`,e),()=>document.removeEventListener(`keydown`,e)},[a]),S.useEffect(()=>{if(re.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,M.current=!1)}},[re.current]),S.createElement(`section`,{ref:t,"aria-label":`${b} ${ie}`,tabIndex:-1,"aria-live":`polite`,"aria-relevant":`additions text`,"aria-atomic":`false`,suppressHydrationWarning:!0},T.map((t,n)=>{let[i,a]=t.split(`-`);return w.length?S.createElement(`ol`,{key:t,dir:_===`auto`?Ul():_,tabIndex:-1,ref:re,className:c,"data-sonner-toaster":!0,"data-sonner-theme":te,"data-y-position":i,"data-x-position":a,style:{"--front-toast-height":`${E[0]?.height||0}px`,"--width":`${Il}px`,"--gap":`${v}px`,...m,...Wl(l,u)},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,j.current&&=(j.current.focus({preventScroll:!0}),null))},onFocus:e=>{e.target instanceof HTMLElement&&e.target.dataset.dismissible===`false`||M.current||(M.current=!0,j.current=e.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{A||k(!1)},onDragEnd:()=>k(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&e.target.dataset.dismissible===`false`||ee(!0)},onPointerUp:()=>ee(!1)},w.filter(e=>!e.position&&n===0||e.position===t).map((n,i)=>S.createElement(Hl,{key:n.id,icons:y,index:i,toast:n,defaultRichColors:f,duration:g?.duration??p,className:g?.className,descriptionClassName:g?.descriptionClassName,invert:r,visibleToasts:h,closeButton:g?.closeButton??s,interacting:A,position:t,style:g?.style,unstyled:g?.unstyled,classNames:g?.classNames,cancelButtonStyle:g?.cancelButtonStyle,actionButtonStyle:g?.actionButtonStyle,closeButtonAriaLabel:g?.closeButtonAriaLabel,removeToast:ae,toasts:w.filter(e=>e.position==n.position),heights:E.filter(e=>e.position==n.position),setHeights:D,expandByDefault:o,gap:v,expanded:O,swipeDirections:e.swipeDirections}))):null}))}),Kl=({...e})=>{let{theme:t=`system`}=pl();return(0,P.jsx)(Gl,{theme:t,className:`toaster group`,toastOptions:{classNames:{toast:`group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg`,description:`group-[.toast]:text-muted-foreground`,actionButton:`group-[.toast]:bg-primary group-[.toast]:text-primary-foreground`,cancelButton:`group-[.toast]:bg-muted group-[.toast]:text-muted-foreground`}},...e})},ql=S.useId||(()=>void 0),Jl=0;function z(e){let[t,n]=S.useState(ql());return Pr(()=>{e||n(e=>e??String(Jl++))},[e]),e||(t?`radix-${t}`:``)}var Yl=[`top`,`right`,`bottom`,`left`],Xl=Math.min,Zl=Math.max,Ql=Math.round,$l=Math.floor,eu=e=>({x:e,y:e}),tu={left:`right`,right:`left`,bottom:`top`,top:`bottom`},nu={start:`end`,end:`start`};function ru(e,t,n){return Zl(e,Xl(t,n))}function iu(e,t){return typeof e==`function`?e(t):e}function au(e){return e.split(`-`)[0]}function ou(e){return e.split(`-`)[1]}function su(e){return e===`x`?`y`:`x`}function cu(e){return e===`y`?`height`:`width`}var lu=new Set([`top`,`bottom`]);function uu(e){return lu.has(au(e))?`y`:`x`}function du(e){return su(uu(e))}function fu(e,t,n){n===void 0&&(n=!1);let r=ou(e),i=du(e),a=cu(i),o=i===`x`?r===(n?`end`:`start`)?`right`:`left`:r===`start`?`bottom`:`top`;return t.reference[a]>t.floating[a]&&(o=xu(o)),[o,xu(o)]}function pu(e){let t=xu(e);return[mu(e),t,mu(t)]}function mu(e){return e.replace(/start|end/g,e=>nu[e])}var hu=[`left`,`right`],gu=[`right`,`left`],_u=[`top`,`bottom`],vu=[`bottom`,`top`];function yu(e,t,n){switch(e){case`top`:case`bottom`:return n?t?gu:hu:t?hu:gu;case`left`:case`right`:return t?_u:vu;default:return[]}}function bu(e,t,n,r){let i=ou(e),a=yu(au(e),n===`start`,r);return i&&(a=a.map(e=>e+`-`+i),t&&(a=a.concat(a.map(mu)))),a}function xu(e){return e.replace(/left|right|bottom|top/g,e=>tu[e])}function Su(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cu(e){return typeof e==`number`?{top:e,right:e,bottom:e,left:e}:Su(e)}function wu(e){let{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Tu(e,t,n){let{reference:r,floating:i}=e,a=uu(t),o=du(t),s=cu(o),c=au(t),l=a===`y`,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2,p;switch(c){case`top`:p={x:u,y:r.y-i.height};break;case`bottom`:p={x:u,y:r.y+r.height};break;case`right`:p={x:r.x+r.width,y:d};break;case`left`:p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(ou(t)){case`start`:p[o]-=f*(n&&l?-1:1);break;case`end`:p[o]+=f*(n&&l?-1:1);break}return p}var Eu=async(e,t,n)=>{let{placement:r=`bottom`,strategy:i=`absolute`,middleware:a=[],platform:o}=n,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t)),l=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=Tu(l,r,c),f=r,p={},m=0;for(let n=0;n<s.length;n++){let{name:a,fn:h}=s[n],{x:g,y:_,data:v,reset:y}=await h({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:l,platform:o,elements:{reference:e,floating:t}});u=g??u,d=_??d,p={...p,[a]:{...p[a],...v}},y&&m<=50&&(m++,typeof y==`object`&&(y.placement&&(f=y.placement),y.rects&&(l=y.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):y.rects),{x:u,y:d}=Tu(l,f,c)),n=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:p}};async function Du(e,t){t===void 0&&(t={});let{x:n,y:r,platform:i,rects:a,elements:o,strategy:s}=e,{boundary:c=`clippingAncestors`,rootBoundary:l=`viewport`,elementContext:u=`floating`,altBoundary:d=!1,padding:f=0}=iu(t,e),p=Cu(f),m=o[d?u===`floating`?`reference`:`floating`:u],h=wu(await i.getClippingRect({element:await(i.isElement==null?void 0:i.isElement(m))??!0?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(o.floating)),boundary:c,rootBoundary:l,strategy:s})),g=u===`floating`?{x:n,y:r,width:a.floating.width,height:a.floating.height}:a.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(o.floating)),v=await(i.isElement==null?void 0:i.isElement(_))&&await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1},y=wu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:g,offsetParent:_,strategy:s}):g);return{top:(h.top-y.top+p.top)/v.y,bottom:(y.bottom-h.bottom+p.bottom)/v.y,left:(h.left-y.left+p.left)/v.x,right:(y.right-h.right+p.right)/v.x}}var Ou=e=>({name:`arrow`,options:e,async fn(t){let{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:l,padding:u=0}=iu(e,t)||{};if(l==null)return{};let d=Cu(u),f={x:n,y:r},p=du(i),m=cu(p),h=await o.getDimensions(l),g=p===`y`,_=g?`top`:`left`,v=g?`bottom`:`right`,y=g?`clientHeight`:`clientWidth`,b=a.reference[m]+a.reference[p]-f[p]-a.floating[m],x=f[p]-a.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l)),C=S?S[y]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=s.floating[y]||a.floating[m]);let w=b/2-x/2,T=C/2-h[m]/2-1,E=Xl(d[_],T),D=Xl(d[v],T),O=E,k=C-h[m]-D,A=C/2-h[m]/2+w,ee=ru(O,A,k),te=!c.arrow&&ou(i)!=null&&A!==ee&&a.reference[m]/2-(A<O?E:D)-h[m]/2<0,ne=te?A<O?A-O:A-k:0;return{[p]:f[p]+ne,data:{[p]:ee,centerOffset:A-ee-ne,...te&&{alignmentOffset:ne}},reset:te}}}),ku=function(e){return e===void 0&&(e={}),{name:`flip`,options:e,async fn(t){var n;let{placement:r,middlewareData:i,rects:a,initialPlacement:o,platform:s,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f=`bestFit`,fallbackAxisSideDirection:p=`none`,flipAlignment:m=!0,...h}=iu(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};let g=au(r),_=uu(o),v=au(o)===o,y=await(s.isRTL==null?void 0:s.isRTL(c.floating)),b=d||(v||!m?[xu(o)]:pu(o)),x=p!==`none`;!d&&x&&b.push(...bu(o,m,p,y));let S=[o,...b],C=await Du(t,h),w=[],T=i.flip?.overflows||[];if(l&&w.push(C[g]),u){let e=fu(r,a,y);w.push(C[e[0]],C[e[1]])}if(T=[...T,{placement:r,overflows:w}],!w.every(e=>e<=0)){let e=(i.flip?.index||0)+1,t=S[e];if(t&&(!(u===`alignment`&&_!==uu(t))||T.every(e=>uu(e.placement)===_?e.overflows[0]>0:!0)))return{data:{index:e,overflows:T},reset:{placement:t}};let n=T.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0]?.placement;if(!n)switch(f){case`bestFit`:{let e=T.filter(e=>{if(x){let t=uu(e.placement);return t===_||t===`y`}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0]?.[0];e&&(n=e);break}case`initialPlacement`:n=o;break}if(r!==n)return{reset:{placement:n}}}return{}}}};function Au(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ju(e){return Yl.some(t=>e[t]>=0)}var Mu=function(e){return e===void 0&&(e={}),{name:`hide`,options:e,async fn(t){let{rects:n}=t,{strategy:r=`referenceHidden`,...i}=iu(e,t);switch(r){case`referenceHidden`:{let e=Au(await Du(t,{...i,elementContext:`reference`}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:ju(e)}}}case`escaped`:{let e=Au(await Du(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:ju(e)}}}default:return{}}}}},Nu=new Set([`left`,`top`]);async function Pu(e,t){let{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=au(n),s=ou(n),c=uu(n)===`y`,l=Nu.has(o)?-1:1,u=a&&c?-1:1,d=iu(t,e),{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof d==`number`?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return s&&typeof m==`number`&&(p=s===`end`?m*-1:m),c?{x:p*u,y:f*l}:{x:f*l,y:p*u}}var Fu=function(e){return e===void 0&&(e=0),{name:`offset`,options:e,async fn(t){var n;let{x:r,y:i,placement:a,middlewareData:o}=t,s=await Pu(t,e);return a===o.offset?.placement&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:r+s.x,y:i+s.y,data:{...s,placement:a}}}}},Iu=function(e){return e===void 0&&(e={}),{name:`shift`,options:e,async fn(t){let{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...c}=iu(e,t),l={x:n,y:r},u=await Du(t,c),d=uu(au(i)),f=su(d),p=l[f],m=l[d];if(a){let e=f===`y`?`top`:`left`,t=f===`y`?`bottom`:`right`,n=p+u[e],r=p-u[t];p=ru(n,p,r)}if(o){let e=d===`y`?`top`:`left`,t=d===`y`?`bottom`:`right`,n=m+u[e],r=m-u[t];m=ru(n,m,r)}let h=s.fn({...t,[f]:p,[d]:m});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[f]:a,[d]:o}}}}}},Lu=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:l=!0}=iu(e,t),u={x:n,y:r},d=uu(i),f=su(d),p=u[f],m=u[d],h=iu(s,t),g=typeof h==`number`?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){let e=f===`y`?`height`:`width`,t=a.reference[f]-a.floating[e]+g.mainAxis,n=a.reference[f]+a.reference[e]-g.mainAxis;p<t?p=t:p>n&&(p=n)}if(l){let e=f===`y`?`width`:`height`,t=Nu.has(au(i)),n=a.reference[d]-a.floating[e]+(t&&o.offset?.[d]||0)+(t?0:g.crossAxis),r=a.reference[d]+a.reference[e]+(t?0:o.offset?.[d]||0)-(t?g.crossAxis:0);m<n?m=n:m>r&&(m=r)}return{[f]:p,[d]:m}}}},Ru=function(e){return e===void 0&&(e={}),{name:`size`,options:e,async fn(t){var n,r;let{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...l}=iu(e,t),u=await Du(t,l),d=au(i),f=ou(i),p=uu(i)===`y`,{width:m,height:h}=a.floating,g,_;d===`top`||d===`bottom`?(g=d,_=f===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?`start`:`end`)?`left`:`right`):(_=d,g=f===`end`?`top`:`bottom`);let v=h-u.top-u.bottom,y=m-u.left-u.right,b=Xl(h-u[g],v),x=Xl(m-u[_],y),S=!t.middlewareData.shift,C=b,w=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(w=y),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),S&&!f){let e=Zl(u.left,0),t=Zl(u.right,0),n=Zl(u.top,0),r=Zl(u.bottom,0);p?w=m-2*(e!==0||t!==0?e+t:Zl(u.left,u.right)):C=h-2*(n!==0||r!==0?n+r:Zl(u.top,u.bottom))}await c({...t,availableWidth:w,availableHeight:C});let T=await o.getDimensions(s.floating);return m!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function zu(){return typeof window<`u`}function Bu(e){return Uu(e)?(e.nodeName||``).toLowerCase():`#document`}function Vu(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hu(e){return((Uu(e)?e.ownerDocument:e.document)||window.document)?.documentElement}function Uu(e){return zu()?e instanceof Node||e instanceof Vu(e).Node:!1}function Wu(e){return zu()?e instanceof Element||e instanceof Vu(e).Element:!1}function Gu(e){return zu()?e instanceof HTMLElement||e instanceof Vu(e).HTMLElement:!1}function Ku(e){return!zu()||typeof ShadowRoot>`u`?!1:e instanceof ShadowRoot||e instanceof Vu(e).ShadowRoot}var qu=new Set([`inline`,`contents`]);function Ju(e){let{overflow:t,overflowX:n,overflowY:r,display:i}=sd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!qu.has(i)}var Yu=new Set([`table`,`td`,`th`]);function Xu(e){return Yu.has(Bu(e))}var Zu=[`:popover-open`,`:modal`];function Qu(e){return Zu.some(t=>{try{return e.matches(t)}catch{return!1}})}var $u=[`transform`,`translate`,`scale`,`rotate`,`perspective`],ed=[`transform`,`translate`,`scale`,`rotate`,`perspective`,`filter`],td=[`paint`,`layout`,`strict`,`content`];function nd(e){let t=id(),n=Wu(e)?sd(e):e;return $u.some(e=>n[e]?n[e]!==`none`:!1)||(n.containerType?n.containerType!==`normal`:!1)||!t&&(n.backdropFilter?n.backdropFilter!==`none`:!1)||!t&&(n.filter?n.filter!==`none`:!1)||ed.some(e=>(n.willChange||``).includes(e))||td.some(e=>(n.contain||``).includes(e))}function rd(e){let t=ld(e);for(;Gu(t)&&!od(t);){if(nd(t))return t;if(Qu(t))return null;t=ld(t)}return null}function id(){return typeof CSS>`u`||!CSS.supports?!1:CSS.supports(`-webkit-backdrop-filter`,`none`)}var ad=new Set([`html`,`body`,`#document`]);function od(e){return ad.has(Bu(e))}function sd(e){return Vu(e).getComputedStyle(e)}function cd(e){return Wu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ld(e){if(Bu(e)===`html`)return e;let t=e.assignedSlot||e.parentNode||Ku(e)&&e.host||Hu(e);return Ku(t)?t.host:t}function ud(e){let t=ld(e);return od(t)?e.ownerDocument?e.ownerDocument.body:e.body:Gu(t)&&Ju(t)?t:ud(t)}function dd(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=!0);let r=ud(e),i=r===e.ownerDocument?.body,a=Vu(r);if(i){let e=fd(a);return t.concat(a,a.visualViewport||[],Ju(r)?r:[],e&&n?dd(e):[])}return t.concat(r,dd(r,[],n))}function fd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function pd(e){let t=sd(e),n=parseFloat(t.width)||0,r=parseFloat(t.height)||0,i=Gu(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Ql(n)!==a||Ql(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function md(e){return Wu(e)?e:e.contextElement}function hd(e){let t=md(e);if(!Gu(t))return eu(1);let n=t.getBoundingClientRect(),{width:r,height:i,$:a}=pd(t),o=(a?Ql(n.width):n.width)/r,s=(a?Ql(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}var gd=eu(0);function _d(e){let t=Vu(e);return!id()||!t.visualViewport?gd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vd(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vu(e)?!1:t}function yd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),a=md(e),o=eu(1);t&&(r?Wu(r)&&(o=hd(r)):o=hd(e));let s=vd(a,n,r)?_d(a):eu(0),c=(i.left+s.x)/o.x,l=(i.top+s.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(a){let e=Vu(a),t=r&&Wu(r)?Vu(r):r,n=e,i=fd(n);for(;i&&r&&t!==n;){let e=hd(i),t=i.getBoundingClientRect(),r=sd(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,l*=e.y,u*=e.x,d*=e.y,c+=a,l+=o,n=Vu(i),i=fd(n)}}return wu({width:u,height:d,x:c,y:l})}function bd(e,t){let n=cd(e).scrollLeft;return t?t.left+n:yd(Hu(e)).left+n}function xd(e,t){let n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-bd(e,n),y:n.top+t.scrollTop}}function Sd(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e,a=i===`fixed`,o=Hu(r),s=t?Qu(t.floating):!1;if(r===o||s&&a)return n;let c={scrollLeft:0,scrollTop:0},l=eu(1),u=eu(0),d=Gu(r);if((d||!d&&!a)&&((Bu(r)!==`body`||Ju(o))&&(c=cd(r)),Gu(r))){let e=yd(r);l=hd(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}let f=o&&!d&&!a?xd(o,c):eu(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+u.x+f.x,y:n.y*l.y-c.scrollTop*l.y+u.y+f.y}}function Cd(e){return Array.from(e.getClientRects())}function wd(e){let t=Hu(e),n=cd(e),r=e.ownerDocument.body,i=Zl(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zl(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),o=-n.scrollLeft+bd(e),s=-n.scrollTop;return sd(r).direction===`rtl`&&(o+=Zl(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}var Td=25;function Ed(e,t){let n=Vu(e),r=Hu(e),i=n.visualViewport,a=r.clientWidth,o=r.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;let e=id();(!e||e&&t===`fixed`)&&(s=i.offsetLeft,c=i.offsetTop)}let l=bd(r);if(l<=0){let e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i=e.compatMode===`CSS1Compat`&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,o=Math.abs(r.clientWidth-t.clientWidth-i);o<=Td&&(a-=o)}else l<=Td&&(a+=l);return{width:a,height:o,x:s,y:c}}var Dd=new Set([`absolute`,`fixed`]);function Od(e,t){let n=yd(e,!0,t===`fixed`),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Gu(e)?hd(e):eu(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}function kd(e,t,n){let r;if(t===`viewport`)r=Ed(e,n);else if(t===`document`)r=wd(Hu(e));else if(Wu(t))r=Od(t,n);else{let n=_d(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return wu(r)}function Ad(e,t){let n=ld(e);return n===t||!Wu(n)||od(n)?!1:sd(n).position===`fixed`||Ad(n,t)}function jd(e,t){let n=t.get(e);if(n)return n;let r=dd(e,[],!1).filter(e=>Wu(e)&&Bu(e)!==`body`),i=null,a=sd(e).position===`fixed`,o=a?ld(e):e;for(;Wu(o)&&!od(o);){let t=sd(o),n=nd(o);!n&&t.position===`fixed`&&(i=null),(a?!n&&!i:!n&&t.position===`static`&&i&&Dd.has(i.position)||Ju(o)&&!n&&Ad(e,o))?r=r.filter(e=>e!==o):i=t,o=ld(o)}return t.set(e,r),r}function Md(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e,a=[...n===`clippingAncestors`?Qu(t)?[]:jd(t,this._c):[].concat(n),r],o=a[0],s=a.reduce((e,n)=>{let r=kd(t,n,i);return e.top=Zl(r.top,e.top),e.right=Xl(r.right,e.right),e.bottom=Xl(r.bottom,e.bottom),e.left=Zl(r.left,e.left),e},kd(t,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function Nd(e){let{width:t,height:n}=pd(e);return{width:t,height:n}}function Pd(e,t,n){let r=Gu(t),i=Hu(t),a=n===`fixed`,o=yd(e,!0,a,t),s={scrollLeft:0,scrollTop:0},c=eu(0);function l(){c.x=bd(i)}if(r||!r&&!a)if((Bu(t)!==`body`||Ju(i))&&(s=cd(t)),r){let e=yd(t,!0,a,t);c.x=e.x+t.clientLeft,c.y=e.y+t.clientTop}else i&&l();a&&!r&&i&&l();let u=i&&!r&&!a?xd(i,s):eu(0);return{x:o.left+s.scrollLeft-c.x-u.x,y:o.top+s.scrollTop-c.y-u.y,width:o.width,height:o.height}}function Fd(e){return sd(e).position===`static`}function Id(e,t){if(!Gu(e)||sd(e).position===`fixed`)return null;if(t)return t(e);let n=e.offsetParent;return Hu(e)===n&&(n=n.ownerDocument.body),n}function Ld(e,t){let n=Vu(e);if(Qu(e))return n;if(!Gu(e)){let t=ld(e);for(;t&&!od(t);){if(Wu(t)&&!Fd(t))return t;t=ld(t)}return n}let r=Id(e,t);for(;r&&Xu(r)&&Fd(r);)r=Id(r,t);return r&&od(r)&&Fd(r)&&!nd(r)?n:r||rd(e)||n}var Rd=async function(e){let t=this.getOffsetParent||Ld,n=this.getDimensions,r=await n(e.floating);return{reference:Pd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zd(e){return sd(e).direction===`rtl`}var Bd={convertOffsetParentRelativeRectToViewportRelativeRect:Sd,getDocumentElement:Hu,getClippingRect:Md,getOffsetParent:Ld,getElementRects:Rd,getClientRects:Cd,getDimensions:Nd,getScale:hd,isElement:Wu,isRTL:zd};function Vd(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Hd(e,t){let n=null,r,i=Hu(e);function a(){var e;clearTimeout(r),(e=n)==null||e.disconnect(),n=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();let l=e.getBoundingClientRect(),{left:u,top:d,width:f,height:p}=l;if(s||t(),!f||!p)return;let m=$l(d),h=$l(i.clientWidth-(u+f)),g=$l(i.clientHeight-(d+p)),_=$l(u),v={rootMargin:-m+`px `+-h+`px `+-g+`px `+-_+`px`,threshold:Zl(0,Xl(1,c))||1},y=!0;function b(t){let n=t[0].intersectionRatio;if(n!==c){if(!y)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}n===1&&!Vd(l,e.getBoundingClientRect())&&o(),y=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return o(!0),a}function Ud(e,t,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver==`function`,layoutShift:s=typeof IntersectionObserver==`function`,animationFrame:c=!1}=r,l=md(e),u=i||a?[...l?dd(l):[],...dd(t)]:[];u.forEach(e=>{i&&e.addEventListener(`scroll`,n,{passive:!0}),a&&e.addEventListener(`resize`,n)});let d=l&&s?Hd(l,n):null,f=-1,p=null;o&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===l&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;(e=p)==null||e.observe(t)})),n()}),l&&!c&&p.observe(l),p.observe(t));let m,h=c?yd(e):null;c&&g();function g(){let t=yd(e);h&&!Vd(h,t)&&n(),h=t,m=requestAnimationFrame(g)}return n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener(`scroll`,n),a&&e.removeEventListener(`resize`,n)}),d?.(),(e=p)==null||e.disconnect(),p=null,c&&cancelAnimationFrame(m)}}var Wd=Fu,Gd=Iu,Kd=ku,qd=Ru,Jd=Mu,Yd=Ou,Xd=Lu,Zd=(e,t,n)=>{let r=new Map,i={platform:Bd,...n},a={...i.platform,_c:r};return Eu(e,t,{...i,platform:a})},Qd=l(h(),1),$d=typeof document<`u`?S.useLayoutEffect:function(){};function ef(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e==`function`&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e==`object`){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ef(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){let n=i[r];if(!(n===`_owner`&&e.$$typeof)&&!ef(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function tf(e){return typeof window>`u`?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nf(e,t){let n=tf(e);return Math.round(t*n)/n}function rf(e){let t=S.useRef(e);return $d(()=>{t.current=e}),t}function af(e){e===void 0&&(e={});let{placement:t=`bottom`,strategy:n=`absolute`,middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:l}=e,[u,d]=S.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=S.useState(r);ef(f,r)||p(r);let[m,h]=S.useState(null),[g,_]=S.useState(null),v=S.useCallback(e=>{e!==C.current&&(C.current=e,h(e))},[]),y=S.useCallback(e=>{e!==w.current&&(w.current=e,_(e))},[]),b=a||m,x=o||g,C=S.useRef(null),w=S.useRef(null),T=S.useRef(u),E=c!=null,D=rf(c),O=rf(i),k=rf(l),A=S.useCallback(()=>{if(!C.current||!w.current)return;let e={placement:t,strategy:n,middleware:f};O.current&&(e.platform=O.current),Zd(C.current,w.current,e).then(e=>{let t={...e,isPositioned:k.current!==!1};ee.current&&!ef(T.current,t)&&(T.current=t,Qd.flushSync(()=>{d(t)}))})},[f,t,n,O,k]);$d(()=>{l===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(e=>({...e,isPositioned:!1})))},[l]);let ee=S.useRef(!1);$d(()=>(ee.current=!0,()=>{ee.current=!1}),[]),$d(()=>{if(b&&(C.current=b),x&&(w.current=x),b&&x){if(D.current)return D.current(b,x,A);A()}},[b,x,A,D,E]);let te=S.useMemo(()=>({reference:C,floating:w,setReference:v,setFloating:y}),[v,y]),ne=S.useMemo(()=>({reference:b,floating:x}),[b,x]),re=S.useMemo(()=>{let e={position:n,left:0,top:0};if(!ne.floating)return e;let t=nf(ne.floating,u.x),r=nf(ne.floating,u.y);return s?{...e,transform:`translate(`+t+`px, `+r+`px)`,...tf(ne.floating)>=1.5&&{willChange:`transform`}}:{position:n,left:t,top:r}},[n,s,ne.floating,u.x,u.y]);return S.useMemo(()=>({...u,update:A,refs:te,elements:ne,floatingStyles:re}),[u,A,te,ne,re])}var of=e=>{function t(e){return{}.hasOwnProperty.call(e,`current`)}return{name:`arrow`,options:e,fn(n){let{element:r,padding:i}=typeof e==`function`?e(n):e;return r&&t(r)?r.current==null?{}:Yd({element:r.current,padding:i}).fn(n):r?Yd({element:r,padding:i}).fn(n):{}}}},sf=(e,t)=>({...Wd(e),options:[e,t]}),cf=(e,t)=>({...Gd(e),options:[e,t]}),lf=(e,t)=>({...Xd(e),options:[e,t]}),uf=(e,t)=>({...Kd(e),options:[e,t]}),df=(e,t)=>({...qd(e),options:[e,t]}),ff=(e,t)=>({...Jd(e),options:[e,t]}),pf=(e,t)=>({...of(e),options:[e,t]}),mf=`Arrow`,hf=S.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...a}=e;return(0,P.jsx)(F.svg,{...a,ref:t,width:r,height:i,viewBox:`0 0 30 10`,preserveAspectRatio:`none`,children:e.asChild?n:(0,P.jsx)(`polygon`,{points:`0,0 30,0 15,10`})})});hf.displayName=mf;var gf=hf;function _f(e){let[t,n]=S.useState(void 0);return Pr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{if(!Array.isArray(t)||!t.length)return;let r=t[0],i,a;if(`borderBoxSize`in r){let e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,a=t.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return t.observe(e,{box:`border-box`}),()=>t.unobserve(e)}else n(void 0)},[e]),t}var vf=`Popper`,[yf,bf]=or(vf),[xf,Sf]=yf(vf),Cf=e=>{let{__scopePopper:t,children:n}=e,[r,i]=S.useState(null);return(0,P.jsx)(xf,{scope:t,anchor:r,onAnchorChange:i,children:n})};Cf.displayName=vf;var wf=`PopperAnchor`,Tf=S.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,a=Sf(wf,n),o=S.useRef(null),s=rr(t,o),c=S.useRef(null);return S.useEffect(()=>{let e=c.current;c.current=r?.current||o.current,e!==c.current&&a.onAnchorChange(c.current)}),r?null:(0,P.jsx)(F.div,{...i,ref:s})});Tf.displayName=wf;var Ef=`PopperContent`,[Df,Of]=yf(Ef),kf=S.forwardRef((e,t)=>{let{__scopePopper:n,side:r=`bottom`,sideOffset:i=0,align:a=`center`,alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d=`partial`,hideWhenDetached:f=!1,updatePositionStrategy:p=`optimized`,onPlaced:m,...h}=e,g=Sf(Ef,n),[_,v]=S.useState(null),y=rr(t,e=>v(e)),[b,x]=S.useState(null),C=_f(b),w=C?.width??0,T=C?.height??0,E=r+(a===`center`?``:`-`+a),D=typeof u==`number`?u:{top:0,right:0,bottom:0,left:0,...u},O=Array.isArray(l)?l:[l],k=O.length>0,A={padding:D,boundary:O.filter(Nf),altBoundary:k},{refs:ee,floatingStyles:te,placement:ne,isPositioned:re,middlewareData:ie}=af({strategy:`fixed`,placement:E,whileElementsMounted:(...e)=>Ud(...e,{animationFrame:p===`always`}),elements:{reference:g.anchor},middleware:[sf({mainAxis:i+T,alignmentAxis:o}),c&&cf({mainAxis:!0,crossAxis:!1,limiter:d===`partial`?lf():void 0,...A}),c&&uf({...A}),df({...A,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{let{width:i,height:a}=t.reference,o=e.floating.style;o.setProperty(`--radix-popper-available-width`,`${n}px`),o.setProperty(`--radix-popper-available-height`,`${r}px`),o.setProperty(`--radix-popper-anchor-width`,`${i}px`),o.setProperty(`--radix-popper-anchor-height`,`${a}px`)}}),b&&pf({element:b,padding:s}),Pf({arrowWidth:w,arrowHeight:T}),f&&ff({strategy:`referenceHidden`,...A})]}),[j,M]=Ff(ne),ae=_r(m);Pr(()=>{re&&ae?.()},[re,ae]);let oe=ie.arrow?.x,se=ie.arrow?.y,ce=ie.arrow?.centerOffset!==0,[le,ue]=S.useState();return Pr(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),(0,P.jsx)(`div`,{ref:ee.setFloating,"data-radix-popper-content-wrapper":``,style:{...te,transform:re?te.transform:`translate(0, -200%)`,minWidth:`max-content`,zIndex:le,"--radix-popper-transform-origin":[ie.transformOrigin?.x,ie.transformOrigin?.y].join(` `),...ie.hide?.referenceHidden&&{visibility:`hidden`,pointerEvents:`none`}},dir:e.dir,children:(0,P.jsx)(Df,{scope:n,placedSide:j,onArrowChange:x,arrowX:oe,arrowY:se,shouldHideArrow:ce,children:(0,P.jsx)(F.div,{"data-side":j,"data-align":M,...h,ref:y,style:{...h.style,animation:re?void 0:`none`}})})})});kf.displayName=Ef;var Af=`PopperArrow`,jf={top:`bottom`,right:`left`,bottom:`top`,left:`right`},Mf=S.forwardRef(function(e,t){let{__scopePopper:n,...r}=e,i=Of(Af,n),a=jf[i.placedSide];return(0,P.jsx)(`span`,{ref:i.onArrowChange,style:{position:`absolute`,left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:``,right:`0 0`,bottom:`center 0`,left:`100% 0`}[i.placedSide],transform:{top:`translateY(100%)`,right:`translateY(50%) rotate(90deg) translateX(-50%)`,bottom:`rotate(180deg)`,left:`translateY(50%) rotate(-90deg) translateX(50%)`}[i.placedSide],visibility:i.shouldHideArrow?`hidden`:void 0},children:(0,P.jsx)(gf,{...r,ref:t,style:{...r.style,display:`block`}})})});Mf.displayName=Af;function Nf(e){return e!==null}var Pf=e=>({name:`transformOrigin`,options:e,fn(t){let{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,s=a?0:e.arrowHeight,[c,l]=Ff(n),u={start:`0%`,center:`50%`,end:`100%`}[l],d=(i.arrow?.x??0)+o/2,f=(i.arrow?.y??0)+s/2,p=``,m=``;return c===`bottom`?(p=a?u:`${d}px`,m=`${-s}px`):c===`top`?(p=a?u:`${d}px`,m=`${r.floating.height+s}px`):c===`right`?(p=`${-s}px`,m=a?u:`${f}px`):c===`left`&&(p=`${r.floating.width+s}px`,m=a?u:`${f}px`),{data:{x:p,y:m}}}});function Ff(e){let[t,n=`center`]=e.split(`-`);return[t,n]}var If=Cf,Lf=Tf,Rf=kf,zf=Mf,[Bf,Vf]=or(`Tooltip`,[bf]),Hf=bf(),Uf=`TooltipProvider`,Wf=700,Gf=`tooltip.open`,[Kf,qf]=Bf(Uf),Jf=e=>{let{__scopeTooltip:t,delayDuration:n=Wf,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=S.useRef(!0),s=S.useRef(!1),c=S.useRef(0);return S.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,P.jsx)(Kf,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:S.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};Jf.displayName=Uf;var Yf=`Tooltip`,[Xf,Zf]=Bf(Yf),Qf=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=qf(Yf,e.__scopeTooltip),l=Hf(t),[u,d]=S.useState(null),f=z(),p=S.useRef(0),m=o??c.disableHoverableContent,h=s??c.delayDuration,g=S.useRef(!1),[_,v]=Wr({prop:r,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(Gf))):c.onClose(),a?.(e)},caller:Yf}),y=S.useMemo(()=>_?g.current?`delayed-open`:`instant-open`:`closed`,[_]),b=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g.current=!1,v(!0)},[v]),x=S.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v(!1)},[v]),C=S.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{g.current=!0,v(!0),p.current=0},h)},[h,v]);return S.useEffect(()=>()=>{p.current&&=(window.clearTimeout(p.current),0)},[]),(0,P.jsx)(If,{...l,children:(0,P.jsx)(Xf,{scope:t,contentId:f,open:_,stateAttribute:y,trigger:u,onTriggerChange:d,onTriggerEnter:S.useCallback(()=>{c.isOpenDelayedRef.current?C():b()},[c.isOpenDelayedRef,C,b]),onTriggerLeave:S.useCallback(()=>{m?x():(window.clearTimeout(p.current),p.current=0)},[x,m]),onOpen:b,onClose:x,disableHoverableContent:m,children:n})})};Qf.displayName=Yf;var $f=`TooltipTrigger`,ep=S.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=Zf($f,n),a=qf($f,n),o=Hf(n),s=rr(t,S.useRef(null),i.onTriggerChange),c=S.useRef(!1),l=S.useRef(!1),u=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener(`pointerup`,u),[u]),(0,P.jsx)(Lf,{asChild:!0,...o,children:(0,P.jsx)(F.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:s,onPointerMove:N(e.onPointerMove,e=>{e.pointerType!==`touch`&&!l.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),l.current=!0)}),onPointerLeave:N(e.onPointerLeave,()=>{i.onTriggerLeave(),l.current=!1}),onPointerDown:N(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener(`pointerup`,u,{once:!0})}),onFocus:N(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:N(e.onBlur,i.onClose),onClick:N(e.onClick,i.onClose)})})});ep.displayName=$f;var tp=`TooltipPortal`,[np,rp]=Bf(tp,{forceMount:void 0}),ip=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=Zf(tp,t);return(0,P.jsx)(np,{scope:t,forceMount:n,children:(0,P.jsx)(zr,{present:n||a.open,children:(0,P.jsx)(Lr,{asChild:!0,container:i,children:r})})})};ip.displayName=tp;var ap=`TooltipContent`,op=S.forwardRef((e,t)=>{let n=rp(ap,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i=`top`,...a}=e,o=Zf(ap,e.__scopeTooltip);return(0,P.jsx)(zr,{present:r||o.open,children:o.disableHoverableContent?(0,P.jsx)(dp,{side:i,...a,ref:t}):(0,P.jsx)(sp,{side:i,...a,ref:t})})}),sp=S.forwardRef((e,t)=>{let n=Zf(ap,e.__scopeTooltip),r=qf(ap,e.__scopeTooltip),i=S.useRef(null),a=rr(t,i),[o,s]=S.useState(null),{trigger:c,onClose:l}=n,u=i.current,{onPointerInTransitChange:d}=r,f=S.useCallback(()=>{s(null),d(!1)},[d]),p=S.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=hp(r,mp(r,n.getBoundingClientRect())),a=gp(t.getBoundingClientRect());s(vp([...i,...a])),d(!0)},[d]);return S.useEffect(()=>()=>f(),[f]),S.useEffect(()=>{if(c&&u){let e=e=>p(e,u),t=e=>p(e,c);return c.addEventListener(`pointerleave`,e),u.addEventListener(`pointerleave`,t),()=>{c.removeEventListener(`pointerleave`,e),u.removeEventListener(`pointerleave`,t)}}},[c,u,p,f]),S.useEffect(()=>{if(o){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||u?.contains(t),i=!_p(n,o);r?f():i&&(f(),l())};return document.addEventListener(`pointermove`,e),()=>document.removeEventListener(`pointermove`,e)}},[c,u,o,l,f]),(0,P.jsx)(dp,{...e,ref:a})}),[cp,lp]=Bf(Yf,{isInside:!1}),up=dr(`TooltipContent`),dp=S.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=Zf(ap,n),l=Hf(n),{onClose:u}=c;return S.useEffect(()=>(document.addEventListener(Gf,u),()=>document.removeEventListener(Gf,u)),[u]),S.useEffect(()=>{if(c.trigger){let e=e=>{e.target?.contains(c.trigger)&&u()};return window.addEventListener(`scroll`,e,{capture:!0}),()=>window.removeEventListener(`scroll`,e,{capture:!0})}},[c.trigger,u]),(0,P.jsx)(Tr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,P.jsxs)(Rf,{"data-state":c.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-tooltip-content-available-width":`var(--radix-popper-available-width)`,"--radix-tooltip-content-available-height":`var(--radix-popper-available-height)`,"--radix-tooltip-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-tooltip-trigger-height":`var(--radix-popper-anchor-height)`},children:[(0,P.jsx)(up,{children:r}),(0,P.jsx)(cp,{scope:n,isInside:!0,children:(0,P.jsx)(Xr,{id:c.contentId,role:`tooltip`,children:i||r})})]})})});op.displayName=ap;var fp=`TooltipArrow`,pp=S.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=Hf(n);return lp(fp,n).isInside?null:(0,P.jsx)(zf,{...i,...r,ref:t})});pp.displayName=fp;function mp(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function hp(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function gp(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function _p(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function vp(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),yp(t)}function yp(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var bp=Jf,xp=Qf,Sp=ep,Cp=op,wp=bp,Tp=xp,Ep=Sp,Dp=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,P.jsx)(Cp,{ref:r,sideOffset:t,className:R(`z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]`,e),...n}));Dp.displayName=Cp.displayName;var Op=Symbol.for(`react.lazy`),kp=S.use;function Ap(e){return typeof e==`object`&&!!e&&`then`in e}function jp(e){return typeof e==`object`&&!!e&&`$$typeof`in e&&e.$$typeof===Op&&`_payload`in e&&Ap(e._payload)}function Mp(e){let t=Pp(e),n=S.forwardRef((e,n)=>{let{children:r,...i}=e;jp(r)&&typeof kp==`function`&&(r=kp(r._payload));let a=S.Children.toArray(r),o=a.find(Ip);if(o){let e=o.props.children,r=a.map(t=>t===o?S.Children.count(e)>1?S.Children.only(null):S.isValidElement(e)?e.props.children:null:t);return(0,P.jsx)(t,{...i,ref:n,children:S.isValidElement(e)?S.cloneElement(e,void 0,r):null})}return(0,P.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var Np=Mp(`Slot`);function Pp(e){let t=S.forwardRef((e,t)=>{let{children:n,...r}=e;if(jp(n)&&typeof kp==`function`&&(n=kp(n._payload)),S.isValidElement(n)){let e=Rp(n),i=Lp(r,n.props);return n.type!==S.Fragment&&(i.ref=t?nr(t,e):e),S.cloneElement(n,i)}return S.Children.count(n)>1?S.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fp=Symbol(`radix.slottable`);function Ip(e){return S.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===Fp}function Lp(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function Rp(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zp=768;function Bp(){let[e,t]=S.useState(void 0);return S.useEffect(()=>{let e=window.matchMedia(`(max-width: ${zp-1}px)`),n=()=>{t(window.innerWidth<zp)};return e.addEventListener(`change`,n),t(window.innerWidth<zp),()=>e.removeEventListener(`change`,n)},[]),!!e}var Vp=Zi(`inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,{variants:{variant:{default:`bg-primary text-primary-foreground hover:bg-primary/90`,destructive:`bg-destructive text-destructive-foreground hover:bg-destructive/90`,outline:`border border-input bg-transparent text-foreground hover:bg-accent hover:text-accent-foreground`,secondary:`bg-secondary text-secondary-foreground hover:bg-secondary/80`,ghost:`text-foreground hover:bg-accent hover:text-accent-foreground`,link:`text-foreground underline-offset-4 hover:underline`},size:{default:`h-10 px-4 py-2`,sm:`h-9 rounded-md px-3`,lg:`h-11 rounded-md px-8`,icon:`h-10 w-10`}},defaultVariants:{variant:`default`,size:`default`}}),B=S.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>(0,P.jsx)(r?Np:`button`,{className:R(Vp({variant:t,size:n,className:e})),ref:a,...i}));B.displayName=`Button`;var V=S.forwardRef(({className:e,type:t,...n},r)=>(0,P.jsx)(`input`,{type:t,className:R(`flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,e),ref:r,...n}));V.displayName=`Input`,h();var Hp=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`].reduce((e,t)=>{let n=Mp(`Primitive.${t}`),r=S.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,P.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Up=`Separator`,Wp=`horizontal`,Gp=[`horizontal`,`vertical`],Kp=S.forwardRef((e,t)=>{let{decorative:n,orientation:r=Wp,...i}=e,a=qp(r)?r:Wp,o=a===`vertical`?a:void 0,s=n?{role:`none`}:{"aria-orientation":o,role:`separator`};return(0,P.jsx)(Hp.div,{"data-orientation":a,...s,...i,ref:t})});Kp.displayName=Up;function qp(e){return Gp.includes(e)}var Jp=Kp,Yp=S.forwardRef(({className:e,orientation:t=`horizontal`,decorative:n=!0,...r},i)=>(0,P.jsx)(Jp,{ref:i,decorative:n,orientation:t,className:R(`shrink-0 bg-border`,t===`horizontal`?`h-[1px] w-full`:`h-full w-[1px]`,e),...r}));Yp.displayName=Jp.displayName;var Xp=`focusScope.autoFocusOnMount`,Zp=`focusScope.autoFocusOnUnmount`,Qp={bubbles:!1,cancelable:!0},$p=`FocusScope`,em=S.forwardRef((e,t)=>{let{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=S.useState(null),l=_r(i),u=_r(a),d=S.useRef(null),f=rr(t,e=>c(e)),p=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let e=function(e){if(p.paused||!s)return;let t=e.target;s.contains(t)?d.current=t:sm(d.current,{select:!0})},t=function(e){if(p.paused||!s)return;let t=e.relatedTarget;t!==null&&(s.contains(t)||sm(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&sm(s)};document.addEventListener(`focusin`,e),document.addEventListener(`focusout`,t);let r=new MutationObserver(n);return s&&r.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener(`focusin`,e),document.removeEventListener(`focusout`,t),r.disconnect()}}},[r,s,p.paused]),S.useEffect(()=>{if(s){cm.add(p);let e=document.activeElement;if(!s.contains(e)){let t=new CustomEvent(Xp,Qp);s.addEventListener(Xp,l),s.dispatchEvent(t),t.defaultPrevented||(tm(dm(rm(s)),{select:!0}),document.activeElement===e&&sm(s))}return()=>{s.removeEventListener(Xp,l),setTimeout(()=>{let t=new CustomEvent(Zp,Qp);s.addEventListener(Zp,u),s.dispatchEvent(t),t.defaultPrevented||sm(e??document.body,{select:!0}),s.removeEventListener(Zp,u),cm.remove(p)},0)}}},[s,l,u,p]);let m=S.useCallback(e=>{if(!n&&!r||p.paused)return;let t=e.key===`Tab`&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){let t=e.currentTarget,[r,a]=nm(t);r&&a?!e.shiftKey&&i===a?(e.preventDefault(),n&&sm(r,{select:!0})):e.shiftKey&&i===r&&(e.preventDefault(),n&&sm(a,{select:!0})):i===t&&e.preventDefault()}},[n,r,p.paused]);return(0,P.jsx)(F.div,{tabIndex:-1,...o,ref:f,onKeyDown:m})});em.displayName=$p;function tm(e,{select:t=!1}={}){let n=document.activeElement;for(let r of e)if(sm(r,{select:t}),document.activeElement!==n)return}function nm(e){let t=rm(e);return[im(t,e),im(t.reverse(),e)]}function rm(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t=e.tagName===`INPUT`&&e.type===`hidden`;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function im(e,t){for(let n of e)if(!am(n,{upTo:t}))return n}function am(e,{upTo:t}){if(getComputedStyle(e).visibility===`hidden`)return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display===`none`)return!0;e=e.parentElement}return!1}function om(e){return e instanceof HTMLInputElement&&`select`in e}function sm(e,{select:t=!1}={}){if(e&&e.focus){let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&om(e)&&t&&e.select()}}var cm=lm();function lm(){let e=[];return{add(t){let n=e[0];t!==n&&n?.pause(),e=um(e,t),e.unshift(t)},remove(t){e=um(e,t),e[0]?.resume()}}}function um(e,t){let n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dm(e){return e.filter(e=>e.tagName!==`A`)}var fm=0;function pm(){S.useEffect(()=>{let e=document.querySelectorAll(`[data-radix-focus-guard]`);return document.body.insertAdjacentElement(`afterbegin`,e[0]??mm()),document.body.insertAdjacentElement(`beforeend`,e[1]??mm()),fm++,()=>{fm===1&&document.querySelectorAll(`[data-radix-focus-guard]`).forEach(e=>e.remove()),fm--}},[])}function mm(){let e=document.createElement(`span`);return e.setAttribute(`data-radix-focus-guard`,``),e.tabIndex=0,e.style.outline=`none`,e.style.opacity=`0`,e.style.position=`fixed`,e.style.pointerEvents=`none`,e}var hm=function(){return hm=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},hm.apply(this,arguments)};function gm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols==`function`)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function _m(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function vm(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||=Array.prototype.slice.call(t,0,r),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var ym=`right-scroll-bar-position`,bm=`width-before-scroll-bar`,xm=`with-scroll-bars-hidden`,Sm=`--removed-body-scroll-bar-size`;function Cm(e,t){return typeof e==`function`?e(t):e&&(e.current=t),e}function wm(e,t){var n=(0,S.useState)(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}})[0];return n.callback=t,n.facade}var Tm=typeof window<`u`?S.useLayoutEffect:S.useEffect,Em=new WeakMap;function Dm(e,t){var n=wm(t||null,function(t){return e.forEach(function(e){return Cm(e,t)})});return Tm(function(){var t=Em.get(n);if(t){var r=new Set(t),i=new Set(e),a=n.current;r.forEach(function(e){i.has(e)||Cm(e,null)}),i.forEach(function(e){r.has(e)||Cm(e,a)})}Em.set(n,e)},[e]),n}function Om(e){return e}function km(e,t){t===void 0&&(t=Om);var n=[],r=!1;return{read:function(){if(r)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}function Am(e){e===void 0&&(e={});var t=km(null);return t.options=hm({async:!0,ssr:!1},e),t}var jm=function(e){var t=e.sideCar,n=gm(e,[`sideCar`]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error(`Sidecar medium not found`);return S.createElement(r,hm({},n))};jm.isSideCarExport=!0;function Mm(e,t){return e.useMedium(t),jm}var Nm=Am(),Pm=function(){},Fm=S.forwardRef(function(e,t){var n=S.useRef(null),r=S.useState({onScrollCapture:Pm,onWheelCapture:Pm,onTouchMoveCapture:Pm}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,f=e.sideCar,p=e.noRelative,m=e.noIsolation,h=e.inert,g=e.allowPinchZoom,_=e.as,v=_===void 0?`div`:_,y=e.gapMode,b=gm(e,[`forwardProps`,`children`,`className`,`removeScrollBar`,`enabled`,`shards`,`sideCar`,`noRelative`,`noIsolation`,`inert`,`allowPinchZoom`,`as`,`gapMode`]),x=f,C=Dm([n,t]),w=hm(hm({},b),i);return S.createElement(S.Fragment,null,u&&S.createElement(x,{sideCar:Nm,removeScrollBar:l,shards:d,noRelative:p,noIsolation:m,inert:h,setCallbacks:a,allowPinchZoom:!!g,lockRef:n,gapMode:y}),o?S.cloneElement(S.Children.only(s),hm(hm({},w),{ref:C})):S.createElement(v,hm({},w,{className:c,ref:C}),s))});Fm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Fm.classNames={fullWidth:bm,zeroRight:ym};var Im,Lm=function(){if(Im)return Im;if(typeof __webpack_nonce__<`u`)return __webpack_nonce__};function Rm(){if(!document)return null;var e=document.createElement(`style`);e.type=`text/css`;var t=Lm();return t&&e.setAttribute(`nonce`,t),e}function zm(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Bm(e){(document.head||document.getElementsByTagName(`head`)[0]).appendChild(e)}var Vm=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Rm())&&(zm(t,n),Bm(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Hm=function(){var e=Vm();return function(t,n){S.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Um=function(){var e=Hm();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Wm={left:0,top:0,right:0,gap:0},Gm=function(e){return parseInt(e||``,10)||0},Km=function(e){var t=window.getComputedStyle(document.body),n=t[e===`padding`?`paddingLeft`:`marginLeft`],r=t[e===`padding`?`paddingTop`:`marginTop`],i=t[e===`padding`?`paddingRight`:`marginRight`];return[Gm(n),Gm(r),Gm(i)]},qm=function(e){if(e===void 0&&(e=`margin`),typeof window>`u`)return Wm;var t=Km(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Jm=Um(),Ym=`data-scroll-locked`,Xm=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n=`margin`),`
  .${xm} {
   overflow: hidden ${r};
   padding-right: ${s}px ${r};
  }
  body[${Ym}] {
    overflow: hidden ${r};
    overscroll-behavior: contain;
    ${[t&&`position: relative ${r};`,n===`margin`&&`
    padding-left: ${i}px;
    padding-top: ${a}px;
    padding-right: ${o}px;
    margin-left:0;
    margin-top:0;
    margin-right: ${s}px ${r};
    `,n===`padding`&&`padding-right: ${s}px ${r};`].filter(Boolean).join(``)}
  }
  
  .${ym} {
    right: ${s}px ${r};
  }
  
  .${bm} {
    margin-right: ${s}px ${r};
  }
  
  .${ym} .${ym} {
    right: 0 ${r};
  }
  
  .${bm} .${bm} {
    margin-right: 0 ${r};
  }
  
  body[${Ym}] {
    ${Sm}: ${s}px;
  }
`},Zm=function(){var e=parseInt(document.body.getAttribute(`data-scroll-locked`)||`0`,10);return isFinite(e)?e:0},Qm=function(){S.useEffect(function(){return document.body.setAttribute(Ym,(Zm()+1).toString()),function(){var e=Zm()-1;e<=0?document.body.removeAttribute(Ym):document.body.setAttribute(Ym,e.toString())}},[])},$m=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?`margin`:r;Qm();var a=S.useMemo(function(){return qm(i)},[i]);return S.createElement(Jm,{styles:Xm(a,!t,i,n?``:`!important`)})},eh=!1;if(typeof window<`u`)try{var th=Object.defineProperty({},`passive`,{get:function(){return eh=!0,!0}});window.addEventListener(`test`,th,th),window.removeEventListener(`test`,th,th)}catch{eh=!1}var nh=eh?{passive:!1}:!1,rh=function(e){return e.tagName===`TEXTAREA`},ih=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!==`hidden`&&!(n.overflowY===n.overflowX&&!rh(e)&&n[t]===`visible`)},ah=function(e){return ih(e,`overflowY`)},oh=function(e){return ih(e,`overflowX`)},sh=function(e,t){var n=t.ownerDocument,r=t;do{if(typeof ShadowRoot<`u`&&r instanceof ShadowRoot&&(r=r.host),uh(e,r)){var i=dh(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ch=function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]},lh=function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]},uh=function(e,t){return e===`v`?ah(t):oh(t)},dh=function(e,t){return e===`v`?ch(t):lh(t)},fh=function(e,t){return e===`h`&&t===`rtl`?-1:1},ph=function(e,t,n,r,i){var a=fh(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,c=t.contains(s),l=!1,u=o>0,d=0,f=0;do{if(!s)break;var p=dh(e,s),m=p[0],h=p[1]-p[2]-a*m;(m||h)&&uh(e,s)&&(d+=h,f+=m);var g=s.parentNode;s=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(u&&(i&&Math.abs(d)<1||!i&&o>d)||!u&&(i&&Math.abs(f)<1||!i&&-o>f))&&(l=!0),l},mh=function(e){return`changedTouches`in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},hh=function(e){return[e.deltaX,e.deltaY]},gh=function(e){return e&&`current`in e?e.current:e},_h=function(e,t){return e[0]===t[0]&&e[1]===t[1]},vh=function(e){return`
  .block-interactivity-${e} {pointer-events: none;}
  .allow-interactivity-${e} {pointer-events: all;}
`},yh=0,bh=[];function xh(e){var t=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(yh++)[0],a=S.useState(Um)[0],o=S.useRef(e);S.useEffect(function(){o.current=e},[e]),S.useEffect(function(){if(e.inert){document.body.classList.add(`block-interactivity-${i}`);var t=vm([e.lockRef.current],(e.shards||[]).map(gh),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add(`allow-interactivity-${i}`)}),function(){document.body.classList.remove(`block-interactivity-${i}`),t.forEach(function(e){return e.classList.remove(`allow-interactivity-${i}`)})}}},[e.inert,e.lockRef.current,e.shards]);var s=S.useCallback(function(e,t){if(`touches`in e&&e.touches.length===2||e.type===`wheel`&&e.ctrlKey)return!o.current.allowPinchZoom;var i=mh(e),a=n.current,s=`deltaX`in e?e.deltaX:a[0]-i[0],c=`deltaY`in e?e.deltaY:a[1]-i[1],l,u=e.target,d=Math.abs(s)>Math.abs(c)?`h`:`v`;if(`touches`in e&&d===`h`&&u.type===`range`)return!1;var f=window.getSelection(),p=f&&f.anchorNode;if(p&&(p===u||p.contains(u)))return!1;var m=sh(d,u);if(!m)return!0;if(m?l=d:(l=d===`v`?`h`:`v`,m=sh(d,u)),!m)return!1;if(!r.current&&`changedTouches`in e&&(s||c)&&(r.current=l),!l)return!0;var h=r.current||l;return ph(h,t,e,h===`h`?s:c,!0)},[]),c=S.useCallback(function(e){var n=e;if(!(!bh.length||bh[bh.length-1]!==a)){var r=`deltaY`in n?hh(n):mh(n),i=t.current.filter(function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&_h(e.delta,r)})[0];if(i&&i.should){n.cancelable&&n.preventDefault();return}if(!i){var c=(o.current.shards||[]).map(gh).filter(Boolean).filter(function(e){return e.contains(n.target)});(c.length>0?s(n,c[0]):!o.current.noIsolation)&&n.cancelable&&n.preventDefault()}}},[]),l=S.useCallback(function(e,n,r,i){var a={name:e,delta:n,target:r,should:i,shadowParent:Sh(r)};t.current.push(a),setTimeout(function(){t.current=t.current.filter(function(e){return e!==a})},1)},[]),u=S.useCallback(function(e){n.current=mh(e),r.current=void 0},[]),d=S.useCallback(function(t){l(t.type,hh(t),t.target,s(t,e.lockRef.current))},[]),f=S.useCallback(function(t){l(t.type,mh(t),t.target,s(t,e.lockRef.current))},[]);S.useEffect(function(){return bh.push(a),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener(`wheel`,c,nh),document.addEventListener(`touchmove`,c,nh),document.addEventListener(`touchstart`,u,nh),function(){bh=bh.filter(function(e){return e!==a}),document.removeEventListener(`wheel`,c,nh),document.removeEventListener(`touchmove`,c,nh),document.removeEventListener(`touchstart`,u,nh)}},[]);var p=e.removeScrollBar,m=e.inert;return S.createElement(S.Fragment,null,m?S.createElement(a,{styles:vh(i)}):null,p?S.createElement($m,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Sh(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}var Ch=Mm(Nm,xh),wh=S.forwardRef(function(e,t){return S.createElement(Fm,hm({},e,{ref:t,sideCar:Ch}))});wh.classNames=Fm.classNames;var Th=wh,Eh=function(e){return typeof document>`u`?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Dh=new WeakMap,Oh=new WeakMap,kh={},Ah=0,jh=function(e){return e&&(e.host||jh(e.parentNode))},Mh=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=jh(t);return n&&e.contains(n)?n:(console.error(`aria-hidden`,t,`in not contained inside`,e,`. Doing nothing`),null)}).filter(function(e){return!!e})},Nh=function(e,t,n,r){var i=Mh(t,Array.isArray(e)?e:[e]);kh[n]||(kh[n]=new WeakMap);var a=kh[n],o=[],s=new Set,c=new Set(i),l=function(e){!e||s.has(e)||(s.add(e),l(e.parentNode))};i.forEach(l);var u=function(e){!e||c.has(e)||Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=t!==null&&t!==`false`,c=(Dh.get(e)||0)+1,l=(a.get(e)||0)+1;Dh.set(e,c),a.set(e,l),o.push(e),c===1&&i&&Oh.set(e,!0),l===1&&e.setAttribute(n,`true`),i||e.setAttribute(r,`true`)}catch(t){console.error(`aria-hidden: cannot operate on `,e,t)}})};return u(t),s.clear(),Ah++,function(){o.forEach(function(e){var t=Dh.get(e)-1,i=a.get(e)-1;Dh.set(e,t),a.set(e,i),t||(Oh.has(e)||e.removeAttribute(r),Oh.delete(e)),i||e.removeAttribute(n)}),Ah--,Ah||(Dh=new WeakMap,Dh=new WeakMap,Oh=new WeakMap,kh={})}},Ph=function(e,t,n){n===void 0&&(n=`data-aria-hidden`);var r=Array.from(Array.isArray(e)?e:[e]),i=t||Eh(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll(`[aria-live], script`))),Nh(r,i,n,`aria-hidden`)):function(){return null}},Fh=`Dialog`,[Ih,Lh]=or(Fh),[Rh,zh]=Ih(Fh),Bh=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=S.useRef(null),c=S.useRef(null),[l,u]=Wr({prop:r,defaultProp:i??!1,onChange:a,caller:Fh});return(0,P.jsx)(Rh,{scope:t,triggerRef:s,contentRef:c,contentId:z(),titleId:z(),descriptionId:z(),open:l,onOpenChange:u,onOpenToggle:S.useCallback(()=>u(e=>!e),[u]),modal:o,children:n})};Bh.displayName=Fh;var Vh=`DialogTrigger`,Hh=S.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=zh(Vh,n),a=rr(t,i.triggerRef);return(0,P.jsx)(F.button,{type:`button`,"aria-haspopup":`dialog`,"aria-expanded":i.open,"aria-controls":i.contentId,"data-state":cg(i.open),...r,ref:a,onClick:N(e.onClick,i.onOpenToggle)})});Hh.displayName=Vh;var Uh=`DialogPortal`,[Wh,Gh]=Ih(Uh,{forceMount:void 0}),Kh=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=zh(Uh,t);return(0,P.jsx)(Wh,{scope:t,forceMount:n,children:S.Children.map(r,e=>(0,P.jsx)(zr,{present:n||a.open,children:(0,P.jsx)(Lr,{asChild:!0,container:i,children:e})}))})};Kh.displayName=Uh;var qh=`DialogOverlay`,Jh=S.forwardRef((e,t)=>{let n=Gh(qh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=zh(qh,e.__scopeDialog);return a.modal?(0,P.jsx)(zr,{present:r||a.open,children:(0,P.jsx)(Xh,{...i,ref:t})}):null});Jh.displayName=qh;var Yh=cr(`DialogOverlay.RemoveScroll`),Xh=S.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=zh(qh,n);return(0,P.jsx)(Th,{as:Yh,allowPinchZoom:!0,shards:[i.contentRef],children:(0,P.jsx)(F.div,{"data-state":cg(i.open),...r,ref:t,style:{pointerEvents:`auto`,...r.style}})})}),Zh=`DialogContent`,Qh=S.forwardRef((e,t)=>{let n=Gh(Zh,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=zh(Zh,e.__scopeDialog);return(0,P.jsx)(zr,{present:r||a.open,children:a.modal?(0,P.jsx)($h,{...i,ref:t}):(0,P.jsx)(eg,{...i,ref:t})})});Qh.displayName=Zh;var $h=S.forwardRef((e,t)=>{let n=zh(Zh,e.__scopeDialog),r=S.useRef(null),i=rr(t,n.contentRef,r);return S.useEffect(()=>{let e=r.current;if(e)return Ph(e)},[]),(0,P.jsx)(tg,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(e.onCloseAutoFocus,e=>{e.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:N(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;(t.button===2||n)&&e.preventDefault()}),onFocusOutside:N(e.onFocusOutside,e=>e.preventDefault())})}),eg=S.forwardRef((e,t)=>{let n=zh(Zh,e.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return(0,P.jsx)(tg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type===`pointerdown`&&(i.current=!0));let a=t.target;n.triggerRef.current?.contains(a)&&t.preventDefault(),t.detail.originalEvent.type===`focusin`&&i.current&&t.preventDefault()}})}),tg=S.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=zh(Zh,n),c=S.useRef(null),l=rr(t,c);return pm(),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(em,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,P.jsx)(Tr,{role:`dialog`,id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":cg(s.open),...o,ref:l,onDismiss:()=>s.onOpenChange(!1)})}),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(fg,{titleId:s.titleId}),(0,P.jsx)(mg,{contentRef:c,descriptionId:s.descriptionId})]})]})}),ng=`DialogTitle`,rg=S.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=zh(ng,n);return(0,P.jsx)(F.h2,{id:i.titleId,...r,ref:t})});rg.displayName=ng;var ig=`DialogDescription`,ag=S.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=zh(ig,n);return(0,P.jsx)(F.p,{id:i.descriptionId,...r,ref:t})});ag.displayName=ig;var og=`DialogClose`,sg=S.forwardRef((e,t)=>{let{__scopeDialog:n,...r}=e,i=zh(og,n);return(0,P.jsx)(F.button,{type:`button`,...r,ref:t,onClick:N(e.onClick,()=>i.onOpenChange(!1))})});sg.displayName=og;function cg(e){return e?`open`:`closed`}var lg=`DialogTitleWarning`,[ug,dg]=ar(lg,{contentName:Zh,titleName:ng,docsSlug:`dialog`}),fg=({titleId:e})=>{let t=dg(lg),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return S.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},pg=`DialogDescriptionWarning`,mg=({contentRef:e,descriptionId:t})=>{let n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dg(pg).contentName}}.`;return S.useEffect(()=>{let r=e.current?.getAttribute(`aria-describedby`);t&&r&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},hg=Bh,gg=Hh,_g=Kh,vg=Jh,yg=Qh,bg=rg,xg=ag,Sg=sg,Cg=hg,wg=_g,Tg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(vg,{className:R(`fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,e),...t,ref:n}));Tg.displayName=vg.displayName;var Eg=Zi(`fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500`,{variants:{side:{top:`inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top`,bottom:`inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom`,left:`inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm`,right:`inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm`}},defaultVariants:{side:`right`}}),Dg=S.forwardRef(({side:e=`right`,className:t,children:n,...r},i)=>(0,P.jsxs)(wg,{children:[(0,P.jsx)(Tg,{}),(0,P.jsxs)(yg,{ref:i,className:R(Eg({side:e}),t),...r,children:[n,(0,P.jsxs)(Sg,{className:`absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary`,children:[(0,P.jsx)(L,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Close`})]})]})]}));Dg.displayName=yg.displayName;var Og=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col space-y-2 text-center sm:text-left`,e),...t});Og.displayName=`SheetHeader`;var kg=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2`,e),...t});kg.displayName=`SheetFooter`;var Ag=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(bg,{ref:n,className:R(`text-lg font-semibold text-foreground`,e),...t}));Ag.displayName=bg.displayName;var jg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(xg,{ref:n,className:R(`text-sm text-muted-foreground`,e),...t}));jg.displayName=xg.displayName;function Mg({className:e,...t}){return(0,P.jsx)(`div`,{className:R(`animate-pulse rounded-md bg-muted`,e),...t})}var Ng=`sidebar_state`,Pg=3600*24*7,Fg=`16rem`,Ig=`18rem`,Lg=`3rem`,Rg=`b`,zg=S.createContext(null);function Bg(){let e=S.useContext(zg);if(!e)throw Error(`useSidebar must be used within a SidebarProvider.`);return e}var Vg=S.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:a,...o},s)=>{let c=Bp(),[l,u]=S.useState(!1),[d,f]=S.useState(e),p=t??d,m=S.useCallback(e=>{let t=typeof e==`function`?e(p):e;n?n(t):f(t),document.cookie=`${Ng}=${t}; path=/; max-age=${Pg}`},[n,p]),h=S.useCallback(()=>c?u(e=>!e):m(e=>!e),[c,m,u]);S.useEffect(()=>{let e=e=>{e.key===Rg&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),h())};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[h]);let g=p?`expanded`:`collapsed`,_=S.useMemo(()=>({state:g,open:p,setOpen:m,isMobile:c,openMobile:l,setOpenMobile:u,toggleSidebar:h}),[g,p,m,c,l,u,h]);return(0,P.jsx)(zg.Provider,{value:_,children:(0,P.jsx)(wp,{delayDuration:0,children:(0,P.jsx)(`div`,{style:{"--sidebar-width":Fg,"--sidebar-width-icon":Lg,...i},className:R(`group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar`,r),ref:s,...o,children:a})})})});Vg.displayName=`SidebarProvider`;var Hg=S.forwardRef(({side:e=`left`,variant:t=`sidebar`,collapsible:n=`offcanvas`,className:r,children:i,...a},o)=>{let{isMobile:s,state:c,openMobile:l,setOpenMobile:u}=Bg();return n===`none`?(0,P.jsx)(`div`,{className:R(`flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground`,r),ref:o,...a,children:i}):s?(0,P.jsx)(Cg,{open:l,onOpenChange:u,...a,children:(0,P.jsxs)(Dg,{"data-sidebar":`sidebar`,"data-mobile":`true`,className:`w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden`,style:{"--sidebar-width":Ig},side:e,children:[(0,P.jsxs)(Og,{className:`sr-only`,children:[(0,P.jsx)(Ag,{children:`Sidebar`}),(0,P.jsx)(jg,{children:`Displays the mobile sidebar.`})]}),(0,P.jsx)(`div`,{className:`flex h-full w-full flex-col`,children:i})]})}):(0,P.jsxs)(`div`,{ref:o,className:`group peer hidden text-sidebar-foreground md:block`,"data-state":c,"data-collapsible":c===`collapsed`?n:``,"data-variant":t,"data-side":e,children:[(0,P.jsx)(`div`,{className:R(`relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear`,`group-data-[collapsible=offcanvas]:w-0`,`group-data-[side=right]:rotate-180`,t===`floating`||t===`inset`?`group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon]`)}),(0,P.jsx)(`div`,{className:R(`fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex`,e===`left`?`left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]`:`right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]`,t===`floating`||t===`inset`?`p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]`:`group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l`,r),...a,children:(0,P.jsx)(`div`,{"data-sidebar":`sidebar`,className:`flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow`,children:i})})]})});Hg.displayName=`Sidebar`;var Ug=S.forwardRef(({className:e,onClick:t,...n},r)=>{let{toggleSidebar:i}=Bg();return(0,P.jsx)(B,{ref:r,"data-sidebar":`trigger`,variant:`ghost`,size:`icon`,className:R(`h-7 w-7`,e),onClick:e=>{t?.(e),i()},...n,children:(0,P.jsxs)(`span`,{children:[(0,P.jsx)(Ja,{}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Toggle Sidebar`})]})})});Ug.displayName=`SidebarTrigger`;var Wg=S.forwardRef(({className:e,...t},n)=>{let{toggleSidebar:r}=Bg();return(0,P.jsx)(`button`,{ref:n,"data-sidebar":`rail`,"aria-label":`Toggle Sidebar`,tabIndex:-1,onClick:r,title:`Toggle Sidebar`,className:R(`absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex`,`[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize`,`[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize`,`group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar`,`[[data-side=left][data-collapsible=offcanvas]_&]:-right-2`,`[[data-side=right][data-collapsible=offcanvas]_&]:-left-2`,e),...t})});Wg.displayName=`SidebarRail`;var Gg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`main`,{ref:n,className:R(`relative flex w-full flex-1 flex-col bg-background`,`md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow`,e),...t}));Gg.displayName=`SidebarInset`;var Kg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(V,{ref:n,"data-sidebar":`input`,className:R(`h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring`,e),...t}));Kg.displayName=`SidebarInput`;var qg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`header`,className:R(`flex flex-col gap-2 p-2`,e),...t}));qg.displayName=`SidebarHeader`;var Jg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`footer`,className:R(`flex flex-col gap-2 p-2`,e),...t}));Jg.displayName=`SidebarFooter`;var Yg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(Yp,{ref:n,"data-sidebar":`separator`,className:R(`mx-2 w-auto bg-sidebar-border`,e),...t}));Yg.displayName=`SidebarSeparator`;var Xg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`content`,className:R(`flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden`,e),...t}));Xg.displayName=`SidebarContent`;var Zg=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`group`,className:R(`relative flex w-full min-w-0 flex-col p-2`,e),...t}));Zg.displayName=`SidebarGroup`;var Qg=S.forwardRef(({className:e,asChild:t=!1,...n},r)=>(0,P.jsx)(t?Np:`div`,{ref:r,"data-sidebar":`group-label`,className:R(`flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0`,`group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0`,e),...n}));Qg.displayName=`SidebarGroupLabel`;var $g=S.forwardRef(({className:e,asChild:t=!1,...n},r)=>(0,P.jsx)(t?Np:`button`,{ref:r,"data-sidebar":`group-action`,className:R(`absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0`,`after:absolute after:-inset-2 after:md:hidden`,`group-data-[collapsible=icon]:hidden`,e),...n}));$g.displayName=`SidebarGroupAction`;var e_=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`group-content`,className:R(`w-full text-sm`,e),...t}));e_.displayName=`SidebarGroupContent`;var t_=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`ul`,{ref:n,"data-sidebar":`menu`,className:R(`flex w-full min-w-0 flex-col gap-1`,e),...t}));t_.displayName=`SidebarMenu`;var n_=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`li`,{ref:n,"data-sidebar":`menu-item`,className:R(`group/menu-item relative`,e),...t}));n_.displayName=`SidebarMenuItem`;var r_=Zi(`peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0`,{variants:{variant:{default:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`,outline:`bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]`},size:{default:`h-8 text-sm`,sm:`h-7 text-xs`,lg:`h-12 text-sm group-data-[collapsible=icon]:!p-0`}},defaultVariants:{variant:`default`,size:`default`}}),i_=S.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n=`default`,size:r=`default`,tooltip:i,className:a,...o},s)=>{let c=e?Np:`button`,{isMobile:l,state:u}=Bg(),d=(0,P.jsx)(c,{ref:s,"data-sidebar":`menu-button`,"data-size":r,"data-active":t,className:R(r_({variant:n,size:r}),a),...o});return i?(typeof i==`string`&&(i={children:i}),(0,P.jsxs)(Tp,{children:[(0,P.jsx)(Ep,{asChild:!0,children:d}),(0,P.jsx)(Dp,{side:`right`,align:`center`,hidden:u!==`collapsed`||l,...i})]})):d});i_.displayName=`SidebarMenuButton`;var a_=S.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},i)=>(0,P.jsx)(t?Np:`button`,{ref:i,"data-sidebar":`menu-action`,className:R(`absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0`,`after:absolute after:-inset-2 after:md:hidden`,`peer-data-[size=sm]/menu-button:top-1`,`peer-data-[size=default]/menu-button:top-1.5`,`peer-data-[size=lg]/menu-button:top-2.5`,`group-data-[collapsible=icon]:hidden`,n&&`group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0`,e),...r}));a_.displayName=`SidebarMenuAction`;var o_=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,"data-sidebar":`menu-badge`,className:R(`pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground`,`peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground`,`peer-data-[size=sm]/menu-button:top-1`,`peer-data-[size=default]/menu-button:top-1.5`,`peer-data-[size=lg]/menu-button:top-2.5`,`group-data-[collapsible=icon]:hidden`,e),...t}));o_.displayName=`SidebarMenuBadge`;var s_=S.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{let i=S.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return(0,P.jsxs)(`div`,{ref:r,"data-sidebar":`menu-skeleton`,className:R(`flex h-8 items-center gap-2 rounded-md px-2`,e),...n,children:[t&&(0,P.jsx)(Mg,{className:`size-4 rounded-md`,"data-sidebar":`menu-skeleton-icon`}),(0,P.jsx)(Mg,{className:`h-4 max-w-[--skeleton-width] flex-1`,"data-sidebar":`menu-skeleton-text`,style:{"--skeleton-width":i}})]})});s_.displayName=`SidebarMenuSkeleton`;var c_=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`ul`,{ref:n,"data-sidebar":`menu-sub`,className:R(`mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5`,`group-data-[collapsible=icon]:hidden`,e),...t}));c_.displayName=`SidebarMenuSub`;var l_=S.forwardRef(({...e},t)=>(0,P.jsx)(`li`,{ref:t,...e}));l_.displayName=`SidebarMenuSubItem`;var u_=S.forwardRef(({asChild:e=!1,size:t=`md`,isActive:n,className:r,...i},a)=>(0,P.jsx)(e?Np:`a`,{ref:a,"data-sidebar":`menu-sub-button`,"data-size":t,"data-active":n,className:R(`flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground`,`data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground`,t===`sm`&&`text-xs`,t===`md`&&`text-sm`,`group-data-[collapsible=icon]:hidden`,r),...i}));u_.displayName=`SidebarMenuSubButton`;var d_=e=>{let t,n=new Set,r=(e,r)=>{let i=typeof e==`function`?e(t):e;if(!Object.is(i,t)){let e=t;t=r??(typeof i!=`object`||!i)?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>o,subscribe:e=>(n.add(e),()=>n.delete(e))},o=t=e(r,i,a);return a},f_=(e=>e?d_(e):d_),p_=e=>e;function m_(e,t=p_){let n=S.useSyncExternalStore(e.subscribe,S.useCallback(()=>t(e.getState()),[e,t]),S.useCallback(()=>t(e.getInitialState()),[e,t]));return S.useDebugValue(n),n}var h_=e=>{let t=f_(e),n=e=>m_(t,e);return Object.assign(n,t),n},g_=(e=>e?h_(e):h_);function __(e,t){let n;try{n=e()}catch{return}return{getItem:e=>{let r=e=>e===null?null:JSON.parse(e,t?.reviver),i=n.getItem(e)??null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,t?.replacer)),removeItem:e=>n.removeItem(e)}}var v_=e=>t=>{try{let n=e(t);return n instanceof Promise?n:{then(e){return v_(e)(n)},catch(e){return this}}}catch(e){return{then(e){return this},catch(t){return v_(t)(e)}}}},y_=(e,t)=>(n,r,i)=>{let a={storage:__(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,s=0,c=new Set,l=new Set,u=a.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...e)},r,i);let d=()=>{let e=a.partialize({...r()});return u.setItem(a.name,{state:e,version:a.version})},f=i.setState;i.setState=(e,t)=>(f(e,t),d());let p=e((...e)=>(n(...e),d()),r,i);i.getInitialState=()=>p;let m,h=()=>{if(!u)return;let e=++s;o=!1,c.forEach(e=>e(r()??p));let t=a.onRehydrateStorage?.call(a,r()??p)||void 0;return v_(u.getItem.bind(u))(a.name).then(e=>{if(e)if(typeof e.version==`number`&&e.version!==a.version){if(a.migrate){let t=a.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error(`State loaded from storage couldn't be migrated since no migrate function was provided`)}else return[!1,e.state];return[!1,void 0]}).then(t=>{if(e!==s)return;let[i,o]=t;if(m=a.merge(o,r()??p),n(m,!0),i)return d()}).then(()=>{e===s&&(t?.(m,void 0),m=r(),o=!0,l.forEach(e=>e(m)))}).catch(n=>{e===s&&t?.(void 0,n)})};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(u=e.storage)},clearStorage:()=>{u?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||h(),m||p};const b_=e=>e?(...t)=>e(...t):(...e)=>fetch(...e);var x_=class extends Error{constructor(e,t=`FunctionsError`,n){super(e),this.name=t,this.context=n}},S_=class extends x_{constructor(e){super(`Failed to send a request to the Edge Function`,`FunctionsFetchError`,e)}},C_=class extends x_{constructor(e){super(`Relay Error invoking the Edge Function`,`FunctionsRelayError`,e)}},w_=class extends x_{constructor(e){super(`Edge Function returned a non-2xx status code`,`FunctionsHttpError`,e)}},T_;(function(e){e.Any=`any`,e.ApNortheast1=`ap-northeast-1`,e.ApNortheast2=`ap-northeast-2`,e.ApSouth1=`ap-south-1`,e.ApSoutheast1=`ap-southeast-1`,e.ApSoutheast2=`ap-southeast-2`,e.CaCentral1=`ca-central-1`,e.EuCentral1=`eu-central-1`,e.EuWest1=`eu-west-1`,e.EuWest2=`eu-west-2`,e.EuWest3=`eu-west-3`,e.SaEast1=`sa-east-1`,e.UsEast1=`us-east-1`,e.UsWest1=`us-west-1`,e.UsWest2=`us-west-2`})(T_||={});var E_=class{constructor(e,{headers:t={},customFetch:n,region:r=T_.Any}={}){this.url=e,this.headers=t,this.region=r,this.fetch=b_(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return _m(this,arguments,void 0,function*(e,t={}){let n,r;try{let{headers:i,method:a,body:o,signal:s,timeout:c}=t,l={},{region:u}=t;u||=this.region;let d=new URL(`${this.url}/${e}`);u&&u!==`any`&&(l[`x-region`]=u,d.searchParams.set(`forceFunctionRegion`,u));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,`Content-Type`)||!i)?typeof Blob<`u`&&o instanceof Blob||o instanceof ArrayBuffer?(l[`Content-Type`]=`application/octet-stream`,f=o):typeof o==`string`?(l[`Content-Type`]=`text/plain`,f=o):typeof FormData<`u`&&o instanceof FormData?f=o:(l[`Content-Type`]=`application/json`,f=JSON.stringify(o)):f=o&&typeof o!=`string`&&!(typeof Blob<`u`&&o instanceof Blob)&&!(o instanceof ArrayBuffer)&&!(typeof FormData<`u`&&o instanceof FormData)?JSON.stringify(o):o;let p=s;c&&(r=new AbortController,n=setTimeout(()=>r.abort(),c),s?(p=r.signal,s.addEventListener(`abort`,()=>r.abort())):p=r.signal);let m=yield this.fetch(d.toString(),{method:a||`POST`,headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f,signal:p}).catch(e=>{throw new S_(e)}),h=m.headers.get(`x-relay-error`);if(h&&h===`true`)throw new C_(m);if(!m.ok)throw new w_(m);let g=(m.headers.get(`Content-Type`)??`text/plain`).split(`;`)[0].trim(),_;return _=g===`application/json`?yield m.json():g===`application/octet-stream`||g===`application/pdf`?yield m.blob():g===`text/event-stream`?m:g===`multipart/form-data`?yield m.formData():yield m.text(),{data:_,error:null,response:m}}catch(e){return{data:null,error:e,response:e instanceof w_||e instanceof C_?e.context:void 0}}finally{n&&clearTimeout(n)}})}},D_=class extends Error{constructor(e){super(e.message),this.name=`PostgrestError`,this.details=e.details,this.hint=e.hint,this.code=e.code}},O_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError??!1,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle??!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||([`GET`,`HEAD`].includes(this.method)?this.headers.set(`Accept-Profile`,this.schema):this.headers.set(`Content-Profile`,this.schema)),this.method!==`GET`&&this.method!==`HEAD`&&this.headers.set(`Content-Type`,`application/json`);let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,i=null,a=e.status,o=e.statusText;if(e.ok){if(n.method!==`HEAD`){let t=await e.text();t===``||(r=n.headers.get(`Accept`)===`text/csv`||n.headers.get(`Accept`)&&n.headers.get(`Accept`)?.includes(`application/vnd.pgrst.plan+text`)?t:JSON.parse(t))}let s=n.headers.get(`Prefer`)?.match(/count=(exact|planned|estimated)/),c=e.headers.get(`content-range`)?.split(`/`);s&&c&&c.length>1&&(i=parseInt(c[1])),n.isMaybeSingle&&n.method===`GET`&&Array.isArray(r)&&(r.length>1?(t={code:`PGRST116`,details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:`JSON object requested, multiple (or no) rows returned`},r=null,i=null,a=406,o=`Not Acceptable`):r=r.length===1?r[0]:null)}else{var s;let i=await e.text();try{t=JSON.parse(i),Array.isArray(t)&&e.status===404&&(r=[],t=null,a=200,o=`OK`)}catch{e.status===404&&i===``?(a=204,o=`No Content`):t={message:i}}if(t&&n.isMaybeSingle&&!(t==null||(s=t.details)==null)&&s.includes(`0 rows`)&&(t=null,a=200,o=`OK`),t&&n.shouldThrowOnError)throw new D_(t)}return{error:t,data:r,count:i,status:a,statusText:o}});return this.shouldThrowOnError||(i=i.catch(e=>{let t=``,n=e?.cause;if(n){let r=n?.message??``,i=n?.code??``;t=`${e?.name??`FetchError`}: ${e?.message}`,t+=`\n\nCaused by: ${n?.name??`Error`}: ${r}`,i&&(t+=` (${i})`),n?.stack&&(t+=`\n${n.stack}`)}else t=e?.stack??``;return{error:{message:`${e?.name??`FetchError`}: ${e?.message}`,details:t,hint:``,code:``},data:null,count:null,status:0,statusText:``}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},k_=class extends O_{select(e){let t=!1,n=(e??`*`).split(``).map(e=>/\s/.test(e)&&!t?``:(e===`"`&&(t=!t),e)).join(``);return this.url.searchParams.set(`select`,n),this.headers.append(`Prefer`,`return=representation`),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let a=i?`${i}.order`:`order`,o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:``}${e}.${t?`asc`:`desc`}${n===void 0?``:n?`.nullsfirst`:`.nullslast`}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=n===void 0?`limit`:`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=r===void 0?`offset`:`${r}.offset`,a=r===void 0?`limit`:`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this}maybeSingle(){return this.method===`GET`?this.headers.set(`Accept`,`application/json`):this.headers.set(`Accept`,`application/vnd.pgrst.object+json`),this.isMaybeSingle=!0,this}csv(){return this.headers.set(`Accept`,`text/csv`),this}geojson(){return this.headers.set(`Accept`,`application/geo+json`),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a=`text`}={}){let o=[e?`analyze`:null,t?`verbose`:null,n?`settings`:null,r?`buffers`:null,i?`wal`:null].filter(Boolean).join(`|`),s=this.headers.get(`Accept`)??`application/json`;return this.headers.set(`Accept`,`application/vnd.pgrst.plan+${a}; for="${s}"; options=${o};`),this}rollback(){return this.headers.append(`Prefer`,`tx=rollback`),this}returns(){return this}maxAffected(e){return this.headers.append(`Prefer`,`handling=strict`),this.headers.append(`Prefer`,`max-affected=${e}`),this}},A_=RegExp(`[,()]`),j_=class extends k_{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(`,`)}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(`,`)}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(`,`)}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(`,`)}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&A_.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(e=>typeof e==`string`&&A_.test(e)?`"${e}"`:`${e}`).join(`,`);return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t==`string`?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(`,`)}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t==`string`?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(`,`)}}`),this}textSearch(e,t,{config:n,type:r}={}){let i=``;r===`plain`?i=`pl`:r===`phrase`?i=`ph`:r===`websearch`&&(i=`w`);let a=n===void 0?``:`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:`or`;return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},M_=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?`HEAD`:`GET`,a=!1,o=(e??`*`).split(``).map(e=>/\s/.test(e)&&!a?``:(e===`"`&&(a=!a),e)).join(``),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set(`select`,o),r&&c.append(`Prefer`,`count=${r}`),new j_({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){let{url:r,headers:i}=this.cloneRequestState();if(t&&i.append(`Prefer`,`count=${t}`),n||i.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);r.searchParams.set(`columns`,e.join(`,`))}}return new j_({method:`POST`,url:r,headers:i,schema:this.schema,body:e,fetch:this.fetch??fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){let{url:a,headers:o}=this.cloneRequestState();if(o.append(`Prefer`,`resolution=${n?`ignore`:`merge`}-duplicates`),t!==void 0&&a.searchParams.set(`on_conflict`,t),r&&o.append(`Prefer`,`count=${r}`),i||o.append(`Prefer`,`missing=default`),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);a.searchParams.set(`columns`,e.join(`,`))}}return new j_({method:`POST`,url:a,headers:o,schema:this.schema,body:e,fetch:this.fetch??fetch})}update(e,{count:t}={}){let{url:n,headers:r}=this.cloneRequestState();return t&&r.append(`Prefer`,`count=${t}`),new j_({method:`PATCH`,url:n,headers:r,schema:this.schema,body:e,fetch:this.fetch??fetch})}delete({count:e}={}){let{url:t,headers:n}=this.cloneRequestState();return e&&n.append(`Prefer`,`count=${e}`),new j_({method:`DELETE`,url:t,headers:n,schema:this.schema,fetch:this.fetch??fetch})}},N_=class e{constructor(e,{headers:t={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(t),this.schemaName=n,this.fetch=r}from(e){if(!e||typeof e!=`string`||e.trim()===``)throw Error(`Invalid relation name: relation must be a non-empty string.`);return new M_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:r=!1,count:i}={}){let a,o=new URL(`${this.url}/rpc/${e}`),s,c=e=>typeof e==`object`&&!!e&&(!Array.isArray(e)||e.some(c)),l=n&&Object.values(t).some(c);l?(a=`POST`,s=t):n||r?(a=n?`HEAD`:`GET`,Object.entries(t).filter(([e,t])=>t!==void 0).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(`,`)}}`:`${t}`]).forEach(([e,t])=>{o.searchParams.append(e,t)})):(a=`POST`,s=t);let u=new Headers(this.headers);return l?u.set(`Prefer`,i?`count=${i},return=minimal`:`return=minimal`):i&&u.set(`Prefer`,`count=${i}`),new j_({method:a,url:o,headers:u,schema:this.schemaName,body:s,fetch:this.fetch??fetch})}},P_=class{constructor(){}static detectEnvironment(){if(typeof WebSocket<`u`)return{type:`native`,constructor:WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocket!==void 0)return{type:`native`,constructor:globalThis.WebSocket};if(typeof global<`u`&&global.WebSocket!==void 0)return{type:`native`,constructor:global.WebSocket};if(typeof globalThis<`u`&&globalThis.WebSocketPair!==void 0&&globalThis.WebSocket===void 0)return{type:`cloudflare`,error:`Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.`,workaround:`Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.`};if(typeof globalThis<`u`&&globalThis.EdgeRuntime||typeof navigator<`u`&&navigator.userAgent?.includes(`Vercel-Edge`))return{type:`unsupported`,error:`Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.`,workaround:`Use serverless functions or a different deployment target for WebSocket functionality.`};let e=globalThis.process;if(e){let t=e.versions;if(t&&t.node){let e=t.node,n=parseInt(e.replace(/^v/,``).split(`.`)[0]);return n>=22?globalThis.WebSocket===void 0?{type:`unsupported`,error:`Node.js ${n} detected but native WebSocket not found.`,workaround:`Provide a WebSocket implementation via the transport option.`}:{type:`native`,constructor:globalThis.WebSocket}:{type:`unsupported`,error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:`unsupported`,error:`Unknown JavaScript runtime without WebSocket support.`,workaround:`Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.`}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||`WebSocket not supported in this environment.`;throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return e.type===`native`||e.type===`ws`}catch{return!1}}};const F_=`1.0.0`,I_=F_,L_=1e4;var R_;(function(e){e[e.connecting=0]=`connecting`,e[e.open=1]=`open`,e[e.closing=2]=`closing`,e[e.closed=3]=`closed`})(R_||={});var z_;(function(e){e.closed=`closed`,e.errored=`errored`,e.joined=`joined`,e.joining=`joining`,e.leaving=`leaving`})(z_||={});var B_;(function(e){e.close=`phx_close`,e.error=`phx_error`,e.join=`phx_join`,e.reply=`phx_reply`,e.leave=`phx_leave`,e.access_token=`access_token`})(B_||={});var V_;(function(e){e.websocket=`websocket`})(V_||={});var H_;(function(e){e.Connecting=`connecting`,e.Open=`open`,e.Closing=`closing`,e.Closed=`closed`})(H_||={});var U_=class{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT=`broadcast`,this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event==`string`)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){return this._isArrayBuffer(e.payload?.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){let t=e.payload?.payload??new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,t)}_encodeJsonUserBroadcastPush(e){let t=e.payload?.payload??{},n=new TextEncoder().encode(JSON.stringify(t)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,n)}_encodeUserBroadcastPush(e,t,n){let r=e.topic,i=e.ref??``,a=e.join_ref??``,o=e.payload.event,s=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},c=Object.keys(s).length===0?``:JSON.stringify(s);if(a.length>255)throw Error(`joinRef length ${a.length} exceeds maximum of 255`);if(i.length>255)throw Error(`ref length ${i.length} exceeds maximum of 255`);if(r.length>255)throw Error(`topic length ${r.length} exceeds maximum of 255`);if(o.length>255)throw Error(`userEvent length ${o.length} exceeds maximum of 255`);if(c.length>255)throw Error(`metadata length ${c.length} exceeds maximum of 255`);let l=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+r.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+l),d=new DataView(u),f=0;d.setUint8(f++,this.KINDS.userBroadcastPush),d.setUint8(f++,a.length),d.setUint8(f++,i.length),d.setUint8(f++,r.length),d.setUint8(f++,o.length),d.setUint8(f++,c.length),d.setUint8(f++,t),Array.from(a,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(i,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(r,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(o,e=>d.setUint8(f++,e.charCodeAt(0))),Array.from(c,e=>d.setUint8(f++,e.charCodeAt(0)));var p=new Uint8Array(u.byteLength+n.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(n),u.byteLength),p.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if(typeof e==`string`){let[n,r,i,a,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:a,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,r)}}_decodeUserBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4),s=this.HEADER_LENGTH+4,c=n.decode(e.slice(s,s+r));s+=r;let l=n.decode(e.slice(s,s+i));s+=i;let u=n.decode(e.slice(s,s+a));s+=a;let d=e.slice(s,e.byteLength),f=o===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,p={type:this.BROADCAST_EVENT,event:l,payload:f};return a>0&&(p.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:p}}_isArrayBuffer(e){return e instanceof ArrayBuffer||e?.constructor?.name===`ArrayBuffer`}_pick(e,t){return!e||typeof e!=`object`?{}:Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e)))}},W_=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries+=1,this.callback()},this.timerCalc(this.tries+1))}},G_;(function(e){e.abstime=`abstime`,e.bool=`bool`,e.date=`date`,e.daterange=`daterange`,e.float4=`float4`,e.float8=`float8`,e.int2=`int2`,e.int4=`int4`,e.int4range=`int4range`,e.int8=`int8`,e.int8range=`int8range`,e.json=`json`,e.jsonb=`jsonb`,e.money=`money`,e.numeric=`numeric`,e.oid=`oid`,e.reltime=`reltime`,e.text=`text`,e.time=`time`,e.timestamp=`timestamp`,e.timestamptz=`timestamptz`,e.timetz=`timetz`,e.tsrange=`tsrange`,e.tstzrange=`tstzrange`})(G_||={});const K_=(e,t,n={})=>{let r=n.skipTypes??[];return t?Object.keys(t).reduce((n,i)=>(n[i]=q_(i,e,t,r),n),{}):{}},q_=(e,t,n,r)=>{let i=t.find(t=>t.name===e)?.type,a=n[e];return i&&!r.includes(i)?J_(i,a):Y_(a)},J_=(e,t)=>{if(e.charAt(0)===`_`)return $_(t,e.slice(1,e.length));switch(e){case G_.bool:return X_(t);case G_.float4:case G_.float8:case G_.int2:case G_.int4:case G_.int8:case G_.numeric:case G_.oid:return Z_(t);case G_.json:case G_.jsonb:return Q_(t);case G_.timestamp:return ev(t);case G_.abstime:case G_.date:case G_.daterange:case G_.int4range:case G_.int8range:case G_.money:case G_.reltime:case G_.text:case G_.time:case G_.timestamptz:case G_.timetz:case G_.tsrange:case G_.tstzrange:return Y_(t);default:return Y_(t)}};var Y_=e=>e;const X_=e=>{switch(e){case`t`:return!0;case`f`:return!1;default:return e}},Z_=e=>{if(typeof e==`string`){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q_=e=>{if(typeof e==`string`)try{return JSON.parse(e)}catch{return e}return e},$_=(e,t)=>{if(typeof e!=`string`)return e;let n=e.length-1,r=e[n];if(e[0]===`{`&&r===`}`){let r,i=e.slice(1,n);try{r=JSON.parse(`[`+i+`]`)}catch{r=i?i.split(`,`):[]}return r.map(e=>J_(t,e))}return e},ev=e=>typeof e==`string`?e.replace(` `,`T`):e,tv=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,`http`),t.pathname=t.pathname.replace(/\/+$/,``).replace(/\/socket\/websocket$/i,``).replace(/\/socket$/i,``).replace(/\/websocket$/i,``),t.pathname===``||t.pathname===`/`?t.pathname=`/api/broadcast`:t.pathname+=`/api/broadcast`,t.href};var nv=class{constructor(e,t,n={},r=L_){this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref=``,this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref=``,this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived(`timeout`)||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){return this._hasReceived(e)&&t(this.receivedResp?.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||=(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),setTimeout(()=>{this.trigger(`timeout`,{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}},rv;(function(e){e.SYNC=`sync`,e.JOIN=`join`,e.LEAVE=`leave`})(rv||={});var iv=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:`presence_state`,diff:`presence_diff`};this.channel._on(r.state,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,t,n,r),this.pendingDiffs.forEach(t=>{this.state=e.syncDiff(this.state,t,n,r)}),this.pendingDiffs=[],i()}),this.channel._on(r.diff,{},t=>{let{onJoin:n,onLeave:r,onSync:i}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(t):(this.state=e.syncDiff(this.state,t,n,r),i())}),this.onJoin((e,t,n)=>{this.channel._trigger(`presence`,{event:`join`,key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger(`presence`,{event:`leave`,key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger(`presence`,{event:`sync`})})}static syncState(e,t,n,r){let i=this.cloneDeep(e),a=this.transformState(t),o={},s={};return this.map(i,(e,t)=>{a[e]||(s[e]=t)}),this.map(a,(e,t)=>{let n=i[e];if(n){let r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),c=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(o[e]=a),c.length>0&&(s[e]=c)}else o[e]=t}),this.syncDiff(i,{joins:o,leaves:s},n,r)}static syncDiff(e,t,n,r){let{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||=()=>{},r||=()=>{},this.map(i,(t,r)=>{let i=e[t]??[];if(e[t]=this.cloneDeep(r),i.length>0){let n=e[t].map(e=>e.presence_ref),r=i.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,i,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;let a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),i.length===0&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{let r=e[n];return`metas`in r?t[n]=r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[n]=r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}},av;(function(e){e.ALL=`*`,e.INSERT=`INSERT`,e.UPDATE=`UPDATE`,e.DELETE=`DELETE`})(av||={});var ov;(function(e){e.BROADCAST=`broadcast`,e.PRESENCE=`presence`,e.POSTGRES_CHANGES=`postgres_changes`,e.SYSTEM=`system`})(ov||={});var sv;(function(e){e.SUBSCRIBED=`SUBSCRIBED`,e.TIMED_OUT=`TIMED_OUT`,e.CLOSED=`CLOSED`,e.CHANNEL_ERROR=`CHANNEL_ERROR`})(sv||={});var cv=class e{constructor(e,t={config:{}},n){if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=z_.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,``),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:``,enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new nv(this,B_.join,this.params,this.timeout),this.rejoinTimer=new W_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive(`ok`,()=>{this.state=z_.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log(`channel`,`close ${this.topic} ${this._joinRef()}`),this.state=z_.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=z_.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`timeout`,()=>{this._isJoining()&&(this.socket.log(`channel`,`timeout ${this.topic}`,this.joinPush.timeout),this.state=z_.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive(`error`,e=>{this._isLeaving()||this._isClosed()||(this.socket.log(`channel`,`error ${this.topic}`,e),this.state=z_.errored,this.rejoinTimer.scheduleTimeout())}),this._on(B_.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new iv(this),this.broadcastEndpointURL=tv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&this.params.config?.broadcast?.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){if(this.socket.isConnected()||this.socket.connect(),this.state==z_.closed){let{config:{broadcast:r,presence:i,private:a}}=this.params,o=this.bindings.postgres_changes?.map(e=>e.filter)??[],s=!!this.bindings[ov.PRESENCE]&&this.bindings[ov.PRESENCE].length>0||this.params.config.presence?.enabled===!0,c={},l={broadcast:r,presence:Object.assign(Object.assign({},i),{enabled:s}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(e=>t?.(sv.CHANNEL_ERROR,e)),this._onClose(()=>t?.(sv.CLOSED)),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive(`ok`,async({postgres_changes:n})=>{if(this.socket._isManualToken()||this.socket.setAuth(),n===void 0){t?.(sv.SUBSCRIBED);return}else{let r=this.bindings.postgres_changes,i=r?.length??0,a=[];for(let o=0;o<i;o++){let i=r[o],{filter:{event:s,schema:c,table:l,filter:u}}=i,d=n&&n[o];if(d&&d.event===s&&e.isFilterValueEqual(d.schema,c)&&e.isFilterValueEqual(d.table,l)&&e.isFilterValueEqual(d.filter,u))a.push(Object.assign(Object.assign({},i),{id:d.id}));else{this.unsubscribe(),this.state=z_.errored,t?.(sv.CHANNEL_ERROR,Error(`mismatch between server and client bindings for postgres changes`));return}}this.bindings.postgres_changes=a,t&&t(sv.SUBSCRIBED);return}}).receive(`error`,e=>{this.state=z_.errored,t?.(sv.CHANNEL_ERROR,Error(JSON.stringify(Object.values(e).join(`, `)||`error`)))}).receive(`timeout`,()=>{t?.(sv.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:`presence`,event:`track`,payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:`presence`,event:`untrack`},e)}on(e,t,n){return this.state===z_.joined&&e===ov.PRESENCE&&(this.socket.log(`channel`,`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t,n={}){if(t==null)return Promise.reject(`Payload is required for httpSend()`);let r={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);let i={method:`POST`,headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,n.timeout??this.timeout);if(a.status===202)return{success:!0};let o=a.statusText;try{let e=await a.json();o=e.error||e.message||o}catch{}return Promise.reject(Error(o))}async send(e,t={}){if(!this._canPush()&&e.type===`broadcast`){console.warn(`Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.`);let{event:n,payload:r}=e,i={apikey:this.socket.apiKey?this.socket.apiKey:``,"Content-Type":`application/json`};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:`POST`,headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,t.timeout??this.timeout);return await e.body?.cancel(),e.ok?`ok`:`error`}catch(e){return e.name===`AbortError`?`timed out`:`error`}}else return new Promise(n=>{let r=this._push(e.type,e,t.timeout||this.timeout);e.type===`broadcast`&&!this.params?.config?.broadcast?.ack&&n(`ok`),r.receive(`ok`,()=>n(`ok`)),r.receive(`error`,()=>n(`error`)),r.receive(`timeout`,()=>n(`timed out`))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=z_.leaving;let t=()=>{this.socket.log(`channel`,`leave ${this.topic}`),this._trigger(B_.close,`leave`,this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new nv(this,B_.leave,{},e),n.receive(`ok`,()=>{t(),r(`ok`)}).receive(`timeout`,()=>{t(),r(`timed out`)}).receive(`error`,()=>{r(`error`)}),n.send(),this._canPush()||n.trigger(`ok`,{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=z_.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){let r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new nv(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log(`channel`,`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;let a=e.toLocaleLowerCase(),{close:o,error:s,leave:c,join:l}=B_;if(n&&[o,s,c,l].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw`channel onMessage callbacks must return the payload, modified or unmodified`;[`insert`,`update`,`delete`].includes(a)?(r=this.bindings.postgres_changes)==null||r.filter(e=>e.filter?.event===`*`||(e.filter?.event)?.toLocaleLowerCase()===a).map(e=>e.callback(u,n)):(i=this.bindings[a])==null||i.filter(e=>{if([`broadcast`,`presence`,`postgres_changes`].includes(a))if(`id`in e){let n=e.id,r=e.filter?.event;return n&&t.ids?.includes(n)&&(r===`*`||r?.toLocaleLowerCase()===t.data?.type.toLocaleLowerCase())&&(!e.filter?.table||e.filter.table===t.data?.table)}else{let n=(e?.filter?.event)?.toLocaleLowerCase();return n===`*`||n===(t?.event)?.toLocaleLowerCase()}else return e.type.toLocaleLowerCase()===a}).map(e=>{if(typeof u==`object`&&`ids`in u){let e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,o={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===z_.closed}_isJoined(){return this.state===z_.joined}_isJoining(){return this.state===z_.joining}_isLeaving(){return this.state===z_.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){let r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(t=>!(t.type?.toLocaleLowerCase()===r&&e.isEqual(t.filter,n)))),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(B_.close,{},e)}_onError(e){this._on(B_.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=z_.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return(e.type===`INSERT`||e.type===`UPDATE`)&&(t.new=K_(e.columns,e.record)),(e.type===`UPDATE`||e.type===`DELETE`)&&(t.old=K_(e.columns,e.old_record)),t}},lv=()=>{},uv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dv=[1e3,2e3,5e3,1e4],fv=1e4,pv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,mv=class{constructor(e,t){if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint=``,this.httpEndpoint=``,this.headers={},this.params={},this.timeout=L_,this.transport=null,this.heartbeatIntervalMs=uv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lv,this.ref=0,this.reconnectTimer=null,this.vsn=I_,this.logger=lv,this.conn=null,this.sendBuffer=[],this.serializer=new U_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState=`disconnected`,this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!t?.params?.apikey)throw Error(`API key is required to connect to Realtime`);this.apiKey=t.params.apikey,this.endPoint=`${e}/${V_.websocket}`,this.httpEndpoint=tv(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState(`connecting`),this.accessToken&&!this._authPromise&&this._setAuthSafely(`connect`),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState(`disconnected`);let t=e.message;throw t.includes(`Node.js`)?Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState(`disconnecting`,!0),this.conn){let n=setTimeout(()=>{this._setConnectionState(`disconnected`)},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState(`disconnected`)},typeof this.conn.close==`function`&&(e?this.conn.close(e,t??``):this.conn.close()),this._teardownConnection()}else this._setConnectionState(`disconnected`)}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case R_.connecting:return H_.Connecting;case R_.open:return H_.Open;case R_.closing:return H_.Closing;default:return H_.Closed}}isConnected(){return this.connectionState()===H_.Open}isConnecting(){return this._connectionState===`connecting`}isDisconnecting(){return this._connectionState===`disconnecting`}channel(e,t={config:{}}){let n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{let n=new cv(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){let{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;(t=this.conn)==null||t.send(e)})};this.log(`push`,`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback(`disconnected`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log(`transport`,`heartbeat timeout. Attempting to re-establish connection`);try{this.heartbeatCallback(`timeout`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._wasManualDisconnect=!1,(e=this.conn)==null||e.close(1e3,`heartbeat timeout`),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)==null||e.scheduleTimeout()},uv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:`phoenix`,event:`heartbeat`,payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback(`sent`)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._setAuthSafely(`heartbeat`)}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log(`transport`,`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if(e.topic===`phoenix`&&e.event===`phx_reply`&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(e.payload.status===`ok`?`ok`:`error`,t)}catch(e){this.log(`error`,`error in heartbeat callback`,e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:n,payload:r,ref:i}=e,a=i?`(${i})`:``,o=r.status||``;this.log(`receive`,`${o} ${t} ${n} ${a}`.trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this._triggerStateCallbacks(`message`,e)})}_clearTimer(e){var t;e===`heartbeat`&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e===`reconnect`&&((t=this.reconnectTimer)==null||t.reset())}_clearAllTimers(){this._clearTimer(`heartbeat`),this._clearTimer(`reconnect`)}_setupConnectionHandlers(){this.conn&&(`binaryType`in this.conn&&(this.conn.binaryType=`arraybuffer`),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===R_.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===R_.open||this.conn.readyState===R_.connecting)try{this.conn.close()}catch(e){this.log(`error`,`Error closing connection`,e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState(`connected`),this.log(`transport`,`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log(`error`,`error waiting for auth on connect`,e),this.flushSendBuffer()}),this._clearTimer(`reconnect`),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks(`open`)}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log(`worker`,`starting worker for from ${this.workerUrl}`):this.log(`worker`,`starting default worker`);let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log(`worker`,`worker error`,e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{e.data.event===`keepAlive`&&this.sendHeartbeat()},this.workerRef.postMessage({event:`start`,interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&=(this.log(`worker`,`terminating worker`),this.workerRef.terminate(),void 0)}_onConnClose(e){var t;this._setConnectionState(`disconnected`),this.log(`transport`,`close`,e),this._triggerChanError(),this._clearTimer(`heartbeat`),this._wasManualDisconnect||(t=this.reconnectTimer)==null||t.scheduleTimeout(),this._triggerStateCallbacks(`close`,e)}_onConnError(e){this._setConnectionState(`disconnected`),this.log(`transport`,`${e}`),this._triggerChanError(),this._triggerStateCallbacks(`error`,e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(B_.error))}_appendParams(e,t){return Object.keys(t).length===0?e:`${e}${e.match(/\?/)?`&`:`?`}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([pv],{type:`application/javascript`});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e===`connecting`?this._wasManualDisconnect=!1:e===`disconnecting`&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,n=!1;if(e)t=e,n=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log(`error`,`Error fetching access token from callback`,e),t=this.accessTokenValue}else t=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let n={access_token:t,version:`realtime-js/2.90.1`};t&&e.updateJoinPayload(n),e.joinedOnce&&e._isJoined()&&e._push(B_.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e=`general`){this._isManualToken()||this.setAuth().catch(t=>{this.log(`error`,`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(t){this.log(`error`,`error in ${e} callback`,t)}})}catch(t){this.log(`error`,`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new W_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},uv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){switch(this.transport=e?.transport??null,this.timeout=e?.timeout??L_,this.heartbeatIntervalMs=e?.heartbeatIntervalMs??uv.HEARTBEAT_INTERVAL,this.worker=e?.worker??!1,this.accessToken=e?.accessToken??null,this.heartbeatCallback=e?.heartbeatCallback??lv,this.vsn=e?.vsn??I_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=e?.reconnectAfterMs??(e=>dv[e-1]||fv),this.vsn){case F_:this.encode=e?.encode??((e,t)=>t(JSON.stringify(e))),this.decode=e?.decode??((e,t)=>t(JSON.parse(e)));break;case`2.0.0`:this.encode=e?.encode??this.serializer.encode.bind(this.serializer),this.decode=e?.decode??this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<`u`&&!window.Worker)throw Error(`Web Worker is not supported`);this.workerUrl=e?.workerUrl}}},hv=class extends Error{constructor(e,t){super(e),this.name=`IcebergError`,this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType===`CommitStateUnknownException`||[500,502,504].includes(t.status)&&t.icebergType?.includes(`CommitState`)===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gv(e,t,n){let r=new URL(t,e);if(n)for(let[e,t]of Object.entries(n))t!==void 0&&r.searchParams.set(e,t);return r.toString()}async function _v(e){return!e||e.type===`none`?{}:e.type===`bearer`?{Authorization:`Bearer ${e.token}`}:e.type===`header`?{[e.name]:e.value}:e.type===`custom`?await e.getHeaders():{}}function vv(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:o}){let s=gv(e.baseUrl,r,i),c=await _v(e.auth),l=await t(s,{method:n,headers:{...a?{"Content-Type":`application/json`}:{},...c,...o},body:a?JSON.stringify(a):void 0}),u=await l.text(),d=(l.headers.get(`content-type`)||``).includes(`application/json`),f=d&&u?JSON.parse(u):u;if(!l.ok){let e=d?f:void 0,t=e?.error;throw new hv(t?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:l.status,headers:l.headers,data:f}}}}function yv(e){return e.join(``)}var bv=class{constructor(e,t=``){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:yv(e.namespace)}:void 0;return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${yv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${yv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${yv(e.namespace)}`}),!0}catch(e){if(e instanceof hv&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof hv&&e.status===409)return;throw e}}};function xv(e){return e.join(``)}var Sv=class{constructor(e,t=``,n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:`POST`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data[`metadata-location`],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:`DELETE`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation),(await this.client.request({method:`GET`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t[`X-Iceberg-Access-Delegation`]=this.accessDelegation);try{return await this.client.request({method:`HEAD`,path:`${this.prefix}/namespaces/${xv(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof hv&&e.status===404)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof hv&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Cv=class{constructor(e){let t=`v1`;e.catalogName&&(t+=`/${e.catalogName}`),this.client=vv({baseUrl:e.baseUrl.endsWith(`/`)?e.baseUrl:`${e.baseUrl}/`,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(`,`),this.namespaceOps=new bv(this.client,t),this.tableOps=new Sv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wv=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name=`StorageError`}};function Tv(e){return typeof e==`object`&&!!e&&`__isStorageError`in e}var Ev=class extends wv{constructor(e,t,n){super(e),this.name=`StorageApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Dv=class extends wv{constructor(e,t){super(e),this.name=`StorageUnknownError`,this.originalError=t}},Ov=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),kv=()=>Response,Av=e=>{if(Array.isArray(e))return e.map(e=>Av(e));if(typeof e==`function`||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,n])=>{let r=e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,``));t[r]=Av(n)}),t},jv=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Mv=e=>!e||typeof e!=`string`||e.length===0||e.length>100||e.trim()!==e||e.includes(`/`)||e.includes(`\\`)?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},Nv(e)}function Pv(e,t){if(Nv(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(Nv(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Fv(e){var t=Pv(e,`string`);return Nv(t)==`symbol`?t:t+``}function Iv(e,t,n){return(t=Fv(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?Lv(Object(n),!0).forEach(function(t){Iv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Rv=e=>e.msg||e.message||e.error_description||(typeof e.error==`string`?e.error:e.error?.message)||JSON.stringify(e),zv=async(e,t,n)=>{e instanceof await kv()&&!n?.noResolveJson?e.json().then(n=>{let r=e.status||500,i=n?.statusCode||r+``;t(new Ev(Rv(n),r,i))}).catch(e=>{t(new Dv(Rv(e),e))}):t(new Dv(Rv(e),e))},Bv=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||!r?i:(jv(r)?(i.headers=H({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),H(H({},i),n))};async function Vv(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,Bv(t,r,i,a)).then(e=>{if(!e.ok)throw e;return r?.noResolveJson?e:e.json()}).then(e=>o(e)).catch(e=>zv(e,s,r))})}async function Hv(e,t,n,r){return Vv(e,`GET`,t,n,r)}async function Uv(e,t,n,r,i){return Vv(e,`POST`,t,r,i,n)}async function Wv(e,t,n,r,i){return Vv(e,`PUT`,t,r,i,n)}async function Gv(e,t,n,r){return Vv(e,`HEAD`,t,H(H({},n),{},{noResolveJson:!0}),r)}async function Kv(e,t,n,r,i){return Vv(e,`DELETE`,t,r,i,n)}var qv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tv(t))return{data:null,error:t};throw t}}},Jv=Symbol.toStringTag,Yv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Jv]=`BlobDownloadBuilder`,this.promise=null}asStream(){return new qv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||=this.execute(),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Tv(t))return{data:null,error:t};throw t}}},Xv={limit:100,offset:0,sortBy:{column:`name`,order:`asc`}},Zv={cacheControl:`3600`,contentType:`text/plain;charset=UTF-8`,upsert:!1},Qv=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Ov(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let a,o=H(H({},Zv),r),s=H(H({},i.headers),e===`POST`&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<`u`&&n instanceof Blob?(a=new FormData,a.append(`cacheControl`,o.cacheControl),c&&a.append(`metadata`,i.encodeMetadata(c)),a.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(a=n,a.has(`cacheControl`)||a.append(`cacheControl`,o.cacheControl),c&&!a.has(`metadata`)&&a.append(`metadata`,i.encodeMetadata(c))):(a=n,s[`cache-control`]=`max-age=${o.cacheControl}`,s[`content-type`]=o.contentType,c&&(s[`x-metadata`]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<`u`&&a instanceof ReadableStream||a&&typeof a==`object`&&`pipe`in a&&typeof a.pipe==`function`)&&!o.duplex&&(o.duplex=`half`)),r?.headers&&(s=H(H({},s),r.headers));let l=i._removeEmptyFolders(t),u=i._getFinalPath(l),d=await(e==`PUT`?Wv:Uv)(i.fetch,`${i.url}/object/${u}`,a,H({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:d.Id,fullPath:d.Key},error:null}}catch(e){if(i.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async upload(e,t,n){return this.uploadOrUpdate(`POST`,e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let a=i._removeEmptyFolders(e),o=i._getFinalPath(a),s=new URL(i.url+`/object/upload/sign/${o}`);s.searchParams.set(`token`,t);try{let e,t=H({upsert:Zv.upsert},r),o=H(H({},i.headers),{"x-upsert":String(t.upsert)});return typeof Blob<`u`&&n instanceof Blob?(e=new FormData,e.append(`cacheControl`,t.cacheControl),e.append(``,n)):typeof FormData<`u`&&n instanceof FormData?(e=n,e.append(`cacheControl`,t.cacheControl)):(e=n,o[`cache-control`]=`max-age=${t.cacheControl}`,o[`content-type`]=t.contentType),{data:{path:a,fullPath:(await Wv(i.fetch,s.toString(),e,{headers:o})).Key},error:null}}catch(e){if(i.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),i=H({},n.headers);t?.upsert&&(i[`x-upsert`]=`true`);let a=await Uv(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(n.url+a.url),s=o.searchParams.get(`token`);if(!s)throw new wv(`No token returned by API`);return{data:{signedUrl:o.toString(),path:e,token:s},error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async update(e,t,n){return this.uploadOrUpdate(`PUT`,e,t,n)}async move(e,t,n){var r=this;try{return{data:await Uv(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async copy(e,t,n){var r=this;try{return{data:{path:(await Uv(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),a=await Uv(r.fetch,`${r.url}/object/sign/${i}`,H({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),o=n?.download?`&download=${n.download===!0?``:n.download}`:``;return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async createSignedUrls(e,t,n){var r=this;try{let i=await Uv(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n?.download?`&download=${n.download===!0?``:n.download}`:``;return{data:i.map(e=>H(H({},e),{},{signedUrl:e.signedURL?encodeURI(`${r.url}${e.signedURL}${a}`):null})),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}download(e,t){let n=t?.transform===void 0?`object`:`render/image/authenticated`,r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:``,a=this._getFinalPath(e);return new Yv(()=>Hv(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:Av(await Hv(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await Gv(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e)&&e instanceof Dv){let t=e.originalError;if([400,404].includes(t?.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?``:t.download}`:``;i!==``&&r.push(i);let a=t?.transform===void 0?`object`:`render/image`,o=this.transformOptsToQueryString(t?.transform||{});o!==``&&r.push(o);let s=r.join(`&`);return s!==``&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await Kv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async list(e,t,n){var r=this;try{let i=H(H(H({},Xv),t),{},{prefix:e||``});return{data:await Uv(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(e){if(r.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async listV2(e,t){var n=this;try{let r=H({},e);return{data:await Uv(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<`u`?Buffer.from(e).toString(`base64`):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,``)}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,``).replace(/\/+/g,`/`)}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join(`&`)}},$v=`2.90.1`,ey={"X-Client-Info":`storage-js/${$v}`},ty=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes(`storage.supabase.`)&&(i.hostname=i.hostname.replace(`supabase.`,`storage.supabase.`)),this.url=i.href.replace(/\/$/,``),this.headers=H(H({},ey),t),this.fetch=Ov(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await Hv(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async getBucket(e){var t=this;try{return{data:await Hv(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Uv(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async updateBucket(e,t){var n=this;try{return{data:await Wv(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async emptyBucket(e){var t=this;try{return{data:await Uv(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async deleteBucket(e){var t=this;try{return{data:await Kv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}listBucketOptionsToQueryString(e){let t={};return e&&(`limit`in e&&(t.limit=String(e.limit)),`offset`in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?`?`+new URLSearchParams(t).toString():``}},ny=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=H(H({},ey),t),this.fetch=Ov(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Uv(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set(`limit`,e.limit.toString()),e?.offset!==void 0&&n.set(`offset`,e.offset.toString()),e?.sortColumn&&n.set(`sortColumn`,e.sortColumn),e?.sortOrder&&n.set(`sortOrder`,e.sortOrder),e?.search&&n.set(`search`,e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Hv(t.fetch,i,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}async deleteBucket(e){var t=this;try{return{data:await Kv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Tv(e))return{data:null,error:e};throw e}}from(e){var t=this;if(!Mv(e))throw new wv(`Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.`);let n=new Cv({baseUrl:this.url,catalogName:e,auth:{type:`custom`,getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){let n=e[t];return typeof n==`function`?async(...t)=>{try{return{data:await n.apply(e,t),error:null}}catch(e){if(r)throw e;return{data:null,error:e}}}:n}})}},ry={"X-Client-Info":`storage-js/${$v}`,"Content-Type":`application/json`},iy=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name=`StorageVectorsError`}};function ay(e){return typeof e==`object`&&!!e&&`__isStorageVectorsError`in e}var oy=class extends iy{constructor(e,t,n){super(e),this.name=`StorageVectorsApiError`,this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sy=class extends iy{constructor(e,t){super(e),this.name=`StorageVectorsUnknownError`,this.originalError=t}},cy=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),ly=e=>{if(typeof e!=`object`||!e)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uy=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dy=async(e,t,n)=>{if(e&&typeof e==`object`&&`status`in e&&`ok`in e&&typeof e.status==`number`&&!n?.noResolveJson){let n=e.status||500,r=e;if(typeof r.json==`function`)r.json().then(e=>{let r=e?.statusCode||e?.code||n+``;t(new oy(uy(e),n,r))}).catch(()=>{let e=n+``;t(new oy(r.statusText||`HTTP ${n} error`,n,e))});else{let e=n+``;t(new oy(r.statusText||`HTTP ${n} error`,n,e))}}else t(new sy(uy(e),e))},fy=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`||!r?i:(ly(r)?(i.headers=H({"Content-Type":`application/json`},t?.headers),i.body=JSON.stringify(r)):i.body=r,H(H({},i),n))};async function py(e,t,n,r,i,a){return new Promise((o,s)=>{e(n,fy(t,r,i,a)).then(e=>{if(!e.ok)throw e;if(r?.noResolveJson)return e;let t=e.headers.get(`content-type`);return!t||!t.includes(`application/json`)?{}:e.json()}).then(e=>o(e)).catch(e=>dy(e,s,r))})}async function my(e,t,n,r,i){return py(e,`POST`,t,r,i,n)}var hy=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=H(H({},ry),t),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async getIndex(e,t){var n=this;try{return{data:await my(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async listIndexes(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async deleteIndex(e,t){var n=this;try{return{data:await my(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}},gy=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=H(H({},ry),t),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw Error(`Vector batch size must be between 1 and 500 items`);return{data:await my(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async getVectors(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw Error(`segmentCount must be between 1 and 16`);if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await my(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async queryVectors(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw Error(`Keys batch size must be between 1 and 500 items`);return{data:await my(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}},_y=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,``),this.headers=H(H({},ry),t),this.fetch=cy(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async getBucket(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async listBuckets(e={}){var t=this;try{return{data:await my(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}async deleteBucket(e){var t=this;try{return{data:await my(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ay(e))return{data:null,error:e};throw e}}},vy=class extends _y{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new yy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},yy=class extends hy{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new by(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},by=class extends gy{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,H(H({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},xy=class extends ty{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new Qv(this.url,this.headers,e,this.fetch)}get vectors(){return new vy(this.url+`/vector`,{headers:this.headers,fetch:this.fetch})}get analytics(){return new ny(this.url+`/iceberg`,this.headers,this.fetch)}};const Sy=`2.90.1`,Cy=30*1e3,wy=3*Cy,Ty={"X-Client-Info":`gotrue-js/${Sy}`},Ey=`X-Supabase-Api-Version`,Dy={"2024-01-01":{timestamp:Date.parse(`2024-01-01T00:00:00.0Z`),name:`2024-01-01`}},Oy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;var ky=class extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name=`AuthError`,this.status=t,this.code=n}};function U(e){return typeof e==`object`&&!!e&&`__isAuthError`in e}var Ay=class extends ky{constructor(e,t,n){super(e,t,n),this.name=`AuthApiError`,this.status=t,this.code=n}};function jy(e){return U(e)&&e.name===`AuthApiError`}var My=class extends ky{constructor(e,t){super(e),this.name=`AuthUnknownError`,this.originalError=t}},Ny=class extends ky{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}},Py=class extends Ny{constructor(){super(`Auth session missing!`,`AuthSessionMissingError`,400,void 0)}};function Fy(e){return U(e)&&e.name===`AuthSessionMissingError`}var Iy=class extends Ny{constructor(){super(`Auth session or user missing`,`AuthInvalidTokenResponseError`,500,void 0)}},Ly=class extends Ny{constructor(e){super(e,`AuthInvalidCredentialsError`,400,void 0)}},Ry=class extends Ny{constructor(e,t=null){super(e,`AuthImplicitGrantRedirectError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function zy(e){return U(e)&&e.name===`AuthImplicitGrantRedirectError`}var By=class extends Ny{constructor(e,t=null){super(e,`AuthPKCEGrantCodeExchangeError`,500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Vy=class extends Ny{constructor(){super(`PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.`,`AuthPKCECodeVerifierMissingError`,400,`pkce_code_verifier_not_found`)}},Hy=class extends Ny{constructor(e,t){super(e,`AuthRetryableFetchError`,t,void 0)}};function Uy(e){return U(e)&&e.name===`AuthRetryableFetchError`}var Wy=class extends Ny{constructor(e,t,n){super(e,`AuthWeakPasswordError`,t,`weak_password`),this.reasons=n}},Gy=class extends Ny{constructor(e){super(e,`AuthInvalidJwtError`,400,`invalid_jwt`)}},Ky=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_`.split(``),qy=` 	
\r=`.split(``),Jy=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qy.length;t+=1)e[qy[t].charCodeAt(0)]=-2;for(let t=0;t<Ky.length;t+=1)e[Ky[t].charCodeAt(0)]=t;return e})();function Yy(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)n(Ky[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue<<=6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)n(Ky[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function Xy(e,t,n){let r=Jy[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(r===-2)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function Zy(e){let t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{eb(e,r,n)};for(let t=0;t<e.length;t+=1)Xy(e.charCodeAt(t),i,a);return t.join(``)}function Qy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $y(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let t=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|t)+65536,n+=1}Qy(r,t)}}function eb(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw Error(`Invalid UTF-8 sequence`);--t.utf8seq}else if(t.utf8seq>0){if(e<=127)throw Error(`Invalid UTF-8 sequence`);t.codepoint=t.codepoint<<6|e&63,--t.utf8seq,t.utf8seq===0&&n(t.codepoint)}}function tb(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)Xy(e.charCodeAt(t),n,r);return new Uint8Array(t)}function nb(e){let t=[];return $y(e,e=>t.push(e)),new Uint8Array(t)}function rb(e){let t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Yy(e,n,r)),Yy(null,n,r),t.join(``)}function ib(e){return Math.round(Date.now()/1e3)+e}function ab(){return Symbol(`auth-callback`)}const ob=()=>typeof window<`u`&&typeof document<`u`;var sb={tested:!1,writable:!1};const cb=()=>{if(!ob())return!1;try{if(typeof globalThis.localStorage!=`object`)return!1}catch{return!1}if(sb.tested)return sb.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sb.tested=!0,sb.writable=!0}catch{sb.tested=!0,sb.writable=!1}return sb.writable};function lb(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]===`#`)try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch{}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}const ub=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),db=e=>typeof e==`object`&&!!e&&`status`in e&&`ok`in e&&`json`in e&&typeof e.json==`function`,fb=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},pb=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mb=async(e,t)=>{await e.removeItem(t)};var hb=class e{constructor(){this.promise=new e.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}};hb.promiseConstructor=Promise;function gb(e){let t=e.split(`.`);if(t.length!==3)throw new Gy(`Invalid JWT structure`);for(let e=0;e<t.length;e++)if(!Oy.test(t[e]))throw new Gy(`JWT not in base64url format`);return{header:JSON.parse(Zy(t[0])),payload:JSON.parse(Zy(t[1])),signature:tb(t[2]),raw:{header:t[0],payload:t[1]}}}async function _b(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function vb(e,t){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let r=await e(i);if(!t(i,null,r)){n(r);return}}catch(e){if(!t(i,e)){r(e);return}}})()})}function yb(e){return(`0`+e.toString(16)).substr(-2)}function bb(){let e=new Uint32Array(56);if(typeof crypto>`u`){let e=``;for(let t=0;t<56;t++)e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~`.charAt(Math.floor(Math.random()*66));return e}return crypto.getRandomValues(e),Array.from(e,yb).join(``)}async function xb(e){let t=new TextEncoder().encode(e),n=await crypto.subtle.digest(`SHA-256`,t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join(``)}async function Sb(e){if(!(typeof crypto<`u`&&crypto.subtle!==void 0&&typeof TextEncoder<`u`))return console.warn(`WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256.`),e;let t=await xb(e);return btoa(t).replace(/\+/g,`-`).replace(/\//g,`_`).replace(/=+$/,``)}async function Cb(e,t,n=!1){let r=bb(),i=r;n&&(i+=`/PASSWORD_RECOVERY`),await fb(e,`${t}-code-verifier`,i);let a=await Sb(r);return[a,r===a?`plain`:`s256`]}var wb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tb(e){let t=e.headers.get(Ey);if(!t||!t.match(wb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Eb(e){if(!e)throw Error(`Missing exp claim`);if(e<=Math.floor(Date.now()/1e3))throw Error(`JWT has expired`)}function Db(e){switch(e){case`RS256`:return{name:`RSASSA-PKCS1-v1_5`,hash:{name:`SHA-256`}};case`ES256`:return{name:`ECDSA`,namedCurve:`P-256`,hash:{name:`SHA-256`}};default:throw Error(`Invalid alg claim`)}}var Ob=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kb(e){if(!Ob.test(e))throw Error(`@supabase/auth-js: Expected parameter to be UUID but is not`)}function Ab(){return new Proxy({},{get:(e,t)=>{if(t===`__isUserNotAvailableProxy`)return!0;if(typeof t==`symbol`){let e=t.toString();if(e===`Symbol(Symbol.toPrimitive)`||e===`Symbol(Symbol.toStringTag)`||e===`Symbol(util.inspect.custom)`)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jb(e,t){return new Proxy(e,{get:(e,n,r)=>{if(n===`__isInsecureUserWarningProxy`)return!0;if(typeof n==`symbol`){let t=n.toString();if(t===`Symbol(Symbol.toPrimitive)`||t===`Symbol(Symbol.toStringTag)`||t===`Symbol(util.inspect.custom)`||t===`Symbol(nodejs.util.inspect.custom)`)return Reflect.get(e,n,r)}return!t.value&&typeof n==`string`&&(console.warn(`Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server.`),t.value=!0),Reflect.get(e,n,r)}})}function Mb(e){return JSON.parse(JSON.stringify(e))}var Nb=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Pb=[502,503,504];async function Fb(e){if(!db(e))throw new Hy(Nb(e),0);if(Pb.includes(e.status))throw new Hy(Nb(e),e.status);let t;try{t=await e.json()}catch(e){throw new My(Nb(e),e)}let n,r=Tb(e);if(r&&r.getTime()>=Dy[`2024-01-01`].timestamp&&typeof t==`object`&&t&&typeof t.code==`string`?n=t.code:typeof t==`object`&&t&&typeof t.error_code==`string`&&(n=t.error_code),n){if(n===`weak_password`)throw new Wy(Nb(t),e.status,t.weak_password?.reasons||[]);if(n===`session_not_found`)throw new Py}else if(typeof t==`object`&&t&&typeof t.weak_password==`object`&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0))throw new Wy(Nb(t),e.status,t.weak_password.reasons);throw new Ay(Nb(t),e.status||500,n)}var Ib=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e===`GET`?i:(i.headers=Object.assign({"Content-Type":`application/json;charset=UTF-8`},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function W(e,t,n,r){let i=Object.assign({},r?.headers);i[`X-Supabase-Api-Version`]||(i[Ey]=Dy[`2024-01-01`].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let a=r?.query??{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let o=await Lb(e,t,n+(Object.keys(a).length?`?`+new URLSearchParams(a).toString():``),{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(o):{data:Object.assign({},o),error:null}}async function Lb(e,t,n,r,i,a){let o=Ib(t,r,i,a),s;try{s=await e(n,Object.assign({},o))}catch(e){throw console.error(e),new Hy(Nb(e),0)}if(s.ok||await Fb(s),r?.noResolveJson)return s;try{return await s.json()}catch(e){await Fb(e)}}function Rb(e){let t=null;Wb(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=ib(e.expires_in)));let n=e.user??e;return{data:{session:t,user:n},error:null}}function zb(e){let t=Rb(e);return!t.error&&e.weak_password&&typeof e.weak_password==`object`&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message==`string`&&e.weak_password.reasons.reduce((e,t)=>e&&typeof t==`string`,!0)&&(t.data.weak_password=e.weak_password),t}function Bb(e){return{data:{user:e.user??e},error:null}}function Vb(e){return{data:e,error:null}}function Hb(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,o=gm(e,[`action_link`,`email_otp`,`hashed_token`,`redirect_to`,`verification_type`]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},o)},error:null}}function Ub(e){return e}function Wb(e){return e.access_token&&e.refresh_token&&e.expires_in}const Gb=[`global`,`local`,`others`];var Kb=class{constructor({url:e=``,headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=ub(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=Gb[0]){if(Gb.indexOf(t)<0)throw Error(`@supabase/auth-js: Parameter scope must be one of ${Gb.join(`, `)}`);try{return await W(this.fetch,`POST`,`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await W(this.fetch,`POST`,`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Bb})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,n=gm(e,[`options`]),r=Object.assign(Object.assign({},n),t);return`newEmail`in n&&(r.new_email=n?.newEmail,delete r.newEmail),await W(this.fetch,`POST`,`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Hb,redirectTo:t?.redirectTo})}catch(e){if(U(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await W(this.fetch,`POST`,`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bb})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}}async listUsers(e){try{let t={nextPage:null,lastPage:0,total:0},n=await W(this.fetch,`GET`,`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:Ub});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(U(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){kb(e);try{return await W(this.fetch,`GET`,`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bb})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){kb(e);try{return await W(this.fetch,`PUT`,`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Bb})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){kb(e);try{return await W(this.fetch,`DELETE`,`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Bb})}catch(e){if(U(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){kb(e.userId);try{let{data:t,error:n}=await W(this.fetch,`GET`,`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(e){if(U(e))return{data:null,error:e};throw e}}async _deleteFactor(e){kb(e.userId),kb(e.id);try{return{data:await W(this.fetch,`DELETE`,`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){try{let t={nextPage:null,lastPage:0,total:0},n=await W(this.fetch,`GET`,`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(e?.page)?.toString()??``,per_page:(e?.perPage)?.toString()??``},xform:Ub});if(n.error)throw n.error;let r=await n.json(),i=n.headers.get(`x-total-count`)??0,a=n.headers.get(`link`)?.split(`,`)??[];return a.length>0&&(a.forEach(e=>{let n=parseInt(e.split(`;`)[0].split(`=`)[1].substring(0,1)),r=JSON.parse(e.split(`;`)[1].split(`=`)[1]);t[`${r}Page`]=n}),t.total=parseInt(i)),{data:Object.assign(Object.assign({},r),t),error:null}}catch(e){if(U(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await W(this.fetch,`POST`,`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await W(this.fetch,`GET`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await W(this.fetch,`PUT`,`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await W(this.fetch,`DELETE`,`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await W(this.fetch,`POST`,`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(U(e))return{data:null,error:e};throw e}}};function qb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Jb={debug:!!(globalThis&&cb()&&globalThis.localStorage&&globalThis.localStorage.getItem(`supabase.gotrue-js.locks.debug`)===`true`)};var Yb=class extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}},Xb=class extends Yb{};async function Zb(e,t,n){Jb.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquire lock`,e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Jb.debug&&console.log(`@supabase/gotrue-js: navigatorLock acquire timed out`,e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:`exclusive`,ifAvailable:!0}:{mode:`exclusive`,signal:r.signal},async r=>{if(r){Jb.debug&&console.log(`@supabase/gotrue-js: navigatorLock: acquired`,e,r.name);try{return await n()}finally{Jb.debug&&console.log(`@supabase/gotrue-js: navigatorLock: released`,e,r.name)}}else if(t===0)throw Jb.debug&&console.log(`@supabase/gotrue-js: navigatorLock: not immediately available`,e),new Xb(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);else{if(Jb.debug)try{let e=await globalThis.navigator.locks.query();console.log(`@supabase/gotrue-js: Navigator LockManager state`,JSON.stringify(e,null,`  `))}catch(e){console.warn(`@supabase/gotrue-js: Error when querying Navigator LockManager state`,e)}return console.warn(`@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request`),await n()}}))}function Qb(){if(typeof globalThis!=`object`)try{Object.defineProperty(Object.prototype,`__magic__`,{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<`u`&&(self.globalThis=self)}}function $b(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ex(e){return parseInt(e,16)}function tx(e){let t=new TextEncoder().encode(e);return`0x`+Array.from(t,e=>e.toString(16).padStart(2,`0`)).join(``)}function nx(e){let{chainId:t,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:s,resources:c,scheme:l,uri:u,version:d}=e;if(!Number.isInteger(t))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!n)throw Error(`@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.`);if(a&&a.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw Error(`@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.`);if(d!==`1`)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(e.statement?.includes(`
`))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=$b(e.address),p=`${l?`${l}://${n}`:n} wants you to sign in with your Ethereum account:\n${f}\n\n${e.statement?`${e.statement}\n`:``}`,m=`URI: ${u}\nVersion: ${d}\nChain ID: ${t}${a?`\nNonce: ${a}`:``}\nIssued At: ${i.toISOString()}`;if(r&&(m+=`\nExpiration Time: ${r.toISOString()}`),o&&(m+=`\nNot Before: ${o.toISOString()}`),s&&(m+=`\nRequest ID: ${s}`),c){let e=`
Resources:`;for(let t of c){if(!t||typeof t!=`string`)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`\n- ${t}`}m+=e}return`${p}\n${m}`}var rx=class extends Error{constructor({message:e,code:t,cause:n,name:r}){super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=r??(n instanceof Error?n.name:void 0)??`Unknown Error`,this.code=t}},ix=class extends rx{constructor(e,t){super({code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:t,message:e}),this.name=`WebAuthnUnknownError`,this.originalError=t}};function ax({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new rx({message:`Registration ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`ConstraintError`){if(n.authenticatorSelection?.requireResidentKey===!0)return new rx({message:`Discoverable credentials were required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT`,cause:e});if(t.mediation===`conditional`&&n.authenticatorSelection?.userVerification===`required`)return new rx({message:`User verification was required during automatic registration but it could not be performed`,code:`ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE`,cause:e});if(n.authenticatorSelection?.userVerification===`required`)return new rx({message:`User verification was required but no available authenticator supported it`,code:`ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT`,cause:e})}else if(e.name===`InvalidStateError`)return new rx({message:`The authenticator was previously registered`,code:`ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED`,cause:e});else if(e.name===`NotAllowedError`)return new rx({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`NotSupportedError`)return n.pubKeyCredParams.filter(e=>e.type===`public-key`).length===0?new rx({message:`No entry in pubKeyCredParams was of type "public-key"`,code:`ERROR_MALFORMED_PUBKEYCREDPARAMS`,cause:e}):new rx({message:`No available authenticator supported any of the specified pubKeyCredParams algorithms`,code:`ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(fx(t)){if(n.rp.id!==t)return new rx({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new rx({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`TypeError`){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new rx({message:`User ID was not between 1 and 64 characters`,code:`ERROR_INVALID_USER_ID_LENGTH`,cause:e})}else if(e.name===`UnknownError`)return new rx({message:`The authenticator was unable to process the specified options, or could not create a new credential`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new rx({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}function ox({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error(`options was missing required publicKey property`);if(e.name===`AbortError`){if(t.signal instanceof AbortSignal)return new rx({message:`Authentication ceremony was sent an abort signal`,code:`ERROR_CEREMONY_ABORTED`,cause:e})}else if(e.name===`NotAllowedError`)return new rx({message:e.message,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e});else if(e.name===`SecurityError`){let t=window.location.hostname;if(fx(t)){if(n.rpId!==t)return new rx({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:`ERROR_INVALID_RP_ID`,cause:e})}else return new rx({message:`${window.location.hostname} is an invalid domain`,code:`ERROR_INVALID_DOMAIN`,cause:e})}else if(e.name===`UnknownError`)return new rx({message:`The authenticator was unable to process the specified options, or could not create a new assertion signature`,code:`ERROR_AUTHENTICATOR_GENERAL_ERROR`,cause:e});return new rx({message:`a Non-Webauthn related error has occurred`,code:`ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY`,cause:e})}const sx=new class{createNewAbortSignal(){if(this.controller){let e=Error(`Cancelling existing WebAuthn API call for new one`);e.name=`AbortError`,this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error(`Manually cancelling existing WebAuthn API call`);e.name=`AbortError`,this.controller.abort(e),this.controller=void 0}}};function cx(e){if(!e)throw Error(`Credential creation options are required`);if(typeof PublicKeyCredential<`u`&&`parseCreationOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON==`function`)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=gm(e,[`challenge`,`user`,`excludeCredentials`]),a=tb(t).buffer,o=Object.assign(Object.assign({},n),{id:tb(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(r&&r.length>0){s.excludeCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];s.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:tb(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return s}function lx(e){if(!e)throw Error(`Credential request options are required`);if(typeof PublicKeyCredential<`u`&&`parseRequestOptionsFromJSON`in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON==`function`)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=gm(e,[`challenge`,`allowCredentials`]),i=tb(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.allowCredentials[e]=Object.assign(Object.assign({},t),{id:tb(t.id).buffer,type:t.type||`public-key`,transports:t.transports})}}return a}function ux(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e;return{id:e.id,rawId:e.id,response:{attestationObject:rb(new Uint8Array(e.response.attestationObject)),clientDataJSON:rb(new Uint8Array(e.response.clientDataJSON))},type:`public-key`,clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:t.authenticatorAttachment??void 0}}function dx(e){if(`toJSON`in e&&typeof e.toJSON==`function`)return e.toJSON();let t=e,n=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:rb(new Uint8Array(r.authenticatorData)),clientDataJSON:rb(new Uint8Array(r.clientDataJSON)),signature:rb(new Uint8Array(r.signature)),userHandle:r.userHandle?rb(new Uint8Array(r.userHandle)):void 0},type:`public-key`,clientExtensionResults:n,authenticatorAttachment:t.authenticatorAttachment??void 0}}function fx(e){return e===`localhost`||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function px(){return!!(ob()&&`PublicKeyCredential`in window&&window.PublicKeyCredential&&`credentials`in navigator&&typeof(navigator==null?void 0:navigator.credentials)?.create==`function`&&typeof(navigator==null?void 0:navigator.credentials)?.get==`function`)}async function mx(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ix(`Browser returned unexpected credential type`,t)}:{data:null,error:new ix(`Empty credential response`,t)}}catch(t){return{data:null,error:ax({error:t,options:e})}}}async function hx(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ix(`Browser returned unexpected credential type`,t)}:{data:null,error:new ix(`Empty credential response`,t)}}catch(t){return{data:null,error:ox({error:t,options:e})}}}const gx={hints:[`security-key`],authenticatorSelection:{authenticatorAttachment:`cross-platform`,requireResidentKey:!1,userVerification:`preferred`,residentKey:`discouraged`},attestation:`direct`},_x={userVerification:`preferred`,hints:[`security-key`],attestation:`direct`};function vx(...e){let t=e=>typeof e==`object`&&!!e&&!Array.isArray(e),n=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),r={};for(let i of e)if(i)for(let e in i){let a=i[e];if(a!==void 0)if(Array.isArray(a))r[e]=a;else if(n(a))r[e]=a;else if(t(a)){let n=r[e];t(n)?r[e]=vx(n,a):r[e]=vx(a)}else r[e]=a}return r}function yx(e,t){return vx(gx,e,t||{})}function bx(e,t){return vx(_x,e,t||{})}var xx=class{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:`webauthn`}))}async _challenge({factorId:e,webauthn:t,friendlyName:n,signal:r},i){try{let{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:o};let s=r??sx.createNewAbortSignal();if(a.webauthn.type===`create`){let{user:e}=a.webauthn.credential_options.publicKey;e.name||=`${e.id}:${n}`,e.displayName||=e.name}switch(a.webauthn.type){case`create`:{let{data:t,error:n}=await mx({publicKey:yx(a.webauthn.credential_options.publicKey,i?.create),signal:s});return t?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:t}},error:null}:{data:null,error:n}}case`request`:{let t=bx(a.webauthn.credential_options.publicKey,i?.request),{data:n,error:r}=await hx(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:t,signal:s}));return n?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:n}},error:null}:{data:null,error:r}}}}catch(e){return U(e)?{data:null,error:e}:{data:null,error:new My(`Unexpected error in challenge`,e)}}}async _verify({challengeId:e,factorId:t,webauthn:n}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new ky(`rpId is required for WebAuthn authentication`)};try{if(!px())return{data:null,error:new My(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:n},signal:r},{request:i});if(!a)return{data:null,error:o};let{webauthn:s}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:s.type,rpId:t,rpOrigins:n,credential_response:s.credential_response}})}catch(e){return U(e)?{data:null,error:e}:{data:null,error:new My(`Unexpected error in authenticate`,e)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<`u`?window.location.hostname:void 0,rpOrigins:n=typeof window<`u`?[window.location.origin]:void 0,signal:r}={}},i){if(!t)return{data:null,error:new ky(`rpId is required for WebAuthn registration`)};try{if(!px())return{data:null,error:new My(`Browser does not support WebAuthn`,null)};let{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(t=>t.data?.all.find(t=>t.factor_type===`webauthn`&&t.friendly_name===e&&t.status!==`unverified`)).then(e=>e?this.client.mfa.unenroll({factorId:e?.id}):void 0),{data:null,error:o};let{data:s,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:n},signal:r},{create:i});return s?this._verify({factorId:a.id,challengeId:s.challengeId,webauthn:{rpId:t,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:c}}catch(e){return U(e)?{data:null,error:e}:{data:null,error:new My(`Unexpected error in register`,e)}}}};Qb();var Sx={url:`http://localhost:9999`,storageKey:`supabase.auth.token`,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ty,flowType:`implicit`,debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Cx(e,t,n){return await n()}var wx={},Tx=class e{get jwks(){return wx[this.storageKey]?.jwks??{keys:[]}}set jwks(e){wx[this.storageKey]=Object.assign(Object.assign({},wx[this.storageKey]),{jwks:e})}get jwks_cached_at(){return wx[this.storageKey]?.cachedAt??-(2**53-1)}set jwks_cached_at(e){wx[this.storageKey]=Object.assign(Object.assign({},wx[this.storageKey]),{cachedAt:e})}constructor(t){var n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let r=Object.assign(Object.assign({},Sx),t);if(this.storageKey=r.storageKey,this.instanceID=e.nextInstanceID[this.storageKey]??0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug==`function`&&(this.logger=r.debug),this.instanceID>0&&ob()){let e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Kb({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ub(r.fetch),this.lock=r.lock||Cx,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,this.lockAcquireTimeout=r.lockAcquireTimeout,r.lock?this.lock=r.lock:this.persistSession&&ob()&&(globalThis==null?void 0:globalThis.navigator)?.locks?this.lock=Zb:this.lock=Cx,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=-(2**53-1)),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:cb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qb(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=qb(this.memoryStorage)),ob()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error(`Failed to create a new BroadcastChannel, multi-tab state changes will not be available`,e)}(n=this.broadcastChannel)==null||n.addEventListener(`message`,async e=>{this._debug(`received broadcast notification from other tab or client`,e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Sy}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise}async _initialize(){try{let e={},t=`none`;if(ob()&&(e=lb(window.location.href),this._isImplicitGrantCallback(e)?t=`implicit`:await this._isPKCECallback(e)&&(t=`pkce`)),ob()&&this.detectSessionInUrl&&t!==`none`){let{data:n,error:r}=await this._getSessionFromURL(e,t);if(r){if(this._debug(`#_initialize()`,`error detecting session from URL`,r),zy(r)){let e=r.details?.code;if(e===`identity_already_exists`||e===`identity_not_found`||e===`single_identity_not_deletable`)return{error:r}}return{error:r}}let{session:i,redirectType:a}=n;return this._debug(`#_initialize()`,`detected session in URL`,i,`redirect type`,a),await this._saveSession(i),setTimeout(async()=>{a===`recovery`?await this._notifyAllSubscribers(`PASSWORD_RECOVERY`,i):await this._notifyAllSubscribers(`SIGNED_IN`,i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return U(e)?this._returnResult({error:e}):this._returnResult({error:new My(`Unexpected error during initialization`,e)})}finally{await this._handleVisibilityChange(),this._debug(`#_initialize()`,`end`)}}async signInAnonymously(e){try{let{data:t,error:n}=await W(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{data:e?.options?.data??{},gotrue_meta_security:{captcha_token:e?.options?.captchaToken}},xform:Rb});if(n||!t)return this._returnResult({data:{user:null,session:null},error:n});let r=t.session,i=t.user;return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers(`SIGNED_IN`,r)),this._returnResult({data:{user:i,session:r},error:null})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e,a=null,o=null;this.flowType===`pkce`&&([a,o]=await Cb(this.storage,this.storageKey)),t=await W(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:{email:n,password:r,data:i?.data??{},gotrue_meta_security:{captcha_token:i?.captchaToken},code_challenge:a,code_challenge_method:o},xform:Rb})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await W(this.fetch,`POST`,`${this.url}/signup`,{headers:this.headers,body:{phone:n,password:r,data:i?.data??{},channel:i?.channel??`sms`,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Rb})}else throw new Ly(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r||!n)return await mb(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:r});let i=n.session,a=n.user;return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,i)),this._returnResult({data:{user:a,session:i},error:null})}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if(`email`in e){let{email:n,password:r,options:i}=e;t=await W(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:zb})}else if(`phone`in e){let{phone:n,password:r,options:i}=e;t=await W(this.fetch,`POST`,`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:zb})}else throw new Ly(`You must provide either an email or phone number and a password`);let{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){let e=new Iy;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers(`SIGNED_IN`,n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){return await this._handleProviderSignIn(e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:e.options?.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case`ethereum`:return await this.signInWithEthereum(e);case`solana`:return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(ob())if(typeof i==`object`)s=i;else{let e=window;if(`ethereum`in e&&typeof e.ethereum==`object`&&`request`in e.ethereum&&typeof e.ethereum.request==`function`)s=e.ethereum;else throw Error(`@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href),l=await s.request({method:`eth_requestAccounts`}).then(e=>e).catch(()=>{throw Error(`@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid`)});if(!l||l.length===0)throw Error(`@supabase/auth-js: No accounts available. Please ensure the wallet is connected.`);let u=$b(l[0]),d=o?.signInWithEthereum?.chainId;d||=ex(await s.request({method:`eth_chainId`})),t=nx({domain:c.host,address:u,statement:a,uri:c.href,version:`1`,chainId:d,nonce:o?.signInWithEthereum?.nonce,issuedAt:o?.signInWithEthereum?.issuedAt??new Date,expirationTime:o?.signInWithEthereum?.expirationTime,notBefore:o?.signInWithEthereum?.notBefore,requestId:o?.signInWithEthereum?.requestId,resources:o?.signInWithEthereum?.resources}),n=await s.request({method:`personal_sign`,params:[tx(t),u]})}try{let{data:r,error:i}=await W(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`ethereum`,message:t,signature:n},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:Rb});if(i)throw i;if(!r||!r.session||!r.user){let e=new Iy;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){let t,n;if(`message`in e)t=e.message,n=e.signature;else{let{chain:r,wallet:i,statement:a,options:o}=e,s;if(ob())if(typeof i==`object`)s=i;else{let e=window;if(`solana`in e&&typeof e.solana==`object`&&(`signIn`in e.solana&&typeof e.solana.signIn==`function`||`signMessage`in e.solana&&typeof e.solana.signMessage==`function`))s=e.solana;else throw Error(`@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.`)}else{if(typeof i!=`object`||!o?.url)throw Error(`@supabase/auth-js: Both wallet and url must be specified in non-browser environments.`);s=i}let c=new URL(o?.url??window.location.href);if(`signIn`in s&&s.signIn){let e=await s.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},o?.signInWithSolana),{version:`1`,domain:c.host,uri:c.href}),a?{statement:a}:null)),r;if(Array.isArray(e)&&e[0]&&typeof e[0]==`object`)r=e[0];else if(e&&typeof e==`object`&&`signedMessage`in e&&`signature`in e)r=e;else throw Error(`@supabase/auth-js: Wallet method signIn() returned unrecognized value`);if(`signedMessage`in r&&`signature`in r&&(typeof r.signedMessage==`string`||r.signedMessage instanceof Uint8Array)&&r.signature instanceof Uint8Array)t=typeof r.signedMessage==`string`?r.signedMessage:new TextDecoder().decode(r.signedMessage),n=r.signature;else throw Error(`@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields`)}else{if(!(`signMessage`in s)||typeof s.signMessage!=`function`||!(`publicKey`in s)||typeof s!=`object`||!s.publicKey||!(`toBase58`in s.publicKey)||typeof s.publicKey.toBase58!=`function`)throw Error(`@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API`);t=[`${c.host} wants you to sign in with your Solana account:`,s.publicKey.toBase58(),...a?[``,a,``]:[``],`Version: 1`,`URI: ${c.href}`,`Issued At: ${o?.signInWithSolana?.issuedAt??new Date().toISOString()}`,...o?.signInWithSolana?.notBefore?[`Not Before: ${o.signInWithSolana.notBefore}`]:[],...o?.signInWithSolana?.expirationTime?[`Expiration Time: ${o.signInWithSolana.expirationTime}`]:[],...o?.signInWithSolana?.chainId?[`Chain ID: ${o.signInWithSolana.chainId}`]:[],...o?.signInWithSolana?.nonce?[`Nonce: ${o.signInWithSolana.nonce}`]:[],...o?.signInWithSolana?.requestId?[`Request ID: ${o.signInWithSolana.requestId}`]:[],...o?.signInWithSolana?.resources?.length?[`Resources`,...o.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join(`
`);let e=await s.signMessage(new TextEncoder().encode(t),`utf8`);if(!e||!(e instanceof Uint8Array))throw Error(`@supabase/auth-js: Wallet signMessage() API returned an recognized value`);n=e}}try{let{data:r,error:i}=await W(this.fetch,`POST`,`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:`solana`,message:t,signature:rb(n)},e.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options?.captchaToken}}:null),xform:Rb});if(i)throw i;if(!r||!r.session||!r.user){let e=new Iy;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign({},r),error:i})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let[t,n]=(await pb(this.storage,`${this.storageKey}-code-verifier`)??``).split(`/`);try{if(!t&&this.flowType===`pkce`)throw new Vy;let{data:r,error:i}=await W(this.fetch,`POST`,`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:Rb});if(await mb(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!r||!r.session||!r.user){let e=new Iy;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers(`SIGNED_IN`,r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:n,token:r,access_token:i,nonce:a}=e,{data:o,error:s}=await W(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Rb});if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!o||!o.session||!o.user){let e=new Iy;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers(`SIGNED_IN`,o.session)),this._returnResult({data:o,error:s})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){try{if(`email`in e){let{email:t,options:n}=e,r=null,i=null;this.flowType===`pkce`&&([r,i]=await Cb(this.storage,this.storageKey));let{error:a}=await W(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{email:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},code_challenge:r,code_challenge_method:i},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if(`phone`in e){let{phone:t,options:n}=e,{data:r,error:i}=await W(this.fetch,`POST`,`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:n?.data??{},create_user:n?.shouldCreateUser??!0,gotrue_meta_security:{captcha_token:n?.captchaToken},channel:n?.channel??`sms`}});return this._returnResult({data:{user:null,session:null,messageId:r?.message_id},error:i})}throw new Ly(`You must provide either an email or phone number.`)}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){try{let t,n;`options`in e&&(t=e.options?.redirectTo,n=e.options?.captchaToken);let{data:r,error:i}=await W(this.fetch,`POST`,`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:t,xform:Rb});if(i)throw i;if(!r)throw Error(`An error occurred on token verification.`);let a=r.session,o=r.user;return a?.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type==`recovery`?`PASSWORD_RECOVERY`:`SIGNED_IN`,a)),this._returnResult({data:{user:o,session:a},error:null})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){try{let t=null,n=null;this.flowType===`pkce`&&([t,n]=await Cb(this.storage,this.storageKey));let r=await W(this.fetch,`POST`,`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},`providerId`in e?{provider_id:e.providerId}:null),`domain`in e?{domain:e.domain}:null),{redirect_to:e.options?.redirectTo??void 0}),e?.options?.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:t,code_challenge_method:n}),headers:this.headers,xform:Vb});return r.data?.url&&ob()&&!e.options?.skipBrowserRedirect&&window.location.assign(r.data.url),this._returnResult(r)}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Py;let{error:r}=await W(this.fetch,`GET`,`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if(`email`in e){let{email:n,type:r,options:i}=e,{error:a}=await W(this.fetch,`POST`,t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if(`phone`in e){let{phone:n,type:r,options:i}=e,{data:a,error:o}=await W(this.fetch,`POST`,t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Ly(`You must provide either an email or phone number and a type`)}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug(`#_acquireLock`,`begin`,e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug(`#_acquireLock`,`lock acquired for storage key`,this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch{}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug(`#_acquireLock`,`lock released for storage key`,this.storageKey),this.lockAcquired=!1}})}finally{this._debug(`#_acquireLock`,`end`)}}async _useSession(e){this._debug(`#_useSession`,`begin`);try{return await e(await this.__loadSession())}finally{this._debug(`#_useSession`,`end`)}}async __loadSession(){this._debug(`#__loadSession()`,`begin`),this.lockAcquired||this._debug(`#__loadSession()`,`used outside of an acquired lock!`,Error().stack);try{let e=null,t=await pb(this.storage,this.storageKey);if(this._debug(`#getSession()`,`session from storage`,t),t!==null&&(this._isValidSession(t)?e=t:(this._debug(`#getSession()`,`session from storage is not valid`),await this._removeSession())),!e)return{data:{session:null},error:null};let n=e.expires_at?e.expires_at*1e3-Date.now()<wy:!1;if(this._debug(`#__loadSession()`,`session has${n?``:` not`} expired`,`expires_at`,e.expires_at),!n){if(this.userStorage){let t=await pb(this.userStorage,this.storageKey+`-user`);t?.user?e.user=t.user:e.user=Ab()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let t={value:this.suppressGetSessionWarning};e.user=jb(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug(`#__loadSession()`,`end`)}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await W(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bb}):await this._useSession(async e=>{let{data:t,error:n}=e;if(n)throw n;return!t.session?.access_token&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Py}:await W(this.fetch,`GET`,`${this.url}/user`,{headers:this.headers,jwt:t.session?.access_token??void 0,xform:Bb})})}catch(e){if(U(e))return Fy(e)&&(await this._removeSession(),await mb(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{let{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Py;let a=r.session,o=null,s=null;this.flowType===`pkce`&&e.email!=null&&([o,s]=await Cb(this.storage,this.storageKey));let{data:c,error:l}=await W(this.fetch,`PUT`,`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:s}),jwt:a.access_token,xform:Bb});if(l)throw l;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers(`USER_UPDATED`,a),this._returnResult({data:{user:a.user},error:null})})}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Py;let t=Date.now()/1e3,n=t,r=!0,i=null,{payload:a}=gb(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){let{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};i=t}else{let{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:`bearer`,expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers(`SIGNED_IN`,i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(e){if(U(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{if(!e){let{data:n,error:r}=t;if(r)throw r;e=n.session??void 0}if(!e?.refresh_token)throw new Py;let{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!ob())throw new Ry(`No browser detected.`);if(e.error||e.error_description||e.error_code)throw new Ry(e.error_description||`Error in URL with unspecified error_description`,{error:e.error||`unspecified_error`,code:e.error_code||`unspecified_code`});switch(t){case`implicit`:if(this.flowType===`pkce`)throw new By(`Not a valid PKCE flow url.`);break;case`pkce`:if(this.flowType===`implicit`)throw new Ry(`Not a valid implicit grant flow url.`);break;default:}if(t===`pkce`){if(this._debug(`#_initialize()`,`begin`,`is PKCE flow`,!0),!e.code)throw new By(`No code detected.`);let{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;let r=new URL(window.location.href);return r.searchParams.delete(`code`),window.history.replaceState(window.history.state,``,r.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:o,expires_at:s,token_type:c}=e;if(!i||!o||!a||!c)throw new Ry(`No session defined in URL`);let l=Math.round(Date.now()/1e3),u=parseInt(o),d=l+u;s&&(d=parseInt(s));let f=d-l;f*1e3<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${u}s`);let p=d-u;l-p>=120?console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale`,p,d,l):l-p<0&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew`,p,d,l);let{data:m,error:h}=await this._getUser(i);if(h)throw h;let g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:c,user:m.user};return window.location.hash=``,this._debug(`#_getSessionFromURL()`,`clearing window.location.hash`),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(e){if(U(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl==`function`?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await pb(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:`global`}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:`global`}){return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({error:r});let i=n.session?.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(jy(t)&&(t.status===404||t.status===401||t.status===403)))return this._returnResult({error:t})}return e!==`others`&&(await this._removeSession(),await mb(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=ab(),n={id:t,callback:e,unsubscribe:()=>{this._debug(`#unsubscribe()`,`state change callback with id removed`,t),this.stateChangeEmitters.delete(t)}};return this._debug(`#onAuthStateChange()`,`registered callback with id`,t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{try{let{data:{session:n},error:r}=t;if(r)throw r;await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,n),this._debug(`INITIAL_SESSION`,`callback id`,e,`session`,n)}catch(t){await this.stateChangeEmitters.get(e)?.callback(`INITIAL_SESSION`,null),this._debug(`INITIAL_SESSION`,`callback id`,e,`error`,t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let n=null,r=null;this.flowType===`pkce`&&([n,r]=await Cb(this.storage,this.storageKey,!0));try{return await W(this.fetch,`POST`,`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){try{let{data:e,error:t}=await this.getUser();if(t)throw t;return this._returnResult({data:{identities:e.user.identities??[]},error:null})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return`token`in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){try{let{data:t,error:n}=await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;let i=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:e.options?.redirectTo,scopes:e.options?.scopes,queryParams:e.options?.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,`GET`,i,{headers:this.headers,jwt:n.session?.access_token??void 0})});if(n)throw n;return ob()&&!e.options?.skipBrowserRedirect&&window.location.assign(t?.url),this._returnResult({data:{provider:e.provider,url:t?.url},error:null})}catch(t){if(U(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{try{let{error:n,data:{session:r}}=t;if(n)throw n;let{options:i,provider:a,token:o,access_token:s,nonce:c}=e,{data:l,error:u}=await W(this.fetch,`POST`,`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:r?.access_token??void 0,body:{provider:a,id_token:o,access_token:s,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Rb});return u?this._returnResult({data:{user:null,session:null},error:u}):!l||!l.session||!l.user?this._returnResult({data:{user:null,session:null},error:new Iy}):(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers(`USER_UPDATED`,l.session)),this._returnResult({data:l,error:u}))}catch(e){if(await mb(this.storage,`${this.storageKey}-code-verifier`),U(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)throw r;return await W(this.fetch,`DELETE`,`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:n.session?.access_token??void 0})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,`begin`);try{let n=Date.now();return await vb(async n=>(n>0&&await _b(200*2**(n-1)),this._debug(t,`refreshing attempt`,n),await W(this.fetch,`POST`,`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Rb})),(e,t)=>{let r=200*2**e;return t&&Uy(t)&&Date.now()+r-n<3e4})}catch(e){if(this._debug(t,`error`,e),U(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,`end`)}}_isValidSession(e){return typeof e==`object`&&!!e&&`access_token`in e&&`refresh_token`in e&&`expires_at`in e}async _handleProviderSignIn(e,t){let n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug(`#_handleProviderSignIn()`,`provider`,e,`options`,t,`url`,n),ob()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){let e=`#_recoverAndRefresh()`;this._debug(e,`begin`);try{let t=await pb(this.storage,this.storageKey);if(t&&this.userStorage){let e=await pb(this.userStorage,this.storageKey+`-user`);!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!e&&(e={user:t.user},await fb(this.userStorage,this.storageKey+`-user`,e)),t.user=e?.user??Ab()}else if(t&&!t.user&&!t.user){let e=await pb(this.storage,this.storageKey+`-user`);e&&e?.user?(t.user=e.user,await mb(this.storage,this.storageKey+`-user`),await fb(this.storage,this.storageKey,t)):t.user=Ab()}if(this._debug(e,`session from storage`,t),!this._isValidSession(t)){this._debug(e,`session is not valid`),t!==null&&await this._removeSession();return}let n=(t.expires_at??1/0)*1e3-Date.now()<wy;if(this._debug(e,`session has${n?``:` not`} expired with margin of ${wy}s`),n){if(this.autoRefreshToken&&t.refresh_token){let{error:n}=await this._callRefreshToken(t.refresh_token);n&&(console.error(n),Uy(n)||(this._debug(e,`refresh failed with a non-retryable error, removing the session`,n),await this._removeSession()))}}else if(t.user&&t.user.__isUserNotAvailableProxy===!0)try{let{data:n,error:r}=await this._getUser(t.access_token);!r&&n?.user?(t.user=n.user,await this._saveSession(t),await this._notifyAllSubscribers(`SIGNED_IN`,t)):this._debug(e,`could not get user data, skipping SIGNED_IN notification`)}catch(t){console.error(`Error getting user data:`,t),this._debug(e,`error getting user data, skipping SIGNED_IN notification`,t)}else await this._notifyAllSubscribers(`SIGNED_IN`,t)}catch(t){this._debug(e,`error`,t),console.error(t);return}finally{this._debug(e,`end`)}}async _callRefreshToken(e){var t,n;if(!e)throw new Py;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,`begin`);try{this.refreshingDeferred=new hb;let{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Py;await this._saveSession(t.session),await this._notifyAllSubscribers(`TOKEN_REFRESHED`,t.session);let r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(e){if(this._debug(r,`error`,e),U(e)){let n={data:null,error:e};return Uy(e)||await this._removeSession(),(t=this.refreshingDeferred)==null||t.resolve(n),n}throw(n=this.refreshingDeferred)==null||n.reject(e),e}finally{this.refreshingDeferred=null,this._debug(r,`end`)}}async _notifyAllSubscribers(e,t,n=!0){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,`begin`,t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});let r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(e){r.push(e)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,`end`)}}async _saveSession(e){this._debug(`#_saveSession()`,e),this.suppressGetSessionWarning=!0,await mb(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),n=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&t.user&&await fb(this.userStorage,this.storageKey+`-user`,{user:t.user});let e=Object.assign({},t);delete e.user;let r=Mb(e);await fb(this.storage,this.storageKey,r)}else{let e=Mb(t);await fb(this.storage,this.storageKey,e)}}async _removeSession(){this._debug(`#_removeSession()`),this.suppressGetSessionWarning=!1,await mb(this.storage,this.storageKey),await mb(this.storage,this.storageKey+`-code-verifier`),await mb(this.storage,this.storageKey+`-user`),this.userStorage&&await mb(this.userStorage,this.storageKey+`-user`),await this._notifyAllSubscribers(`SIGNED_OUT`,null)}_removeVisibilityChangedCallback(){this._debug(`#_removeVisibilityChangedCallback()`);let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ob()&&window!=null&&window.removeEventListener&&window.removeEventListener(`visibilitychange`,e)}catch(e){console.error(`removing visibilitychange callback failed`,e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug(`#_startAutoRefresh()`);let e=setInterval(()=>this._autoRefreshTokenTick(),Cy);this.autoRefreshTicker=e,e&&typeof e==`object`&&typeof e.unref==`function`?e.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t==`object`&&typeof t.unref==`function`?t.unref():typeof Deno<`u`&&typeof Deno.unrefTimer==`function`&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug(`#_stopAutoRefresh()`);let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug(`#_autoRefreshTokenTick()`,`begin`);try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug(`#_autoRefreshTokenTick()`,`no session`);return}let r=Math.floor((n.expires_at*1e3-e)/Cy);this._debug(`#_autoRefreshTokenTick()`,`access token expires in ${r} ticks, a tick lasts ${Cy}ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error(`Auto refresh tick failed with error. This is likely a transient error.`,e)}}finally{this._debug(`#_autoRefreshTokenTick()`,`end`)}})}catch(e){if(e.isAcquireTimeout||e instanceof Yb)this._debug(`auto refresh token tick lock not available`);else throw e}}async _handleVisibilityChange(){if(this._debug(`#_handleVisibilityChange()`),!ob()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener(`visibilitychange`,this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error(`_handleVisibilityChange`,e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,`visibilityState`,document.visibilityState),document.visibilityState===`visible`?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!==`visible`){this._debug(t,`acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting`);return}await this._recoverAndRefresh()}))):document.visibilityState===`hidden`&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){let r=[`provider=${encodeURIComponent(t)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType===`pkce`){let[e,t]=await Cb(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(n?.queryParams){let e=new URLSearchParams(n.queryParams);r.push(e.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join(`&`)}`}async _unenroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;return r?this._returnResult({data:null,error:r}):await W(this.fetch,`DELETE`,`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:n?.session?.access_token})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType===`phone`?{phone:e.phone}:e.factorType===`totp`?{issuer:e.issuer}:{}),{data:a,error:o}=await W(this.fetch,`POST`,`${this.url}/factors`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(e.factorType===`totp`&&a.type===`totp`&&a?.totp?.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=Object.assign({challenge_id:e.challengeId},`webauthn`in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type===`create`?ux(e.webauthn.credential_response):dx(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:o}=await W(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/verify`,{body:i,headers:this.headers,jwt:n?.session?.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers(`MFA_CHALLENGE_VERIFIED`,a),this._returnResult({data:a,error:o}))})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{let{data:n,error:r}=t;if(r)return this._returnResult({data:null,error:r});let i=await W(this.fetch,`POST`,`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:n?.session?.access_token});if(i.error)return i;let{data:a}=i;if(a.type!==`webauthn`)return{data:a,error:null};switch(a.webauthn.type){case`create`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:cx(a.webauthn.credential_options.publicKey)})})}),error:null};case`request`:return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:lx(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){let{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};let n={all:[],phone:[],totp:[],webauthn:[]};for(let t of e?.factors??[])n.all.push(t),t.status===`verified`&&n[t.factor_type].push(t);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){let{data:{session:e},error:t}=await this.getSession();if(t)return this._returnResult({data:null,error:t});if(!e)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:n}=gb(e.access_token),r=null;n.aal&&(r=n.aal);let i=r;(e.user.factors?.filter(e=>e.status===`verified`)??[]).length>0&&(i=`aal2`);let a=n.amr||[];return{data:{currentLevel:r,nextLevel:i,currentAuthenticationMethods:a},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await W(this.fetch,`GET`,`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Py})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Py});let a=await W(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`approve`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&ob()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new Py});let a=await W(this.fetch,`POST`,`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:`deny`},xform:e=>({data:e,error:null})});return a.data&&a.data.redirect_url&&ob()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await W(this.fetch,`GET`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new Py})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await W(this.fetch,`DELETE`,`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Py})})}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(t=>t.kid===e);if(n)return n;let r=Date.now();if(n=this.jwks.keys.find(t=>t.kid===e),n&&this.jwks_cached_at+6e5>r)return n;let{data:i,error:a}=await W(this.fetch,`GET`,`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(t=>t.kid===e),!n)?null:n}async getClaims(e,t={}){try{let n=e;if(!n){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}let{header:r,payload:i,signature:a,raw:{header:o,payload:s}}=gb(n);t?.allowExpired||Eb(i.exp);let c=!r.alg||r.alg.startsWith(`HS`)||!r.kid||!(`crypto`in globalThis&&`subtle`in globalThis.crypto)?null:await this.fetchJwk(r.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!c){let{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}let l=Db(r.alg),u=await crypto.subtle.importKey(`jwk`,c,l,!0,[`verify`]);if(!await crypto.subtle.verify(l,u,a,nb(`${o}.${s}`)))throw new Gy(`Invalid JWT signature`);return{data:{claims:i,header:r,signature:a},error:null}}catch(e){if(U(e))return this._returnResult({data:null,error:e});throw e}}};Tx.nextInstanceID={};var Ex=Tx,Dx=`2.90.1`,Ox=``;Ox=typeof Deno<`u`?`deno`:typeof document<`u`?`web`:typeof navigator<`u`&&navigator.product===`ReactNative`?`react-native`:`node`;var kx={headers:{"X-Client-Info":`supabase-js-${Ox}/${Dx}`}},Ax={schema:`public`},jx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:`implicit`},Mx={};function Nx(e){"@babel/helpers - typeof";return Nx=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},Nx(e)}function Px(e,t){if(Nx(e)!=`object`||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||`default`);if(Nx(r)!=`object`)return r;throw TypeError(`@@toPrimitive must return a primitive value.`)}return(t===`string`?String:Number)(e)}function Fx(e){var t=Px(e,`string`);return Nx(t)==`symbol`?t:t+``}function Ix(e,t,n){return(t=Fx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?Lx(Object(n),!0).forEach(function(t){Ix(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var zx=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),Bx=()=>Headers,Vx=(e,t,n)=>{let r=zx(n),i=Bx();return async(n,a)=>{let o=await t()??e,s=new i(a?.headers);return s.has(`apikey`)||s.set(`apikey`,e),s.has(`Authorization`)||s.set(`Authorization`,`Bearer ${o}`),r(n,Rx(Rx({},a),{},{headers:s}))}};function Hx(e){return e.endsWith(`/`)?e:e+`/`}function Ux(e,t){let{db:n,auth:r,realtime:i,global:a}=e,{db:o,auth:s,realtime:c,global:l}=t,u={db:Rx(Rx({},o),n),auth:Rx(Rx({},s),r),realtime:Rx(Rx({},c),i),storage:{},global:Rx(Rx(Rx({},l),a),{},{headers:Rx(Rx({},l?.headers??{}),a?.headers??{})}),accessToken:async()=>``};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}function Wx(e){let t=e?.trim();if(!t)throw Error(`supabaseUrl is required.`);if(!t.match(/^https?:\/\//i))throw Error(`Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.`);try{return new URL(Hx(t))}catch{throw Error(`Invalid supabaseUrl: Provided URL is malformed.`)}}var Gx=class extends Ex{constructor(e){super(e)}},Kx=class{constructor(e,t,n){this.supabaseUrl=e,this.supabaseKey=t;let r=Wx(e);if(!t)throw Error(`supabaseKey is required.`);this.realtimeUrl=new URL(`realtime/v1`,r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace(`http`,`ws`),this.authUrl=new URL(`auth/v1`,r),this.storageUrl=new URL(`storage/v1`,r),this.functionsUrl=new URL(`functions/v1`,r);let i=`sb-${r.hostname.split(`.`)[0]}-auth-token`,a={db:Ax,realtime:Mx,auth:Rx(Rx({},jx),{},{storageKey:i}),global:kx},o=Ux(n??{},a);this.storageKey=o.auth.storageKey??``,this.headers=o.global.headers??{},o.accessToken?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(o.auth??{},this.headers,o.global.fetch),this.fetch=Vx(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Rx({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&this.accessToken().then(e=>this.realtime.setAuth(e)).catch(e=>console.warn(`Failed to set initial Realtime auth token:`,e)),this.rest=new N_(new URL(`rest/v1`,r).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new xy(this.storageUrl.href,this.headers,this.fetch,n?.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new E_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this;if(e.accessToken)return await e.accessToken();let{data:t}=await e.auth.getSession();return t.session?.access_token??e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:o,lock:s,debug:c,throwOnError:l},u,d){let f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gx({url:this.authUrl.href,headers:Rx(Rx({},f),u),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:o,lock:s,debug:c,throwOnError:l,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>e.toLowerCase()===`authorization`)})}_initRealtimeClient(e){return new mv(this.realtimeUrl.href,Rx(Rx({},e),{},{params:Rx(Rx({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,`CLIENT`,t?.access_token)})}_handleTokenChanged(e,t,n){(e===`TOKEN_REFRESHED`||e===`SIGNED_IN`)&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e===`SIGNED_OUT`&&(this.realtime.setAuth(),t==`STORAGE`&&this.auth.signOut(),this.changedAccessToken=void 0)}},qx=(e,t,n)=>new Kx(e,t,n);function Jx(){if(typeof window<`u`)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Jx()&&console.warn(`  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217`);const G=qx(`https://clkjzrsiysovjxviftyz.supabase.co`,`eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNsa2p6cnNpeXNvdmp4dmlmdHl6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NjU3NjYsImV4cCI6MjA4NDQ0MTc2Nn0.iLUN32On7fEAyupaTXjEp2w3kNAqBf6ZZhpOVELGPhE`,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});var Yx=`crm-docs`,Xx=[`contrato`,`pgr`,`pcmso`,`art`,`seguro`,`cno`,`cnpj`,`alvara`,`licenca_ambiental`,`outros`],Zx=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString();let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},Qx=(e,t)=>{if(t)return e||``;let n=e||``;return n.trim()?n.startsWith(`[SEM ANEXO]`)?n:`[SEM ANEXO] ${n}`:`No possui anexo`},$x=async(e,t)=>{let n=await t.arrayBuffer();return G.storage.from(Yx).upload(e,n,{contentType:t.type,upsert:!1})};const eS={async getAll(){let{data:e,error:t}=await G.from(`obras`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw t;if(!e)return[];let{data:n,error:r}=await G.from(`documentos_obras`).select(`*`).in(`obra_id`,e.map(e=>e.id));if(r)throw r;return e.map(e=>{let t=n?.filter(t=>t.obra_id===e.id)||[],r={},i=[];return t.forEach(e=>{if(e.tipo===`contrato`)i.push({id:e.id,name:e.nome_arquivo||`Contrato (Sem Anexo)`,url:e.url_arquivo||void 0,date:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,value:e.valor||0,description:e.descricao||void 0});else{let t=e.tipo;r[t]&&(t=`${e.tipo}_${e.id}`),r[t]={id:e.id,name:e.nome_arquivo||`Sem Anexo`,url:e.url_arquivo||void 0,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo,value:e.valor||void 0,description:e.descricao||void 0}}}),{id:e.id,name:e.nome,cnpj:e.cnpj||``,address:e.endereco||``,city:e.cidade||``,state:e.estado||``,client:e.cliente||``,contractValue:e.valor_contrato||0,startDate:e.data_inicio?new Date(e.data_inicio):void 0,predictedEndDate:e.previsao_termino?new Date(e.previsao_termino):void 0,status:e.status||`ativa`,documents:r,contracts:i}})},async getById(e){let{data:t,error:n}=await G.from(`obras`).select(`*`).eq(`id`,e).single();if(n)throw n;if(!t)return null;let{data:r,error:i}=await G.from(`documentos_obras`).select(`*`).eq(`obra_id`,e);if(i)throw i;let a={},o=[];return r?.forEach(e=>{if(e.tipo===`contrato`)o.push({id:e.id,name:e.nome_arquivo||`Contrato (Sem Anexo)`,url:e.url_arquivo||void 0,date:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,value:e.valor||0,description:e.descricao||void 0});else{let t=e.tipo;a[t]&&(t=`${e.tipo}_${e.id}`),a[t]={id:e.id,name:e.nome_arquivo||`Sem Anexo`,url:e.url_arquivo||void 0,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo,value:e.valor||void 0,description:e.descricao||void 0}}}),{id:t.id,name:t.nome,cnpj:t.cnpj||``,address:t.endereco||``,city:t.cidade||``,state:t.estado||``,client:t.cliente||``,contractValue:t.valor_contrato||0,startDate:t.data_inicio?new Date(t.data_inicio):void 0,predictedEndDate:t.previsao_termino?new Date(t.previsao_termino):void 0,status:t.status||`ativa`,documents:a,contracts:o}},async getExpiringDocs(){vs(new Date,30);let{data:e,error:t}=await G.from(`documentos_obras`).select(`
        id,
        tipo,
        nome_arquivo,
        data_validade,
        obra_id,
        obra:obras(id, nome)
      `).not(`data_validade`,`is`,null).order(`data_validade`,{ascending:!0});if(t)throw t;return e||[]},async getHistory(e){let{data:t,error:n}=await G.from(`historico_alteracoes`).select(`
        *,
        usuario:usuario_id(email)
      `).eq(`obra_id`,e).order(`created_at`,{ascending:!1});if(n)throw n;return t.map(e=>({id:e.id,obraId:e.obra_id,userId:e.usuario_id,field:e.campo_alterado,oldValue:e.valor_antigo,newValue:e.valor_novo,createdAt:new Date(e.created_at),userName:e.usuario?.email||`Visitante`}))},async deleteDocument(e){let{data:t,error:n}=await G.from(`documentos_obras`).select(`url_arquivo, obra_id`).eq(`id`,e).single();if(n)throw console.error(`Error fetching document for deletion:`,n),Error(`Erro ao buscar documento: ${n.message}`);if(t?.url_arquivo)try{let e=new URL(t.url_arquivo).pathname.split(`${Yx}/`)[1];if(e){let{error:t}=await G.storage.from(Yx).remove([decodeURIComponent(e)]);t&&console.warn(`Could not delete file from storage:`,t)}}catch(e){console.error(`Error parsing URL for deletion`,e)}let{error:r}=await G.from(`documentos_obras`).delete().eq(`id`,e);if(r)throw Error(`Erro ao excluir documento do banco: ${r.message}`)},async create(e,t){let{data:n,error:r}=await G.from(`obras`).insert({nome:e.name,cnpj:e.cnpj||null,endereco:e.address,cidade:e.city,estado:e.state,cliente:e.client||null,valor_contrato:e.contractValue,data_inicio:Zx(e.startDate),previsao_termino:Zx(e.predictedEndDate),status:e.status}).select().single();if(r)throw console.error(`Error creating obra:`,r),Error(`Erro ao criar obra: ${r.message}`);let i=[];for(let e of t.documents)e.file&&i.push(this.uploadAndSaveDoc(n.id,e.type,e.file,e.expiry,void 0,e.description));for(let e of t.contracts){let t=!!e.file,r=Qx(e.description,t);i.push(this.uploadAndSaveDoc(n.id,`contrato`,e.file||null,e.expiry,e.value,r))}await Promise.all(i);let a=await this.getById(n.id);if(!a)throw Error(`Falha ao recuperar obra criada`);return a},async update(e,t,n){let r={nome:t.name,cnpj:t.cnpj||null,endereco:t.address,cidade:t.city,estado:t.state,cliente:t.client,valor_contrato:t.contractValue,status:t.status};t.startDate!==void 0&&(r.data_inicio=Zx(t.startDate)),t.predictedEndDate!==void 0&&(r.previsao_termino=Zx(t.predictedEndDate));let{error:i}=await G.from(`obras`).update(r).eq(`id`,e);if(i)throw console.error(`Error updating obra:`,i),Error(`Erro ao atualizar obra: ${i.message}`);for(let t of n.documents)if(t.file)await this.uploadAndSaveDoc(e,t.type,t.file,t.expiry,void 0,t.description);else if(t.id){let e={};if(t.expiry!==void 0&&(e.data_validade=t.expiry?Zx(t.expiry):null),t.description!==void 0&&(e.descricao=t.description),Object.keys(e).length>0){let{error:n}=await G.from(`documentos_obras`).update(e).eq(`id`,t.id);n&&console.error(`Erro ao atualizar doc ${t.id}: ${n.message}`)}}for(let t of n.contracts)if(t.id)if(t.file){let n=t.description||``;await this.uploadAndSaveDoc(e,`contrato`,t.file,t.expiry,t.value,n)}else{let e={};t.expiry&&(e.data_validade=t.expiry.toISOString()),t.value!==void 0&&(e.valor=t.value),t.description!==void 0&&(e.descricao=t.description),Object.keys(e).length>0&&await G.from(`documentos_obras`).update(e).eq(`id`,t.id)}else{let n=!!t.file,r=Qx(t.description,n);await this.uploadAndSaveDoc(e,`contrato`,t.file||null,t.expiry,t.value,r)}},async delete(e){await Promise.all([G.from(`veiculos`).update({obra_id:null}).eq(`obra_id`,e),G.from(`alojamentos`).update({obra_id:null}).eq(`obra_id`,e),G.from(`orcamentos`).update({obra_id:null}).eq(`obra_id`,e),G.from(`contas_a_pagar`).update({obra_id:null}).eq(`obra_id`,e)]),await G.from(`documentos_obras`).delete().eq(`obra_id`,e),await G.from(`historico_alteracoes`).delete().eq(`obra_id`,e);let{error:t}=await G.from(`obras`).delete().eq(`id`,e);if(t)throw console.error(`Error deleting obra:`,t),Error(`Erro ao excluir obra: ${t.message}`)},async uploadAndSaveDoc(e,t,n,r,i,a){let o=null,s=null;if(n){let r=n.name.split(`.`).pop();s=n.name;let i=`${e}/${t}/${crypto.randomUUID()}.${r}`,{error:a}=await $x(i,n);if(a)throw console.error(`Error uploading file:`,a),Error(`Erro no upload: ${a.message}`);let{data:c}=G.storage.from(Yx).getPublicUrl(i);o=c.publicUrl}let c=t.toLowerCase();Xx.includes(c)||(c=`outros`);let{error:l}=await G.from(`documentos_obras`).insert({obra_id:e,tipo:c,nome_arquivo:s,url_arquivo:o,data_validade:r?Zx(r):null,valor:i,descricao:a});if(l)throw console.error(`Error saving document metadata:`,l),Error(`Erro ao salvar documento: ${l.message}`)}};var tS=`crm-docs`,nS=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString();let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},rS=async(e,t)=>{let n=await t.arrayBuffer();return G.storage.from(tS).upload(e,n,{contentType:t.type,upsert:!1})};const iS={async getAll(){let{data:e,error:t}=await G.from(`veiculos`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw console.error(`Error fetching vehicles:`,t),t;if(!e)return[];let{data:n,error:r}=await G.from(`documentos_veiculos`).select(`*`).in(`veiculo_id`,e.map(e=>e.id));if(r)throw r;return e.map(e=>{let t=n?.filter(t=>t.veiculo_id===e.id)||[],r={};t.forEach(e=>{let t=e.tipo;r[t]&&(t=`${e.tipo}_${e.id}`),r[t]={id:e.id,name:e.nome_arquivo,url:e.url_arquivo,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo}});let i=t?.find(e=>e.tipo===`crlv`);return{id:e.id,brand:e.marca||``,model:e.modelo||``,plate:e.placa,projectId:e.obra_id||void 0,status:e.status||`ativo`,documentUrl:i?.url_arquivo,documentExpiry:i?.data_validade?new Date(i.data_validade):void 0,documents:r,pneuEstado:e.pneu_estado,pneuDataTroca:e.pneu_data_troca?new Date(e.pneu_data_troca):void 0,bateriaSerie:e.bateria_serie,bateriaAmperagem:e.bateria_amperagem,bateriaDataTroca:e.bateria_data_troca?new Date(e.bateria_data_troca):void 0}})},async getById(e){let{data:t,error:n}=await G.from(`veiculos`).select(`*`).eq(`id`,e).single();if(n)throw n;if(!t)return null;let{data:r,error:i}=await G.from(`documentos_veiculos`).select(`*`).eq(`veiculo_id`,e);if(i)throw i;let a={};r?.forEach(e=>{let t=e.tipo;a[t]&&(t=`${e.tipo}_${e.id}`),a[t]={id:e.id,name:e.nome_arquivo,url:e.url_arquivo,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo}});let o=r?.find(e=>e.tipo===`crlv`);return{id:t.id,brand:t.marca||``,model:t.modelo||``,plate:t.placa,projectId:t.obra_id||void 0,status:t.status||`ativo`,documentUrl:o?.url_arquivo,documentExpiry:o?.data_validade?new Date(o.data_validade):void 0,documents:a,pneuEstado:t.pneu_estado,pneuDataTroca:t.pneu_data_troca?new Date(t.pneu_data_troca):void 0,bateriaSerie:t.bateria_serie,bateriaAmperagem:t.bateria_amperagem,bateriaDataTroca:t.bateria_data_troca?new Date(t.bateria_data_troca):void 0}},async create(e){let{data:t,error:n}=await G.from(`veiculos`).insert({marca:e.brand,modelo:e.model,placa:e.plate,obra_id:e.projectId||null,status:e.status||`ativo`,pneu_estado:e.pneuEstado,pneu_data_troca:nS(e.pneuDataTroca),bateria_serie:e.bateriaSerie,bateria_amperagem:e.bateriaAmperagem,bateria_data_troca:nS(e.bateriaDataTroca)}).select().single();if(n)throw n;return{id:t.id,brand:t.marca||``,model:t.modelo||``,plate:t.placa,projectId:t.obra_id||void 0,status:t.status||`ativo`,documents:{},pneuEstado:t.pneu_estado,pneuDataTroca:t.pneu_data_troca?new Date(t.pneu_data_troca):void 0,bateriaSerie:t.bateria_serie,bateriaAmperagem:t.bateria_amperagem,bateriaDataTroca:t.bateria_data_troca?new Date(t.bateria_data_troca):void 0}},async update(e,t){let n={marca:t.brand,modelo:t.model,placa:t.plate,obra_id:t.projectId,status:t.status,pneu_estado:t.pneuEstado,pneu_data_troca:t.pneuDataTroca===void 0?void 0:nS(t.pneuDataTroca),bateria_serie:t.bateriaSerie,bateria_amperagem:t.bateriaAmperagem,bateria_data_troca:t.bateriaDataTroca===void 0?void 0:nS(t.bateriaDataTroca)},{error:r}=await G.from(`veiculos`).update(n).eq(`id`,e);if(r)throw r},async upsertDocument(e,t,n,r,i){let a=t.toLowerCase();if(i){let t={};if(r!==void 0&&(t.data_validade=r?nS(r):null),n){let r=n.name.split(`.`).pop(),i=`${e}/${a}/${crypto.randomUUID()}.${r}`,{error:o}=await rS(i,n);if(o)throw Error(`Upload falhou: ${o.message}`);let{data:s}=G.storage.from(tS).getPublicUrl(i);t.nome_arquivo=n.name,t.url_arquivo=s.publicUrl,t.data_upload=new Date().toISOString()}if(Object.keys(t).length>0){let{error:e}=await G.from(`documentos_veiculos`).update(t).eq(`id`,i);if(e)throw Error(`Erro ao atualizar: ${e.message}`)}}else{if(!n)return;let t=n.name.split(`.`).pop(),i=`${e}/${a}/${crypto.randomUUID()}.${t}`,{error:o}=await rS(i,n);if(o)throw Error(`Upload falhou: ${o.message}`);let{data:s}=G.storage.from(tS).getPublicUrl(i),{error:c}=await G.from(`documentos_veiculos`).insert({veiculo_id:e,tipo:a,nome_arquivo:n.name,url_arquivo:s.publicUrl,data_validade:r?nS(r):null});if(c)throw Error(`Erro ao salvar: ${c.message}`)}},async delete(e){await G.from(`documentos_veiculos`).delete().eq(`veiculo_id`,e);let{error:t}=await G.from(`veiculos`).delete().eq(`id`,e);if(t)throw t},async getExpiringDocs(){vs(new Date,30);let{data:e,error:t}=await G.from(`documentos_veiculos`).select(`
        id,
        tipo,
        nome_arquivo,
        data_validade,
        veiculo_id,
        veiculo:veiculos(id, placa, modelo)
      `).not(`data_validade`,`is`,null).order(`data_validade`,{ascending:!0});if(t)throw t;return e||[]}};var aS=`crm-docs`,oS=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString();let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()};const sS={async getAll(){let{data:e,error:t}=await G.from(`alojamentos`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw console.error(`Error fetching accommodations:`,t),t;if(!e)return[];let{data:n,error:r}=await G.from(`documentos_alojamentos`).select(`*`).in(`alojamento_id`,e.map(e=>e.id));if(r)throw r;return e.map(e=>{let t=n?.filter(t=>t.alojamento_id===e.id)||[],r={};t.forEach(e=>{let t=e.tipo;r[t]={id:e.id,name:e.nome_arquivo,url:e.url_arquivo,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo}});let i=e.configuracao_contas,a=[];return Array.isArray(i)?a=i:i&&(i.rent&&a.push({id:`rent`,type:`Aluguel`,value:i.rent.value,dueDay:i.rent.dueDay}),i.water&&a.push({id:`water`,type:`gua`,value:i.water.value,dueDay:i.water.dueDay}),i.power&&a.push({id:`power`,type:`Energia`,value:i.power.value,dueDay:i.power.dueDay})),{id:e.id,projectId:e.obra_id||``,name:e.nome,address:e.endereco||``,entryDate:e.data_entrada?new Date(e.data_entrada):new Date,contractExpiry:e.vencimento_contrato?new Date(e.vencimento_contrato):new Date,status:e.status||`active`,utilities:a,documents:r,cep:e.cep,logradouro:e.logradouro,numero:e.numero,complemento:e.complemento,bairro:e.bairro,cidade:e.cidade,estado:e.estado}})},async getById(e){let{data:t,error:n}=await G.from(`alojamentos`).select(`*`).eq(`id`,e).single();if(n)throw n;if(!t)return null;let{data:r,error:i}=await G.from(`documentos_alojamentos`).select(`*`).eq(`alojamento_id`,e);if(i)throw i;let a={};r?.forEach(e=>{let t=e.tipo;a[t]={id:e.id,name:e.nome_arquivo,url:e.url_arquivo,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo}});let o=t.configuracao_contas,s=[];return Array.isArray(o)?s=o:o&&(o.rent&&s.push({id:`rent`,type:`Aluguel`,value:o.rent.value,dueDay:o.rent.dueDay}),o.water&&s.push({id:`water`,type:`gua`,value:o.water.value,dueDay:o.water.dueDay}),o.power&&s.push({id:`power`,type:`Energia`,value:o.power.value,dueDay:o.power.dueDay})),{id:t.id,projectId:t.obra_id||``,name:t.nome,address:t.endereco||``,entryDate:t.data_entrada?new Date(t.data_entrada):new Date,contractExpiry:t.vencimento_contrato?new Date(t.vencimento_contrato):new Date,status:t.status||`active`,utilities:s,documents:a,cep:t.cep,logradouro:t.logradouro,numero:t.numero,complemento:t.complemento,bairro:t.bairro,cidade:t.cidade,estado:t.estado}},async create(e){let t=[e.logradouro,e.numero,e.complemento?` - ${e.complemento}`:``,e.bairro?` - ${e.bairro}`:``,e.cidade?` - ${e.cidade}`:``,e.estado?`/${e.estado}`:``,e.cep?` - CEP: ${e.cep}`:``].filter(Boolean).join(`, `).replace(` ,`,`,`),{data:n,error:r}=await G.from(`alojamentos`).insert({nome:e.name,endereco:t||e.address,obra_id:e.projectId,data_entrada:oS(e.entryDate),vencimento_contrato:oS(e.contractExpiry),status:e.status,configuracao_contas:e.utilities,cep:e.cep,logradouro:e.logradouro,numero:e.numero,complemento:e.complemento,bairro:e.bairro,cidade:e.cidade,estado:e.estado}).select().single();if(r)throw r;return{...e,id:n.id,documents:{}}},async update(e,t){let n=[t.logradouro,t.numero,t.complemento,t.bairro,t.cidade,t.estado,t.cep].some(e=>e!==void 0)?[t.logradouro,t.numero,t.complemento?` - ${t.complemento}`:``,t.bairro?` - ${t.bairro}`:``,t.cidade?` - ${t.cidade}`:``,t.estado?`/${t.estado}`:``,t.cep?` - CEP: ${t.cep}`:``].filter(Boolean).join(`, `).replace(` ,`,`,`):void 0,r={nome:t.name,obra_id:t.projectId,status:t.status,configuracao_contas:t.utilities,cep:t.cep,logradouro:t.logradouro,numero:t.numero,complemento:t.complemento,bairro:t.bairro,cidade:t.cidade,estado:t.estado};t.address&&(r.endereco=t.address),n&&(r.endereco=n),t.entryDate&&(r.data_entrada=oS(t.entryDate)),t.contractExpiry&&(r.vencimento_contrato=oS(t.contractExpiry));let{error:i}=await G.from(`alojamentos`).update(r).eq(`id`,e);if(i)throw i},async getExpenses(e){let{data:t,error:n}=await G.from(`contas_a_pagar`).select(`*`).eq(`alojamento_id`,e).order(`data_vencimento`,{ascending:!1});if(n)throw n;return t},async addExpense(e){let{file:t,...n}=e,r=n.url_boleto;if(t){let e=t.name.split(`.`).pop(),n=`expenses/${crypto.randomUUID()}.${e}`,{error:i}=await G.storage.from(aS).upload(n,t);if(i)throw Error(`Upload falhou: ${i.message}`);let{data:a}=G.storage.from(aS).getPublicUrl(n);r=a.publicUrl}let{data:i,error:a}=await G.from(`contas_a_pagar`).insert({...n,url_boleto:r}).select().single();if(a)throw a;return i},async updateExpense(e,t){let{file:n,...r}=t,i=r.url_boleto;if(n){let e=n.name.split(`.`).pop(),t=`expenses/${crypto.randomUUID()}.${e}`,{error:r}=await G.storage.from(aS).upload(t,n);if(r)throw Error(`Upload falhou: ${r.message}`);let{data:a}=G.storage.from(aS).getPublicUrl(t);i=a.publicUrl}let{data:a,error:o}=await G.from(`contas_a_pagar`).update({...r,url_boleto:i}).eq(`id`,e).select().single();if(o)throw o;return a},async deleteExpense(e){let{error:t}=await G.from(`contas_a_pagar`).delete().eq(`id`,e);if(t)throw t},async upsertDocument(e,t,n,r,i){let a=t.toLowerCase();if(i){let t={};if(r!==void 0&&(t.data_validade=r?oS(r):null),n){let r=n.name.split(`.`).pop(),i=`${e}/${a}/${crypto.randomUUID()}.${r}`,o=await n.arrayBuffer(),{error:s}=await G.storage.from(aS).upload(i,o,{contentType:n.type,upsert:!1});if(s)throw Error(`Upload falhou: ${s.message}`);let{data:c}=G.storage.from(aS).getPublicUrl(i);t.nome_arquivo=n.name,t.url_arquivo=c.publicUrl,t.data_upload=new Date().toISOString()}let{error:o}=await G.from(`documentos_alojamentos`).update(t).eq(`id`,i);if(o)throw Error(`Erro ao atualizar: ${o.message}`)}else{if(!n)return;let t=n.name.split(`.`).pop(),i=`${e}/${a}/${crypto.randomUUID()}.${t}`,o=await n.arrayBuffer(),{error:s}=await G.storage.from(aS).upload(i,o,{contentType:n.type,upsert:!1});if(s)throw Error(`Upload falhou: ${s.message}`);let{data:c}=G.storage.from(aS).getPublicUrl(i),{error:l}=await G.from(`documentos_alojamentos`).insert({alojamento_id:e,tipo:a,nome_arquivo:n.name,url_arquivo:c.publicUrl,data_validade:r?oS(r):null});if(l)throw Error(`Erro ao salvar: ${l.message}`)}},async delete(e){await G.from(`documentos_alojamentos`).delete().eq(`alojamento_id`,e),await G.from(`contas_a_pagar`).delete().eq(`alojamento_id`,e);let{error:t}=await G.from(`alojamentos`).delete().eq(`id`,e);if(t)throw t},async getExpiringDocs(){let e=vs(new Date,30),{data:t,error:n}=await G.from(`documentos_alojamentos`).select(`
        id,
        tipo,
        nome_arquivo,
        data_validade,
        alojamento_id,
        alojamento:alojamentos(id, nome)
      `).not(`data_validade`,`is`,null).lte(`data_validade`,e.toISOString()).order(`data_validade`,{ascending:!0});if(n)throw n;return t||[]},async uploadUtilityDocument(e){let t=e.name.split(`.`).pop(),n=`utility-docs/${crypto.randomUUID()}.${t}`,{error:r}=await G.storage.from(aS).upload(n,e);if(r)throw Error(`Upload falhou: ${r.message}`);let{data:i}=G.storage.from(aS).getPublicUrl(n);return i.publicUrl},async getCategories(){let{data:e,error:t}=await G.from(`categorias_conta_pagar`).select(`*`).order(`nome`,{ascending:!0});if(t)throw t;return e||[]},async createCategory(e){let{data:t,error:n}=await G.from(`categorias_conta_pagar`).insert({nome:e}).select().single();if(n)throw n;return t}},cS={async getAll(){let{data:e,error:t}=await G.from(`prestadores_servico`).select(`*`).order(`nome`,{ascending:!0});if(t)throw t;return(e||[]).map(e=>({...e,created_at:e.created_at?new Date(e.created_at):void 0}))},async getById(e){let{data:t,error:n}=await G.from(`prestadores_servico`).select(`*`).eq(`id`,e).single();if(n)throw n;if(!t)return null;let r=t;return{...r,created_at:r.created_at?new Date(r.created_at):void 0}},async create(e){let{data:t,error:n}=await G.from(`prestadores_servico`).insert({nome:e.nome,telefone_1:e.telefone_1,telefone_2:e.telefone_2,rua:e.rua,numero:e.numero,cidade:e.cidade,estado:e.estado,funcao:e.funcao}).select().single();if(n)throw n;let r=t;return{...r,created_at:r.created_at?new Date(r.created_at):void 0}},async update(e,t){let n={};t.nome!==void 0&&(n.nome=t.nome),t.telefone_1!==void 0&&(n.telefone_1=t.telefone_1),t.telefone_2!==void 0&&(n.telefone_2=t.telefone_2),t.rua!==void 0&&(n.rua=t.rua),t.numero!==void 0&&(n.numero=t.numero),t.cidade!==void 0&&(n.cidade=t.cidade),t.estado!==void 0&&(n.estado=t.estado),t.funcao!==void 0&&(n.funcao=t.funcao);let{error:r}=await G.from(`prestadores_servico`).update(n).eq(`id`,e);if(r)throw r},async delete(e){let{error:t}=await G.from(`prestadores_servico`).delete().eq(`id`,e);if(t)throw t}};var lS=`crm-docs`,uS=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString();let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},dS=async(e,t)=>{let n=await t.arrayBuffer();return G.storage.from(lS).upload(e,n,{contentType:t.type,upsert:!1})};const fS={async getAll(){let{data:e,error:t}=await G.from(`colaboradores`).select(`*`).order(`nome`,{ascending:!0});if(t)throw t;if(!e)return[];let{data:n,error:r}=await G.from(`documentos_admissao`).select(`*`).in(`colaborador_id`,e.map(e=>e.id));if(r)throw r;return e.map(e=>{let t=n?.filter(t=>t.colaborador_id===e.id)||[],r={};t.forEach(e=>{let t=e.tipo;r[t]&&(t=`${e.tipo}_${e.id}`),r[t]={id:e.id,name:e.nome_arquivo,url:e.url_arquivo,uploadDate:new Date(e.data_upload),expiry:e.data_validade?new Date(e.data_validade):void 0,type:e.tipo,description:e.descricao}});let i=e.logradouro===null?e.endereco||``:e.logradouro;return{id:e.id,name:e.nome,cpf:e.cpf||``,rg:e.rg||``,phone:e.telefone||``,email:e.email||``,street:i,number:e.numero||``,neighborhood:e.bairro||``,city:e.cidade||``,state:e.uf||``,emergencyContact:{name:e.contato_emergencia_nome||``,phone:e.contato_emergencia_telefone||``},role:e.cargo||``,salary:e.salario||0,admissionDate:e.data_admissao?new Date(e.data_admissao):new Date,dismissalDate:e.data_desligamento?new Date(e.data_desligamento):void 0,vacationDueDate:e.vencimento_periodo?new Date(e.vencimento_periodo):void 0,status:e.status||`ativo`,documents:r,bankDetails:e.dados_bancarios||{bank:``,agency:``,account:``,pix:``},carteira_digital_login:e.carteira_digital_login||``,carteira_digital_senha:e.carteira_digital_senha||``,photoUrl:e.foto_url||``,tipoRemuneracao:e.tipo_remuneracao||`fixed`,producaoData:e.producao_data?new Date(e.producao_data):void 0,producaoObraId:e.producao_obra_id,producaoQuantidade:e.producao_quantidade,producaoValorUnitario:e.producao_valor_unitario,producaoValorTotal:e.producao_valor_total}})},async create(e){let{data:t,error:n}=await G.from(`colaboradores`).insert({nome:e.name,cpf:e.cpf?.trim()===``?null:e.cpf,rg:e.rg?.trim()===``?null:e.rg,telefone:e.phone,email:e.email,logradouro:e.street,numero:e.number,bairro:e.neighborhood,cidade:e.city,uf:e.state,endereco:`${e.street}, ${e.number} - ${e.neighborhood}, ${e.city} - ${e.state}`,cargo:e.role,salario:e.salary,data_admissao:uS(e.admissionDate),data_desligamento:uS(e.dismissalDate),vencimento_periodo:uS(e.vacationDueDate),status:e.status,contato_emergencia_nome:e.emergencyContact.name,contato_emergencia_telefone:e.emergencyContact.phone,dados_bancarios:e.bankDetails,carteira_digital_login:e.carteira_digital_login,carteira_digital_senha:e.carteira_digital_senha,foto_url:e.photoUrl,tipo_remuneracao:e.tipoRemuneracao||`fixed`,producao_data:uS(e.producaoData),producao_obra_id:e.producaoObraId,producao_quantidade:e.producaoQuantidade,producao_valor_unitario:e.producaoValorUnitario,producao_valor_total:e.producaoValorTotal}).select().single();if(n)throw n;return{...e,id:t.id}},async update(e,t){let n={};if(t.name!==void 0&&(n.nome=t.name),t.cpf!==void 0&&(n.cpf=t.cpf?.trim()===``?null:t.cpf),t.rg!==void 0&&(n.rg=t.rg?.trim()===``?null:t.rg),t.phone!==void 0&&(n.telefone=t.phone),t.email!==void 0&&(n.email=t.email),t.role!==void 0&&(n.cargo=t.role),t.salary!==void 0&&(n.salario=t.salary),t.status!==void 0&&(n.status=t.status),t.bankDetails!==void 0&&(n.dados_bancarios=t.bankDetails),t.carteira_digital_login!==void 0&&(n.carteira_digital_login=t.carteira_digital_login),t.carteira_digital_senha!==void 0&&(n.carteira_digital_senha=t.carteira_digital_senha),t.photoUrl!==void 0&&(n.foto_url=t.photoUrl),t.tipoRemuneracao!==void 0&&(n.tipo_remuneracao=t.tipoRemuneracao),t.producaoData!==void 0&&(n.producao_data=uS(t.producaoData)),t.producaoObraId!==void 0&&(n.producao_obra_id=t.producaoObraId),t.producaoQuantidade!==void 0&&(n.producao_quantidade=t.producaoQuantidade),t.producaoValorUnitario!==void 0&&(n.producao_valor_unitario=t.producaoValorUnitario),t.producaoValorTotal!==void 0&&(n.producao_valor_total=t.producaoValorTotal),t.street!==void 0&&(n.logradouro=t.street),t.number!==void 0&&(n.numero=t.number),t.neighborhood!==void 0&&(n.bairro=t.neighborhood),t.city!==void 0&&(n.cidade=t.city),t.state!==void 0&&(n.uf=t.state),t.admissionDate!==void 0&&(n.data_admissao=uS(t.admissionDate)),t.dismissalDate!==void 0&&(n.data_desligamento=uS(t.dismissalDate)),t.vacationDueDate!==void 0&&(n.vencimento_periodo=uS(t.vacationDueDate)),t.emergencyContact&&(t.emergencyContact.name!==void 0&&(n.contato_emergencia_nome=t.emergencyContact.name),t.emergencyContact.phone!==void 0&&(n.contato_emergencia_telefone=t.emergencyContact.phone)),Object.keys(n).length>0){let{error:t}=await G.from(`colaboradores`).update(n).eq(`id`,e);if(t)throw t}},async upsertDocument(e,t,n,r,i,a){let o=t.toLowerCase();if(i){let t={};if(r!==void 0&&(t.data_validade=r?uS(r):null),a!==void 0&&(t.descricao=a),n){let r=n.name.split(`.`).pop(),i=`${e}/${o}/${crypto.randomUUID()}.${r}`,{error:a}=await dS(i,n);if(a)throw Error(`Upload falhou: ${a.message}`);let{data:s}=G.storage.from(lS).getPublicUrl(i);t.nome_arquivo=n.name,t.url_arquivo=s.publicUrl,t.data_upload=new Date().toISOString()}if(Object.keys(t).length>0){let{error:e}=await G.from(`documentos_admissao`).update(t).eq(`id`,i);if(e)throw Error(`Erro ao atualizar: ${e.message}`)}}else{if(!n)return;let t=n.name.split(`.`).pop(),i=`${e}/${o}/${crypto.randomUUID()}.${t}`,{error:s}=await dS(i,n);if(s)throw Error(`Upload falhou: ${s.message}`);let{data:c}=G.storage.from(lS).getPublicUrl(i),{error:l}=await G.from(`documentos_admissao`).insert({colaborador_id:e,tipo:o,nome_arquivo:n.name,url_arquivo:c.publicUrl,data_validade:r?uS(r):null,descricao:a});if(l)throw Error(`Erro ao salvar: ${l.message}`)}},async delete(e){await G.from(`contas_a_pagar`).update({colaborador_id:null}).eq(`colaborador_id`,e),await G.from(`documentos_admissao`).delete().eq(`colaborador_id`,e);let{error:t}=await G.from(`colaboradores`).delete().eq(`id`,e);if(t)throw t},async getExpiringDocs(){let{data:e,error:t}=await G.from(`documentos_admissao`).select(`
        id,
        tipo,
        nome_arquivo,
        data_validade,
        colaborador_id,
        colaborador:colaboradores(id, nome)
      `).not(`data_validade`,`is`,null).order(`data_validade`,{ascending:!0});if(t)throw t;return e||[]}};var pS=e=>{switch(e){case`paid`:return`pago`;case`pending`:return`pendente`;case`overdue`:return`vencido`;case`cancelled`:return`cancelado`;default:return`pendente`}},mS=e=>{switch(e){case`pago`:return`paid`;case`pendente`:return`pending`;case`vencido`:return`overdue`;case`cancelado`:return`cancelled`;default:return`pending`}};const hS={async getAll(){let{data:e,error:t}=await G.from(`notas_fiscais`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw t;return e?e.map(e=>({id:e.id,number:e.numero,issueDate:e.data_emissao?new Date(e.data_emissao):new Date,client:e.cliente_fornecedor||``,cnpj:e.cnpj_cpf||``,value:Number(e.valor||0),dueDate:e.data_vencimento?new Date(e.data_vencimento):new Date,status:mS(e.status),attachmentUrl:void 0,attachmentName:void 0,items:Array.isArray(e.itens)?e.itens:[],emitterName:e.emitente_nome||null,emitterCnpj:e.emitente_cnpj||null})):[]},async getNextNumber(){let e=new Date().getFullYear().toString(),{data:t,error:n}=await G.from(`notas_fiscais`).select(`numero`).ilike(`numero`,`${e}%`).order(`numero`,{ascending:!1}).limit(1).maybeSingle();if(n)return console.error(`Error fetching next number:`,n),`${e}0001`;if(t&&t.numero){let e=parseInt(t.numero);if(!isNaN(e))return(e+1).toString()}return`${e}0001`},async create(e){let{data:t,error:n}=await G.from(`notas_fiscais`).insert({numero:e.number,data_emissao:e.issueDate.toISOString(),cliente_fornecedor:e.client,cnpj_cpf:e.cnpj,valor:e.value,data_vencimento:e.dueDate.toISOString(),status:pS(e.status),itens:e.items,emitente_nome:e.emitterName,emitente_cnpj:e.emitterCnpj}).select().single();if(n)throw n;return{...e,id:t.id}},async update(e,t){let n={};if(t.number&&(n.numero=t.number),t.issueDate&&(n.data_emissao=t.issueDate.toISOString()),t.client&&(n.cliente_fornecedor=t.client),t.cnpj&&(n.cnpj_cpf=t.cnpj),t.value!==void 0&&(n.valor=t.value),t.dueDate&&(n.data_vencimento=t.dueDate.toISOString()),t.status&&(n.status=pS(t.status)),t.items&&(n.itens=t.items),t.emitterName!==void 0&&(n.emitente_nome=t.emitterName),t.emitterCnpj!==void 0&&(n.emitente_cnpj=t.emitterCnpj),Object.keys(n).length>0){let{error:t}=await G.from(`notas_fiscais`).update(n).eq(`id`,e);if(t)throw t}},async delete(e){let{data:t}=await G.from(`anexos_notas_fiscais`).select(`url_arquivo`).eq(`nota_fiscal_id`,e);if(t&&t.length>0){try{let e=`notas_fiscais`;for(let n of t)if(n.url_arquivo){let t=new URL(n.url_arquivo).pathname.split(`${e}/`)[1];t&&await G.storage.from(e).remove([decodeURIComponent(t)])}}catch(e){console.error(`Error cleaning up legacy attachments`,e)}await G.from(`anexos_notas_fiscais`).delete().eq(`nota_fiscal_id`,e)}let{error:n}=await G.from(`notas_fiscais`).delete().eq(`id`,e);if(n)throw n},async generateAndDownloadDocument(e){try{let{data:t,error:n}=await G.functions.invoke(`generate-invoice-pdf`,{body:{id:e.id}});if(n)throw n;if(!t)throw Error(`No data received from PDF generation service`);let r;r=t instanceof Blob?t:new Blob([t],{type:`application/pdf`});let i=window.URL.createObjectURL(r),a=document.createElement(`a`);a.href=i,a.download=`nota-fiscal-${e.number}.pdf`,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(i)}catch(e){throw console.error(`Error downloading PDF:`,e),Error(e.message||`Falha ao gerar o PDF. Tente novamente mais tarde.`)}}};var gS=`orcamentos`,_S=e=>e?e===`rascunho`?`draft`:e===`enviado`?`sent`:e===`aprovado`?`approved`:e===`rejeitado`?`rejected`:`pendente`:null,vS=e=>e?e===`draft`?`rascunho`:e===`sent`?`enviado`:e===`approved`?`aprovado`:e===`rejected`?`rejeitado`:`pendente`:null,yS=async(e,t)=>{try{let n=await t.arrayBuffer(),{data:r,error:i}=await G.storage.from(gS).upload(e,n,{contentType:t.type,upsert:!1});return{data:r,error:i}}catch(e){return{data:null,error:e}}};const bS={async getAll(){let{data:e,error:t}=await G.from(`orcamentos`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw t;if(!e)return[];let{data:n,error:r}=await G.from(`anexos_orcamentos`).select(`*`).in(`orcamento_id`,e.map(e=>e.id));if(r)throw r;return e.map(e=>{let t=n?.filter(t=>t.orcamento_id===e.id).map(e=>({id:e.id,name:e.nome_arquivo,url:e.url_arquivo,date:new Date(e.data_upload)}));return{id:e.id,visualId:e.codigo_visual||e.id,client:e.cliente||``,location:e.local_obra||``,projectId:e.obra_id||void 0,description:e.descricao||``,date:e.data_criacao?new Date(e.data_criacao):new Date(e.created_at),totalValue:e.valor_total||0,status:_S(e.status),attachments:t||[],cnpj:e.cnpj||``,street:e.rua||``,neighborhood:e.bairro||``,city:e.cidade||``,state:e.estado||``}})},async getNextNumber(){let e=new Date().getFullYear(),{data:t,error:n}=await G.from(`orcamentos`).select(`codigo_visual`).ilike(`codigo_visual`,`ORC-${e}-%`).order(`codigo_visual`,{ascending:!1}).limit(1).maybeSingle();if(n)return console.error(`Error fetching next budget number:`,n),`ORC-${e}-001`;if(t&&t.codigo_visual){let n=t.codigo_visual.split(`-`);if(n.length===3){let t=parseInt(n[2]);if(!isNaN(t))return`ORC-${e}-${String(t+1).padStart(3,`0`)}`}}return`ORC-${e}-001`},async create(e,t){let n=[e.street,e.neighborhood,e.city,e.state].filter(Boolean),r=n.length>0?n.join(`, `):e.location,{data:i,error:a}=await G.from(`orcamentos`).insert({codigo_visual:e.visualId,cliente:e.client??null,local_obra:r??null,obra_id:e.projectId??null,descricao:e.description??null,data_criacao:e.date?e.date.toISOString():null,valor_total:e.totalValue??null,status:vS(e.status),cnpj:e.cnpj??null,rua:e.street??null,bairro:e.neighborhood??null,cidade:e.city??null,estado:e.state??null}).select().single();if(a)throw console.error(`Error creating budget:`,a),a;let o=[];if(t.length>0)for(let e of t)try{let t=await this.uploadAttachment(i.id,e);o.push(t)}catch(t){console.error(`Failed to upload attachment ${e.name} for budget ${i.id}`,t)}return{...e,id:i.id,visualId:i.codigo_visual||``,attachments:o}},async update(e,t,n){let r={};if(t.client!==void 0&&(r.cliente=t.client),t.location!==void 0&&(r.local_obra=t.location),t.projectId!==void 0&&(r.obra_id=t.projectId),t.description!==void 0&&(r.descricao=t.description),t.date!==void 0&&(r.data_criacao=t.date?t.date.toISOString():null),t.totalValue!==void 0&&(r.valor_total=t.totalValue),t.status!==void 0&&(r.status=vS(t.status)),t.cnpj!==void 0&&(r.cnpj=t.cnpj),t.street!==void 0&&(r.rua=t.street),t.neighborhood!==void 0&&(r.bairro=t.neighborhood),t.city!==void 0&&(r.cidade=t.city),t.state!==void 0&&(r.estado=t.state),Object.keys(r).length>0){let{error:t}=await G.from(`orcamentos`).update(r).eq(`id`,e);if(t)throw t}if(n.length>0)for(let t of n)try{await this.uploadAttachment(e,t)}catch(e){console.error(`Failed to upload attachment ${t.name}`,e)}},async delete(e){let{data:t}=await G.from(`anexos_orcamentos`).select(`id`).eq(`orcamento_id`,e);if(t)for(let e of t)await this.deleteAttachment(e.id);let{error:n}=await G.from(`orcamentos`).delete().eq(`id`,e);if(n)throw n},async uploadAttachment(e,t){let n=t.name.split(`.`).pop(),r=`${e}/${crypto.randomUUID()}.${n}`,{error:i}=await yS(r,t);if(i)throw Error(`Upload failed: ${i.message}`);let{data:a}=G.storage.from(gS).getPublicUrl(r),{data:o,error:s}=await G.from(`anexos_orcamentos`).insert({orcamento_id:e,nome_arquivo:t.name,url_arquivo:a.publicUrl,data_upload:new Date().toISOString()}).select().single();if(s)throw Error(`Database insert failed: ${s.message}`);return{id:o.id,name:o.nome_arquivo,url:o.url_arquivo,date:new Date(o.data_upload)}},async deleteAttachment(e){let{data:t,error:n}=await G.from(`anexos_orcamentos`).select(`url_arquivo`).eq(`id`,e).single();if(n)throw n;if(t?.url_arquivo)try{let e=new URL(t.url_arquivo).pathname.split(`${gS}/`)[1];e&&await G.storage.from(gS).remove([decodeURIComponent(e)])}catch(e){console.error(`Error parsing URL for deletion`,e)}let{error:r}=await G.from(`anexos_orcamentos`).delete().eq(`id`,e);if(r)throw r}};var xS=e=>({pending:`pendente`,paid:`pago`,overdue:`vencido`,cancelled:`cancelado`})[e]||e,SS=e=>({pendente:`pending`,pago:`paid`,vencido:`overdue`,cancelado:`cancelled`})[e]||e;const CS={async getAll(){let{data:e,error:t}=await G.from(`contas_a_pagar`).select(`
        *,
        alojamento:alojamentos(nome),
        obra:obras(nome),
        categoria:categorias_conta_pagar(nome)
      `).order(`data_vencimento`,{ascending:!0});if(t)throw console.error(`Error fetching bills:`,t),t;return(e||[]).map(e=>({id:e.id,description:e.descricao,amount:Number(e.valor),dueDate:new Date(e.data_vencimento),status:SS(e.status)||`pending`,barcode:e.codigo_barras,attachmentUrl:e.url_boleto,paidDate:e.data_pagamento?new Date(e.data_pagamento):void 0,origin:e.alojamento_id?`alojamento`:`manual`,category:e.categoria?.nome||e.categoria_nome||`Geral`,projectId:e.obra_id,accommodationId:e.alojamento_id,accommodationName:e.alojamento?.nome,paymentMethod:e.forma_pagamento}))},async create(e){let t=null;if(e.category){let{data:n}=await G.from(`categorias_conta_pagar`).select(`id`).eq(`nome`,e.category).single();t=n?.id||null}let{data:n,error:r}=await G.from(`contas_a_pagar`).insert({descricao:e.description,valor:e.amount,data_vencimento:e.dueDate.toISOString().split(`T`)[0],status:xS(e.status),codigo_barras:e.barcode,url_boleto:e.attachmentUrl,data_pagamento:e.paidDate?.toISOString().split(`T`)[0],alojamento_id:e.accommodationId,obra_id:e.projectId,categoria_id:t,forma_pagamento:e.paymentMethod,aluguel_id:e.aluguel_id}).select().single();if(r)throw r;return{...e,id:n.id}},async update(e,t){console.log(`financeiroService.update called with:`,{id:e,updates:t});let n={};if(t.description!==void 0&&(n.descricao=t.description),t.amount!==void 0&&(n.valor=t.amount),t.dueDate!==void 0&&(n.data_vencimento=t.dueDate.toISOString().split(`T`)[0]),t.status!==void 0){let e=xS(t.status);console.log(`Status mapping:`,t.status,`->`,e),n.status=e}if(t.barcode!==void 0&&(n.codigo_barras=t.barcode),t.attachmentUrl!==void 0&&(n.url_boleto=t.attachmentUrl),t.paidDate!==void 0&&(n.data_pagamento=t.paidDate.toISOString().split(`T`)[0]),t.aluguel_id!==void 0&&(n.aluguel_id=t.aluguel_id),t.category!==void 0){let{data:e}=await G.from(`categorias_conta_pagar`).select(`id`).eq(`nome`,t.category).single();e&&(n.categoria_id=e.id)}t.status===`pending`&&(n.data_pagamento=null),console.log(`Sending to database:`,n);let{error:r}=await G.from(`contas_a_pagar`).update(n).eq(`id`,e);if(r)throw console.error(`Database update error:`,r),r;console.log(`Update successful`)},async delete(e){let{error:t}=await G.from(`contas_a_pagar`).delete().eq(`id`,e);if(t)throw t}},wS={async getAll(){let{data:e,error:t}=await G.from(`ferramentas`).select(`*`).order(`nome`,{ascending:!0});return t?(console.error(`Error fetching tools:`,t),[]):(e||[]).map(e=>({id:e.id,nome:e.nome,codigo:e.codigo,obraId:e.obra_id,responsavelNome:e.responsavel_nome,responsavelCargo:e.responsavel_cargo,responsavelTelefone:e.responsavel_telefone,createdAt:e.created_at,updatedAt:e.updated_at}))},async create(e){let{data:t,error:n}=await G.from(`ferramentas`).insert({nome:e.nome,codigo:e.codigo,obra_id:e.obraId,responsavel_nome:e.responsavelNome,responsavel_cargo:e.responsavelCargo,responsavel_telefone:e.responsavelTelefone}).select().single();if(n)throw n;return{id:t.id,nome:t.nome,codigo:t.codigo,obraId:t.obra_id,responsavelNome:t.responsavel_nome,responsavelCargo:t.responsavel_cargo,responsavelTelefone:t.responsavel_telefone,createdAt:t.created_at,updatedAt:t.updated_at}},async update(e,t){let{error:n}=await G.from(`ferramentas`).update({nome:t.nome,codigo:t.codigo,obra_id:t.obraId,responsavel_nome:t.responsavelNome,responsavel_cargo:t.responsavelCargo,responsavel_telefone:t.responsavelTelefone}).eq(`id`,e);if(n)throw n},async delete(e){let{error:t}=await G.from(`ferramentas`).delete().eq(`id`,e);if(t)throw t}},TS={async getAll(){let{data:e,error:t}=await G.from(`aluguel_equipamentos`).select(`*`).order(`data_vencimento`,{ascending:!0});return t?(console.error(`Error fetching rentals:`,t),[]):(e||[]).map(e=>({id:e.id,nome:e.nome,valor:Number(e.valor),obraId:e.obra_id,dataVencimento:new Date(e.data_vencimento),empresaNome:e.empresa_nome,empresaEndereco:e.empresa_endereco,empresaRua:e.empresa_rua,empresaNumero:e.empresa_numero,empresaCidade:e.empresa_cidade,empresaEstado:e.empresa_estado,empresaTelefone:e.empresa_telefone,empresaCnpj:e.empresa_cnpj,createdAt:e.created_at}))},async create(e){let{data:t,error:n}=await G.from(`aluguel_equipamentos`).insert({nome:e.nome,valor:e.valor,obra_id:e.obraId,data_vencimento:e.dataVencimento.toISOString().split(`T`)[0],empresa_nome:e.empresaNome,empresa_endereco:e.empresaEndereco,empresa_rua:e.empresaRua,empresa_numero:e.empresaNumero,empresa_cidade:e.empresaCidade,empresa_estado:e.empresaEstado,empresa_telefone:e.empresaTelefone,empresa_cnpj:e.empresaCnpj}).select().single();if(n)throw n;let r=t;try{await CS.create({id:``,description:`Aluguel de Equipamento: ${e.nome} (${e.empresaNome||`S/Empresa`})`,amount:e.valor,dueDate:e.dataVencimento,status:`pending`,origin:`manual`,projectId:e.obraId||void 0,category:`Aluguel de Equipamentos`,aluguel_id:r.id})}catch(e){console.error(`Error creating linked bill:`,e)}return{id:r.id,nome:r.nome,valor:Number(r.valor),obraId:r.obra_id,dataVencimento:new Date(r.data_vencimento),empresaNome:r.empresa_nome,empresaEndereco:r.empresa_endereco,empresaRua:r.empresa_rua,empresaNumero:r.empresa_numero,empresaCidade:r.empresa_cidade,empresaEstado:r.empresa_estado,empresaTelefone:r.empresa_telefone,empresaCnpj:r.empresa_cnpj,createdAt:r.created_at}},async update(e,t){let n={};t.nome!==void 0&&(n.nome=t.nome),t.valor!==void 0&&(n.valor=t.valor),t.obraId!==void 0&&(n.obra_id=t.obraId),t.dataVencimento!==void 0&&(n.data_vencimento=t.dataVencimento.toISOString().split(`T`)[0]),t.empresaNome!==void 0&&(n.empresa_nome=t.empresaNome),t.empresaEndereco!==void 0&&(n.empresa_endereco=t.empresaEndereco),t.empresaRua!==void 0&&(n.empresa_rua=t.empresaRua),t.empresaNumero!==void 0&&(n.empresa_numero=t.empresaNumero),t.empresaCidade!==void 0&&(n.empresa_cidade=t.empresaCidade),t.empresaEstado!==void 0&&(n.empresa_estado=t.empresaEstado),t.empresaTelefone!==void 0&&(n.empresa_telefone=t.empresaTelefone),t.empresaCnpj!==void 0&&(n.empresa_cnpj=t.empresaCnpj);let{error:r}=await G.from(`aluguel_equipamentos`).update(n).eq(`id`,e);if(r)throw r;try{let{data:n}=await G.from(`contas_a_pagar`).select(`id`).eq(`aluguel_id`,e);if(n&&n.length>0)for(let r of n){let n={};if(t.nome!==void 0||t.empresaNome!==void 0){let t=await this.getById(e);t&&(n.description=`Aluguel de Equipamento: ${t.nome} (${t.empresaNome||`S/Empresa`})`)}t.valor!==void 0&&(n.amount=t.valor),t.dataVencimento!==void 0&&(n.dueDate=t.dataVencimento),t.obraId!==void 0&&(n.projectId=t.obraId),await CS.update(r.id,n)}}catch(e){console.error(`Error syncing bill update:`,e)}},async getById(e){let{data:t,error:n}=await G.from(`aluguel_equipamentos`).select(`*`).eq(`id`,e).single();return n||!t?null:{id:t.id,nome:t.nome,valor:Number(t.valor),obraId:t.obra_id,dataVencimento:new Date(t.data_vencimento),empresaNome:t.empresa_nome,empresaEndereco:t.empresa_endereco,empresaRua:t.empresa_rua,empresaNumero:t.empresa_numero,empresaCidade:t.empresa_cidade,empresaEstado:t.empresa_estado,empresaTelefone:t.empresa_telefone,empresaCnpj:t.empresa_cnpj,createdAt:t.created_at}},async delete(e){try{let t=await this.getById(e);if(t){await G.from(`contas_a_pagar`).delete().eq(`aluguel_id`,e);let n=`Aluguel de Equipamento: ${t.nome} (${t.empresaNome||`S/Empresa`})`;await G.from(`contas_a_pagar`).delete().eq(`descricao`,n).is(`aluguel_id`,null)}}catch(e){console.error(`Error cleaning up linked bills:`,e)}let{error:t}=await G.from(`aluguel_equipamentos`).delete().eq(`id`,e);if(t)throw t}};var ES=`crm-docs`,DS=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e.toISOString().split(`T`)[0];let t=new Date(e);return isNaN(t.getTime())?null:t.toISOString().split(`T`)[0]};const OS={async getAll(){let{data:e,error:t}=await G.from(`pagamentos_colaboradores`).select(`*`).order(`mes_referencia`,{ascending:!1});if(t)throw t;return(e||[]).map(e=>({id:e.id,colaboradorId:e.colaborador_id,mesReferencia:e.mes_referencia,valorAPagar:e.valor_a_pagar,status:e.status,dataPagamento:e.data_pagamento?new Date(e.data_pagamento):void 0,observacoes:e.observacoes,createdAt:e.created_at,updatedAt:e.updated_at}))},async create(e){let{data:t,error:n}=await G.from(`pagamentos_colaboradores`).insert({colaborador_id:e.colaboradorId,mes_referencia:e.mesReferencia,valor_a_pagar:e.valorAPagar,status:e.status,data_pagamento:DS(e.dataPagamento),observacoes:e.observacoes}).select().single();if(n)throw n;return{...e,id:t.id,createdAt:t.created_at,updatedAt:t.updated_at}},async update(e,t){let n={};t.mesReferencia!==void 0&&(n.mes_referencia=t.mesReferencia),t.valorAPagar!==void 0&&(n.valor_a_pagar=t.valorAPagar),t.status!==void 0&&(n.status=t.status),t.dataPagamento!==void 0&&(n.data_pagamento=DS(t.dataPagamento)),t.observacoes!==void 0&&(n.observacoes=t.observacoes);let{error:r}=await G.from(`pagamentos_colaboradores`).update(n).eq(`id`,e);if(r)throw r},async delete(e){let{error:t}=await G.from(`pagamentos_colaboradores`).delete().eq(`id`,e);if(t)throw t},async getPayslips(e){let{data:t,error:n}=await G.from(`holerites`).select(`*`).eq(`colaborador_id`,e).order(`mes_referencia`,{ascending:!1});if(n)throw n;return(t||[]).map(e=>({id:e.id,colaboradorId:e.colaborador_id,mesReferencia:e.mes_referencia,urlArquivo:e.url_arquivo,nomeArquivo:e.nome_arquivo,createdAt:e.created_at}))},async uploadPayslip(e,t,n){let r=n.name.split(`.`).pop(),i=`holerites/${e}/${t}/${crypto.randomUUID()}.${r}`,a=await n.arrayBuffer(),{error:o}=await G.storage.from(ES).upload(i,a,{contentType:n.type,upsert:!1});if(o)throw o;let{data:{publicUrl:s}}=G.storage.from(ES).getPublicUrl(i),{data:c,error:l}=await G.from(`holerites`).insert({colaborador_id:e,mes_referencia:t,url_arquivo:s,nome_arquivo:n.name}).select().single();if(l)throw l;return{id:c.id,colaboradorId:c.colaborador_id,mesReferencia:c.mes_referencia,urlArquivo:c.url_arquivo,nomeArquivo:c.nome_arquivo,createdAt:c.created_at}},async deletePayslip(e,t){let n=t.split(`${ES}/`).pop();n&&await G.storage.from(ES).remove([n]);let{error:r}=await G.from(`holerites`).delete().eq(`id`,e);if(r)throw r}},kS={async getAll(){let{data:e,error:t}=await G.from(`usuarios`).select(`*`).order(`nome`);if(t)throw t;return(e||[]).map(e=>({id:e.id,name:e.nome,email:e.email,role:e.role||`sub_user`,companyName:e.cnpj?`Aparecida Cortez Lopes - Construo`:null,cnpj:e.cnpj,phone:e.telefone,permissions:e.permissions||{dashboard:!1,financeiro:!1,colaboradores:!1,obras:!1,veiculos:!1,alojamento:!1,configuracoes:!1}}))},async getByEmail(e){let{data:t,error:n}=await G.from(`usuarios`).select(`*`).eq(`email`,e).single();if(n)return null;let r=t;return{id:r.id,name:r.nome,email:r.email,role:r.role||`sub_user`,cnpj:r.cnpj,phone:r.telefone,permissions:r.permissions||{}}},async getById(e){let{data:t,error:n}=await G.from(`usuarios`).select(`*`).eq(`id`,e).single();if(n)return null;let r=t;return{id:r.id,name:r.nome,email:r.email,role:r.role||`sub_user`,cnpj:r.cnpj,phone:r.telefone,permissions:r.permissions||{}}},async isUserActivated(e){let{count:t,error:n}=await G.from(`usuarios`).select(`*`,{count:`exact`,head:!0}).eq(`email`,e);return n?!1:(t||0)>0},async update(e,t){let n={};t.name&&(n.nome=t.name),t.email&&(n.email=t.email),t.role&&(n.role=t.role),t.cnpj&&(n.cnpj=t.cnpj),t.phone&&(n.phone=t.phone),t.permissions&&(n.permissions=t.permissions);let{error:r}=await G.from(`usuarios`).update(n).eq(`id`,e);if(r)throw r},async delete(e){let{error:t}=await G.from(`usuarios`).delete().eq(`id`,e);if(t)throw t},async getInvites(){let{data:e,error:t}=await G.from(`user_invites`).select(`*`).order(`created_at`,{ascending:!1});if(t)throw t;return e||[]},async createInvite(e){await this.deleteInvite(e.email);let{error:t}=await G.from(`user_invites`).insert({email:e.email,name:e.name,role:e.role,permissions:e.permissions});if(t)throw t},async deleteInvite(e){let{error:t}=await G.from(`user_invites`).delete().eq(`email`,e);if(t)throw t},async checkInvite(e){let{data:t,error:n}=await G.rpc(`check_invite`,{check_email:e});if(n)throw n;return t},async completeFirstAccess(e,t,n){let{error:r}=await G.from(`usuarios`).insert({id:e,email:t,nome:n.name,role:n.role,permissions:n.permissions,status:`ativo`});if(r)throw r;await this.deleteInvite(t)}};var AS=(0,S.createContext)(void 0);const jS=({children:e})=>{let[t,n]=(0,S.useState)(null),[r,i]=(0,S.useState)(null),[a,o]=(0,S.useState)(!0);return(0,S.useEffect)(()=>{G.auth.getSession().then(({data:{session:e}})=>{i(e),n(e?.user??null),o(!1)});let{data:{subscription:e}}=G.auth.onAuthStateChange((e,t)=>{i(t),n(t?.user??null),o(!1)});return()=>{e.unsubscribe()}},[]),(0,P.jsx)(AS.Provider,{value:{user:t,session:r,loading:a,signOut:async()=>{n(null),i(null),await G.auth.signOut()}},children:e})},MS=()=>{let e=(0,S.useContext)(AS);if(e===void 0)throw Error(`useAuth must be used within an AuthProvider`);return e};var NS={id:`guest-user`,name:`Visitante`,email:`visitante@aparecidacortez.com.br`,role:`super_admin`,companyName:`Aparecida Cortez Lopes - Construo`,cnpj:`23.497.744/0001-69`,phone:`(11) 99999-9999`,permissions:{dashboard:!0,obras:!0,colaboradores:!0,alojamento:!0,veiculos:!0,fichario_funcoes:!0,ferramentas:!0,financeiro:!0,contas_pagar:!0,pagamento_colaboradores:!0,notas_fiscais:!0,aluguel_equipamentos:!0,orcamentos:!0,configuracoes:!0}};const PS=g_()(y_((e,t)=>({isAuthenticated:!1,isInitializing:!0,currentUser:null,users:[],invites:[],bills:[],employees:[],accommodations:[],serviceProviders:[],vehicles:[],invoices:[],budgets:[],projects:[],tools:[],rentals:[],loadingProjects:!1,loadingTools:!1,expiringDocuments:[],employeePayments:[],setCurrentUser:t=>e({currentUser:t}),setIsAuthenticated:t=>e({isAuthenticated:t}),setIsInitializing:t=>e({isInitializing:t}),setUsers:t=>e({users:t}),login:async n=>{e({isAuthenticated:!0});try{let r=await kS.getByEmail(n);if(r)e({currentUser:r});else{let r=[`luisguilhermevsc@gmail.com`,`luisguilhermevsc@me.com`,`murilotopazioprudente@gmail.com`].includes(n);n===NS.email||r?e({currentUser:{...NS,email:n}}):(console.warn(`User ${n} not found in DB. Revoking access.`),t().logout())}}catch(e){console.error(`Error logging in:`,e),t().logout()}finally{e({isInitializing:!1})}t().fetchProjects()},logout:()=>{G.auth.signOut(),e({currentUser:null,isAuthenticated:!1,isInitializing:!1})},updateCurrentUser:n=>{let{currentUser:r,users:i}=t();if(!r)return;let a={...r,...n};e({currentUser:a,users:i.map(e=>e.id===r.id?a:e)})},addUser:t=>e(e=>({users:[...e.users,t]})),deleteUser:async t=>{try{await kS.delete(t),e(e=>({users:e.users.filter(e=>e.id!==t)}))}catch(e){throw console.error(`Error deleting user:`,e),e}},updateUser:(t,n)=>e(e=>({users:e.users.map(e=>e.id===t?{...e,...n}:e)})),fetchUsers:async()=>{try{let n=await kS.getAll();e({users:n||[]});let{currentUser:r}=t();if(r?.email){let t=n.find(e=>e.email===r.email);t&&e({currentUser:t})}}catch(e){console.error(`Error fetching users:`,e)}},fetchInvites:async()=>{try{e({invites:await kS.getInvites()||[]})}catch(e){console.error(`Error fetching invites:`,e)}},sendInvite:async e=>{await kS.createInvite(e),await t().fetchInvites()},removeInvite:async e=>{await kS.deleteInvite(e),await t().fetchInvites()},fetchBills:async()=>{try{e({bills:await CS.getAll()||[]})}catch(e){console.error(`Error fetching bills:`,e)}},addBill:async e=>{await CS.create(e),await t().fetchBills()},updateBill:async(e,n)=>{await CS.update(e,n),await t().fetchBills()},deleteBill:async e=>{await CS.delete(e),await t().fetchBills()},fetchEmployees:async()=>{try{e({employees:await fS.getAll()||[]})}catch(e){console.error(`Error fetching employees:`,e)}},addEmployee:async n=>{let r=await fS.create(n);return e(e=>({employees:[...e.employees,r]})),await t().fetchEmployees(),r},updateEmployee:async(n,r)=>{await fS.update(n,r),e(e=>({employees:e.employees.map(e=>e.id===n?{...e,...r}:e)})),await t().fetchEmployees(),t().fetchExpiringDocuments()},deleteEmployee:async n=>{await fS.delete(n),e(e=>({employees:e.employees.filter(e=>e.id!==n)})),t().fetchExpiringDocuments()},fetchProjects:async()=>{e({loadingProjects:!0});try{e({projects:await eS.getAll()||[]})}catch(e){console.error(`Error fetching projects:`,e)}finally{e({loadingProjects:!1})}},addProject:async(e,n)=>{await eS.create(e,n),await t().fetchProjects(),await t().fetchExpiringDocuments()},updateProject:async(e,n,r)=>{await eS.update(e,n,r),await t().fetchProjects(),await t().fetchExpiringDocuments()},deleteProject:async n=>{await eS.delete(n),e(e=>({projects:e.projects.filter(e=>e.id!==n)})),await t().fetchExpiringDocuments()},getProjectHistory:async e=>await eS.getHistory(e),fetchVehicles:async()=>{try{e({vehicles:await iS.getAll()||[]})}catch(e){console.error(`Error fetching vehicles:`,e)}},addVehicle:async n=>{let r=await iS.create(n);return e(e=>({vehicles:[...e.vehicles,r]})),t().fetchExpiringDocuments(),r},updateVehicle:(t,n)=>{e(e=>({vehicles:e.vehicles.map(e=>e.id===t?{...e,...n}:e)}))},deleteVehicle:async n=>{await iS.delete(n),e(e=>({vehicles:e.vehicles.filter(e=>e.id!==n)})),t().fetchExpiringDocuments()},fetchInvoices:async()=>{try{e({invoices:await hS.getAll()||[]})}catch(e){console.error(`Error fetching invoices:`,e)}},addInvoice:async e=>{await hS.create(e),await t().fetchInvoices()},updateInvoice:async(e,n)=>{await hS.update(e,n),await t().fetchInvoices()},deleteInvoice:async t=>{await hS.delete(t),e(e=>({invoices:e.invoices.filter(e=>e.id!==t)}))},fetchBudgets:async()=>{try{e({budgets:await bS.getAll()||[]})}catch(e){console.error(`Error fetching budgets:`,e)}},addBudget:async(e,n)=>{await bS.create(e,n),await t().fetchBudgets()},updateBudget:async(e,n,r)=>{await bS.update(e,n,r),await t().fetchBudgets()},deleteBudget:async t=>{await bS.delete(t),e(e=>({budgets:e.budgets.filter(e=>e.id!==t)}))},deleteBudgetAttachment:async e=>{await bS.deleteAttachment(e),await t().fetchBudgets()},fetchAccommodations:async()=>{try{e({accommodations:await sS.getAll()||[]})}catch(e){console.error(`Error fetching accommodations:`,e)}},addAccommodation:async t=>{e(e=>({accommodations:[...e.accommodations,t]}))},updateAccommodation:async(t,n)=>{await sS.update(t,n),e(e=>({accommodations:e.accommodations.map(e=>e.id===t?{...e,...n}:e)}))},deleteAccommodation:async t=>{await sS.delete(t),e(e=>({accommodations:e.accommodations.filter(e=>e.id!==t)}))},fetchExpiringDocuments:async()=>{try{let[t,n,r]=await Promise.all([eS.getExpiringDocs(),fS.getExpiringDocs(),iS.getExpiringDocs()]),i=t.map(e=>({...e,category:`Obra`,entityName:e.obra?.nome||`Obra Desconhecida`,path:`/obras/${e.obra_id}`})),a=n.map(e=>({...e,category:`Colaborador`,entityName:e.colaborador?.nome||`Colaborador`,path:`/colaboradores/${e.colaborador_id}`})),o=r.map(e=>({...e,category:`Veculo`,entityName:e.veiculo?`${e.veiculo.modelo} - ${e.veiculo.placa}`:`Veculo`,path:`/veiculos`}));e({expiringDocuments:[...i,...a,...o].sort((e,t)=>new Date(e.data_validade).getTime()-new Date(t.data_validade).getTime())})}catch(e){console.error(`Error fetching expiring docs:`,e)}},fetchServiceProviders:async()=>{try{e({serviceProviders:await cS.getAll()||[]})}catch(e){console.error(`Error fetching service providers:`,e)}},addServiceProvider:async e=>{await cS.create(e),await t().fetchServiceProviders()},updateServiceProvider:async(e,n)=>{await cS.update(e,n),await t().fetchServiceProviders()},deleteServiceProvider:async e=>{await cS.delete(e),await t().fetchServiceProviders()},fetchTools:async()=>{e({loadingTools:!0});try{e({tools:await wS.getAll()||[]})}catch(e){console.error(`Error fetching tools:`,e)}finally{e({loadingTools:!1})}},addTool:async e=>{await wS.create(e),await t().fetchTools()},updateTool:async(e,n)=>{await wS.update(e,n),await t().fetchTools()},deleteTool:async e=>{await wS.delete(e),await t().fetchTools()},fetchRentals:async()=>{try{e({rentals:await TS.getAll()||[]})}catch(e){console.error(`Error fetching rentals:`,e)}},addRental:async e=>{await TS.create(e),await t().fetchRentals(),await t().fetchBills()},updateRental:async(e,n)=>{await TS.update(e,n),await t().fetchRentals(),await t().fetchBills()},deleteRental:async e=>{await TS.delete(e),await t().fetchRentals(),await t().fetchBills()},fetchEmployeesPayments:async()=>{try{e({employeePayments:await OS.getAll()||[]}),await t().generateMonthlyObligations()}catch(e){console.error(`Error fetching employee payments:`,e)}},generateMonthlyObligations:async()=>{let n=Ic(new Date,`yyyy-MM`),{employees:r,employeePayments:i}=t(),a=r.filter(e=>e.status===`ativo`).filter(e=>!i.some(t=>t.colaboradorId===e.id&&t.mesReferencia===n));if(a.length!==0){console.log(`Generating auto-obligations for ${a.length} employees for ${n}`);for(let e of a)try{let t={colaboradorId:e.id,mesReferencia:n,valorAPagar:e.tipoRemuneracao===`production`?e.producaoValorTotal||0:e.salary||0,status:`pendente`};await OS.create(t)}catch(t){console.error(`Failed to generate obligation for employee ${e.id}:`,t)}e({employeePayments:await OS.getAll()||[]})}},addEmployeePayment:async e=>{await OS.create(e),await t().fetchEmployeesPayments()},updateEmployeePayment:async(e,n)=>{await OS.update(e,n),await t().fetchEmployeesPayments()},deleteEmployeePayment:async e=>{await OS.delete(e),await t().fetchEmployeesPayments()}}),{name:`app-storage`,partialize:e=>Object.fromEntries(Object.entries(e).filter(([e])=>![`isInitializing`].includes(e)))})),FS=({children:e})=>{let t=PS(),{user:n}=MS();return(0,S.useEffect)(()=>{t.fetchProjects(),t.fetchExpiringDocuments(),t.fetchVehicles(),t.fetchAccommodations(),t.fetchEmployees(),t.fetchInvoices(),t.fetchBudgets(),t.fetchBills(),t.fetchTools(),t.fetchRentals(),t.fetchEmployeesPayments();let{data:{subscription:e}}=G.auth.onAuthStateChange((e,n)=>{n?.user?.email?(t.setIsAuthenticated(!0),t.fetchProjects(),t.fetchEmployees(),t.fetchVehicles(),t.fetchAccommodations(),t.fetchBills(),t.fetchInvoices(),t.fetchBudgets(),t.fetchExpiringDocuments(),t.fetchServiceProviders(),t.fetchTools(),t.fetchRentals(),t.fetchEmployeesPayments(),t.fetchUsers(),t.fetchInvites()):(t.setIsAuthenticated(!1),t.setCurrentUser(null),t.setIsInitializing(!1))});return()=>e.unsubscribe()},[]),(0,S.useEffect)(()=>{n?.email&&t.currentUser?.email!==n.email?t.login(n.email):n?n?.email&&t.currentUser?.email===n.email&&t.isInitializing&&t.setIsInitializing(!1):t.isInitializing&&t.setIsInitializing(!1)},[n?.email,t.currentUser?.email]),(0,P.jsx)(P.Fragment,{children:e})};function IS(){let{pathname:e}=tt(),t=it(),{currentUser:n}=PS(),{signOut:r}=MS(),i=async()=>{await r(),t(`/login`,{replace:!0})},a=e=>n?n.role===`super_admin`||n.role===`admin`||n.permissions?.[e]===!0:!1,o=[{title:`Dashboard`,url:`/`,icon:Ha,access:`dashboard`}],s=[{title:`Obras e Projetos`,url:`/obras`,icon:Ra,access:`obras`},{title:`Colaboradores`,url:`/colaboradores`,icon:ho,access:`colaboradores`},{title:`Alojamentos`,url:`/alojamentos`,icon:za,access:`alojamento`},{title:`Frota e Veculos`,url:`/veiculos`,icon:lo,access:`veiculos`},{title:`Fichrio de Funes`,url:`/prestadores`,icon:Oa,access:`fichario_funcoes`},{title:`Ferramentas`,url:`/ferramentas`,icon:go,access:`ferramentas`}],c=[{title:`Contas a Pagar`,url:`/financeiro`,icon:Aa,access:`contas_pagar`},{title:`Pagamento de Funcionrios`,url:`/financeiro/pagamentos`,icon:ca,access:`pagamento_colaboradores`},{title:`Nota Fiscal`,url:`/notas-fiscais`,icon:Fa,access:`notas_fiscais`},{title:`Aluguel de Equipamentos`,url:`/alugueis`,icon:Ra,access:`aluguel_equipamentos`},{title:`Oramentos`,url:`/orcamentos`,icon:fa,access:`orcamentos`}];return(0,P.jsxs)(Hg,{collapsible:`icon`,className:`border-r-0`,children:[(0,P.jsx)(qg,{className:`bg-sidebar py-4`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2 px-2 overflow-hidden transition-all duration-300 group-data-[collapsible=icon]:justify-center`,children:[(0,P.jsx)(`div`,{className:`flex h-8 w-8 items-center justify-center rounded-md bg-primary text-primary-foreground`,children:(0,P.jsx)(ua,{className:`h-5 w-5`})}),(0,P.jsx)(`span`,{className:`font-bold text-lg text-sidebar-foreground truncate group-data-[collapsible=icon]:hidden`,children:`Constroimais`})]})}),(0,P.jsxs)(Xg,{className:`bg-sidebar text-sidebar-foreground`,children:[(0,P.jsxs)(Zg,{children:[(0,P.jsx)(Qg,{className:`text-sidebar-foreground/50`,children:`Menu Principal`}),(0,P.jsx)(e_,{children:(0,P.jsx)(t_,{children:o.filter(e=>a(e.access)).map(t=>(0,P.jsx)(n_,{children:(0,P.jsx)(i_,{asChild:!0,isActive:e===t.url,tooltip:t.title,className:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground data-[active=true]:bg-primary data-[active=true]:text-primary-foreground`,children:(0,P.jsxs)(Cn,{to:t.url,children:[(0,P.jsx)(t.icon,{}),(0,P.jsx)(`span`,{children:t.title})]})})},t.title))})})]}),(0,P.jsxs)(Zg,{children:[(0,P.jsx)(Qg,{className:`text-sidebar-foreground/50`,children:`Gesto Operacional`}),(0,P.jsx)(e_,{children:(0,P.jsx)(t_,{children:s.filter(e=>a(e.access)).map(t=>(0,P.jsx)(n_,{children:(0,P.jsx)(i_,{asChild:!0,isActive:e.startsWith(t.url),tooltip:t.title,className:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground data-[active=true]:bg-primary data-[active=true]:text-primary-foreground`,children:(0,P.jsxs)(Cn,{to:t.url,children:[(0,P.jsx)(t.icon,{}),(0,P.jsx)(`span`,{children:t.title})]})})},t.title))})})]}),(0,P.jsxs)(Zg,{children:[(0,P.jsx)(Qg,{className:`text-sidebar-foreground/50`,children:`Financeiro`}),(0,P.jsx)(e_,{children:(0,P.jsx)(t_,{children:c.filter(e=>a(e.access)).map(t=>(0,P.jsx)(n_,{children:(0,P.jsx)(i_,{asChild:!0,isActive:t.url===`/financeiro`?e===t.url:e.startsWith(t.url),tooltip:t.title,className:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground data-[active=true]:bg-primary data-[active=true]:text-primary-foreground`,children:(0,P.jsxs)(Cn,{to:t.url,children:[(0,P.jsx)(t.icon,{}),(0,P.jsx)(`span`,{children:t.title})]})})},t.title))})})]})]}),(0,P.jsx)(Jg,{className:`bg-sidebar text-sidebar-foreground`,children:(0,P.jsxs)(t_,{children:[a(`configuracoes`)&&(0,P.jsx)(n_,{children:(0,P.jsx)(i_,{asChild:!0,tooltip:`Configuraes`,isActive:e===`/configuracoes`,className:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground`,children:(0,P.jsxs)(Cn,{to:`/configuracoes`,children:[(0,P.jsx)(ro,{}),(0,P.jsx)(`span`,{children:`Configuraes`})]})})}),(0,P.jsx)(n_,{children:(0,P.jsxs)(i_,{onClick:i,tooltip:`Sair`,className:`hover:bg-sidebar-accent hover:text-sidebar-accent-foreground text-red-400 hover:text-red-400`,children:[(0,P.jsx)(Ga,{}),(0,P.jsx)(`span`,{children:`Sair`})]})})]})}),(0,P.jsx)(Wg,{})]})}var LS=S.createContext(void 0);function RS(e){let t=S.useContext(LS);return e||t||`ltr`}var zS=`rovingFocusGroup.onEntryFocus`,BS={bubbles:!1,cancelable:!0},VS=`RovingFocusGroup`,[HS,US,WS]=hr(VS),[GS,KS]=or(VS,[WS]),[qS,JS]=GS(VS),YS=S.forwardRef((e,t)=>(0,P.jsx)(HS.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,P.jsx)(HS.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,P.jsx)(XS,{...e,ref:t})})}));YS.displayName=VS;var XS=S.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:l,preventScrollOnEntryFocus:u=!1,...d}=e,f=S.useRef(null),p=rr(t,f),m=RS(a),[h,g]=Wr({prop:o,defaultProp:s??null,onChange:c,caller:VS}),[_,v]=S.useState(!1),y=_r(l),b=US(n),x=S.useRef(!1),[C,w]=S.useState(0);return S.useEffect(()=>{let e=f.current;if(e)return e.addEventListener(zS,y),()=>e.removeEventListener(zS,y)},[y]),(0,P.jsx)(qS,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:h,onItemFocus:S.useCallback(e=>g(e),[g]),onItemShiftTab:S.useCallback(()=>v(!0),[]),onFocusableItemAdd:S.useCallback(()=>w(e=>e+1),[]),onFocusableItemRemove:S.useCallback(()=>w(e=>e-1),[]),children:(0,P.jsx)(F.div,{tabIndex:_||C===0?-1:0,"data-orientation":r,...d,ref:p,style:{outline:`none`,...e.style},onMouseDown:N(e.onMouseDown,()=>{x.current=!0}),onFocus:N(e.onFocus,e=>{let t=!x.current;if(e.target===e.currentTarget&&t&&!_){let t=new CustomEvent(zS,BS);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=b().filter(e=>e.focusable);nC([e.find(e=>e.active),e.find(e=>e.id===h),...e].filter(Boolean).map(e=>e.ref.current),u)}}x.current=!1}),onBlur:N(e.onBlur,()=>v(!1))})})}),ZS=`RovingFocusGroupItem`,QS=S.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...s}=e,c=z(),l=a||c,u=JS(ZS,n),d=u.currentTabStopId===l,f=US(n),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:h}=u;return S.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),(0,P.jsx)(HS.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:(0,P.jsx)(F.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:N(e.onMouseDown,e=>{r?u.onItemFocus(l):e.preventDefault()}),onFocus:N(e.onFocus,()=>u.onItemFocus(l)),onKeyDown:N(e.onKeyDown,e=>{if(e.key===`Tab`&&e.shiftKey){u.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=tC(e,u.orientation,u.dir);if(t!==void 0){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=f().filter(e=>e.focusable).map(e=>e.ref.current);if(t===`last`)n.reverse();else if(t===`prev`||t===`next`){t===`prev`&&n.reverse();let r=n.indexOf(e.currentTarget);n=u.loop?rC(n,r+1):n.slice(r+1)}setTimeout(()=>nC(n))}}),children:typeof o==`function`?o({isCurrentTabStop:d,hasTabStop:h!=null}):o})})});QS.displayName=ZS;var $S={ArrowLeft:`prev`,ArrowUp:`prev`,ArrowRight:`next`,ArrowDown:`next`,PageUp:`first`,Home:`first`,PageDown:`last`,End:`last`};function eC(e,t){return t===`rtl`?e===`ArrowLeft`?`ArrowRight`:e===`ArrowRight`?`ArrowLeft`:e:e}function tC(e,t,n){let r=eC(e.key,n);if(!(t===`vertical`&&[`ArrowLeft`,`ArrowRight`].includes(r))&&!(t===`horizontal`&&[`ArrowUp`,`ArrowDown`].includes(r)))return $S[r]}function nC(e,t=!1){let n=document.activeElement;for(let r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function rC(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var iC=YS,aC=QS,oC=[`Enter`,` `],sC=[`ArrowDown`,`PageUp`,`Home`],cC=[`ArrowUp`,`PageDown`,`End`],lC=[...sC,...cC],uC={ltr:[...oC,`ArrowRight`],rtl:[...oC,`ArrowLeft`]},dC={ltr:[`ArrowLeft`],rtl:[`ArrowRight`]},fC=`Menu`,[pC,mC,hC]=hr(fC),[gC,_C]=or(fC,[hC,bf,KS]),vC=bf(),yC=KS(),[bC,xC]=gC(fC),[SC,CC]=gC(fC),wC=e=>{let{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,s=vC(t),[c,l]=S.useState(null),u=S.useRef(!1),d=_r(a),f=RS(i);return S.useEffect(()=>{let e=()=>{u.current=!0,document.addEventListener(`pointerdown`,t,{capture:!0,once:!0}),document.addEventListener(`pointermove`,t,{capture:!0,once:!0})},t=()=>u.current=!1;return document.addEventListener(`keydown`,e,{capture:!0}),()=>{document.removeEventListener(`keydown`,e,{capture:!0}),document.removeEventListener(`pointerdown`,t,{capture:!0}),document.removeEventListener(`pointermove`,t,{capture:!0})}},[]),(0,P.jsx)(If,{...s,children:(0,P.jsx)(bC,{scope:t,open:n,onOpenChange:d,content:c,onContentChange:l,children:(0,P.jsx)(SC,{scope:t,onClose:S.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o,children:r})})})};wC.displayName=fC;var TC=`MenuAnchor`,EC=S.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,i=vC(n);return(0,P.jsx)(Lf,{...i,...r,ref:t})});EC.displayName=TC;var DC=`MenuPortal`,[OC,kC]=gC(DC,{forceMount:void 0}),AC=e=>{let{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=xC(DC,t);return(0,P.jsx)(OC,{scope:t,forceMount:n,children:(0,P.jsx)(zr,{present:n||a.open,children:(0,P.jsx)(Lr,{asChild:!0,container:i,children:r})})})};AC.displayName=DC;var jC=`MenuContent`,[MC,NC]=gC(jC),PC=S.forwardRef((e,t)=>{let n=kC(jC,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=xC(jC,e.__scopeMenu),o=CC(jC,e.__scopeMenu);return(0,P.jsx)(pC.Provider,{scope:e.__scopeMenu,children:(0,P.jsx)(zr,{present:r||a.open,children:(0,P.jsx)(pC.Slot,{scope:e.__scopeMenu,children:o.modal?(0,P.jsx)(FC,{...i,ref:t}):(0,P.jsx)(IC,{...i,ref:t})})})})}),FC=S.forwardRef((e,t)=>{let n=xC(jC,e.__scopeMenu),r=S.useRef(null),i=rr(t,r);return S.useEffect(()=>{let e=r.current;if(e)return Ph(e)},[]),(0,P.jsx)(RC,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:N(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),IC=S.forwardRef((e,t)=>{let n=xC(jC,e.__scopeMenu);return(0,P.jsx)(RC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),LC=cr(`MenuContent.ScrollLock`),RC=S.forwardRef((e,t)=>{let{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,disableOutsideScroll:m,...h}=e,g=xC(jC,n),_=CC(jC,n),v=vC(n),y=yC(n),b=mC(n),[x,C]=S.useState(null),w=S.useRef(null),T=rr(t,w,g.onContentChange),E=S.useRef(0),D=S.useRef(``),O=S.useRef(0),k=S.useRef(null),A=S.useRef(`right`),ee=S.useRef(0),te=m?Th:S.Fragment,ne=m?{as:LC,allowPinchZoom:!0}:void 0,re=e=>{let t=D.current+e,n=b().filter(e=>!e.disabled),r=document.activeElement,i=n.find(e=>e.ref.current===r)?.textValue,a=Sw(n.map(e=>e.textValue),t,i),o=n.find(e=>e.textValue===a)?.ref.current;(function e(t){D.current=t,window.clearTimeout(E.current),t!==``&&(E.current=window.setTimeout(()=>e(``),1e3))})(t),o&&setTimeout(()=>o.focus())};S.useEffect(()=>()=>window.clearTimeout(E.current),[]),pm();let ie=S.useCallback(e=>A.current===k.current?.side&&ww(e,k.current?.area),[]);return(0,P.jsx)(MC,{scope:n,searchRef:D,onItemEnter:S.useCallback(e=>{ie(e)&&e.preventDefault()},[ie]),onItemLeave:S.useCallback(e=>{ie(e)||(w.current?.focus(),C(null))},[ie]),onTriggerLeave:S.useCallback(e=>{ie(e)&&e.preventDefault()},[ie]),pointerGraceTimerRef:O,onPointerGraceIntentChange:S.useCallback(e=>{k.current=e},[]),children:(0,P.jsx)(te,{...ne,children:(0,P.jsx)(em,{asChild:!0,trapped:i,onMountAutoFocus:N(a,e=>{e.preventDefault(),w.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,P.jsx)(Tr,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:p,children:(0,P.jsx)(iC,{asChild:!0,...y,dir:_.dir,orientation:`vertical`,loop:r,currentTabStopId:x,onCurrentTabStopIdChange:C,onEntryFocus:N(c,e=>{_.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,P.jsx)(Rf,{role:`menu`,"aria-orientation":`vertical`,"data-state":_w(g.open),"data-radix-menu-content":``,dir:_.dir,...v,...h,ref:T,style:{outline:`none`,...h.style},onKeyDown:N(h.onKeyDown,e=>{let t=e.target.closest(`[data-radix-menu-content]`)===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=e.key.length===1;t&&(e.key===`Tab`&&e.preventDefault(),!n&&r&&re(e.key));let i=w.current;if(e.target!==i||!lC.includes(e.key))return;e.preventDefault();let a=b().filter(e=>!e.disabled).map(e=>e.ref.current);cC.includes(e.key)&&a.reverse(),bw(a)}),onBlur:N(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),D.current=``)}),onPointerMove:N(e.onPointerMove,Tw(e=>{let t=e.target,n=ee.current!==e.clientX;e.currentTarget.contains(t)&&n&&(A.current=e.clientX>ee.current?`right`:`left`,ee.current=e.clientX)}))})})})})})})});PC.displayName=jC;var zC=`MenuGroup`,BC=S.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,P.jsx)(F.div,{role:`group`,...r,ref:t})});BC.displayName=zC;var VC=`MenuLabel`,HC=S.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,P.jsx)(F.div,{...r,ref:t})});HC.displayName=VC;var UC=`MenuItem`,WC=`menu.itemSelect`,GC=S.forwardRef((e,t)=>{let{disabled:n=!1,onSelect:r,...i}=e,a=S.useRef(null),o=CC(UC,e.__scopeMenu),s=NC(UC,e.__scopeMenu),c=rr(t,a),l=S.useRef(!1),u=()=>{let e=a.current;if(!n&&e){let t=new CustomEvent(WC,{bubbles:!0,cancelable:!0});e.addEventListener(WC,e=>r?.(e),{once:!0}),gr(e,t),t.defaultPrevented?l.current=!1:o.onClose()}};return(0,P.jsx)(KC,{...i,ref:c,disabled:n,onClick:N(e.onClick,u),onPointerDown:t=>{e.onPointerDown?.(t),l.current=!0},onPointerUp:N(e.onPointerUp,e=>{l.current||e.currentTarget?.click()}),onKeyDown:N(e.onKeyDown,e=>{let t=s.searchRef.current!==``;n||t&&e.key===` `||oC.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});GC.displayName=UC;var KC=S.forwardRef((e,t)=>{let{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=NC(UC,n),s=yC(n),c=S.useRef(null),l=rr(t,c),[u,d]=S.useState(!1),[f,p]=S.useState(``);return S.useEffect(()=>{let e=c.current;e&&p((e.textContent??``).trim())},[a.children]),(0,P.jsx)(pC.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:(0,P.jsx)(aC,{asChild:!0,...s,focusable:!r,children:(0,P.jsx)(F.div,{role:`menuitem`,"data-highlighted":u?``:void 0,"aria-disabled":r||void 0,"data-disabled":r?``:void 0,...a,ref:l,onPointerMove:N(e.onPointerMove,Tw(e=>{r?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:N(e.onPointerLeave,Tw(e=>o.onItemLeave(e))),onFocus:N(e.onFocus,()=>d(!0)),onBlur:N(e.onBlur,()=>d(!1))})})})}),qC=`MenuCheckboxItem`,JC=S.forwardRef((e,t)=>{let{checked:n=!1,onCheckedChange:r,...i}=e;return(0,P.jsx)(nw,{scope:e.__scopeMenu,checked:n,children:(0,P.jsx)(GC,{role:`menuitemcheckbox`,"aria-checked":vw(n)?`mixed`:n,...i,ref:t,"data-state":yw(n),onSelect:N(i.onSelect,()=>r?.(vw(n)?!0:!n),{checkForDefaultPrevented:!1})})})});JC.displayName=qC;var YC=`MenuRadioGroup`,[XC,ZC]=gC(YC,{value:void 0,onValueChange:()=>{}}),QC=S.forwardRef((e,t)=>{let{value:n,onValueChange:r,...i}=e,a=_r(r);return(0,P.jsx)(XC,{scope:e.__scopeMenu,value:n,onValueChange:a,children:(0,P.jsx)(BC,{...i,ref:t})})});QC.displayName=YC;var $C=`MenuRadioItem`,ew=S.forwardRef((e,t)=>{let{value:n,...r}=e,i=ZC($C,e.__scopeMenu),a=n===i.value;return(0,P.jsx)(nw,{scope:e.__scopeMenu,checked:a,children:(0,P.jsx)(GC,{role:`menuitemradio`,"aria-checked":a,...r,ref:t,"data-state":yw(a),onSelect:N(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});ew.displayName=$C;var tw=`MenuItemIndicator`,[nw,rw]=gC(tw,{checked:!1}),iw=S.forwardRef((e,t)=>{let{__scopeMenu:n,forceMount:r,...i}=e,a=rw(tw,n);return(0,P.jsx)(zr,{present:r||vw(a.checked)||a.checked===!0,children:(0,P.jsx)(F.span,{...i,ref:t,"data-state":yw(a.checked)})})});iw.displayName=tw;var aw=`MenuSeparator`,ow=S.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e;return(0,P.jsx)(F.div,{role:`separator`,"aria-orientation":`horizontal`,...r,ref:t})});ow.displayName=aw;var sw=`MenuArrow`,cw=S.forwardRef((e,t)=>{let{__scopeMenu:n,...r}=e,i=vC(n);return(0,P.jsx)(zf,{...i,...r,ref:t})});cw.displayName=sw;var lw=`MenuSub`,[uw,dw]=gC(lw),fw=e=>{let{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,a=xC(lw,t),o=vC(t),[s,c]=S.useState(null),[l,u]=S.useState(null),d=_r(i);return S.useEffect(()=>(a.open===!1&&d(!1),()=>d(!1)),[a.open,d]),(0,P.jsx)(If,{...o,children:(0,P.jsx)(bC,{scope:t,open:r,onOpenChange:d,content:l,onContentChange:u,children:(0,P.jsx)(uw,{scope:t,contentId:z(),triggerId:z(),trigger:s,onTriggerChange:c,children:n})})})};fw.displayName=lw;var pw=`MenuSubTrigger`,mw=S.forwardRef((e,t)=>{let n=xC(pw,e.__scopeMenu),r=CC(pw,e.__scopeMenu),i=dw(pw,e.__scopeMenu),a=NC(pw,e.__scopeMenu),o=S.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,l={__scopeMenu:e.__scopeMenu},u=S.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return S.useEffect(()=>u,[u]),S.useEffect(()=>{let e=s.current;return()=>{window.clearTimeout(e),c(null)}},[s,c]),(0,P.jsx)(EC,{asChild:!0,...l,children:(0,P.jsx)(KC,{id:i.triggerId,"aria-haspopup":`menu`,"aria-expanded":n.open,"aria-controls":i.contentId,"data-state":_w(n.open),...e,ref:nr(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),!(e.disabled||t.defaultPrevented)&&(t.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:N(e.onPointerMove,Tw(t=>{a.onItemEnter(t),!t.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:N(e.onPointerLeave,Tw(e=>{u();let t=n.content?.getBoundingClientRect();if(t){let r=n.content?.dataset.side,i=r===`right`,o=i?-5:5,c=t[i?`left`:`right`],l=t[i?`right`:`left`];a.onPointerGraceIntentChange({area:[{x:e.clientX+o,y:e.clientY},{x:c,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:c,y:t.bottom}],side:r}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:N(e.onKeyDown,t=>{let i=a.searchRef.current!==``;e.disabled||i&&t.key===` `||uC[r.dir].includes(t.key)&&(n.onOpenChange(!0),n.content?.focus(),t.preventDefault())})})})});mw.displayName=pw;var hw=`MenuSubContent`,gw=S.forwardRef((e,t)=>{let n=kC(jC,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=xC(jC,e.__scopeMenu),o=CC(jC,e.__scopeMenu),s=dw(hw,e.__scopeMenu),c=S.useRef(null),l=rr(t,c);return(0,P.jsx)(pC.Provider,{scope:e.__scopeMenu,children:(0,P.jsx)(zr,{present:r||a.open,children:(0,P.jsx)(pC.Slot,{scope:e.__scopeMenu,children:(0,P.jsx)(RC,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:l,align:`start`,side:o.dir===`rtl`?`left`:`right`,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:N(e.onFocusOutside,e=>{e.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:N(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:N(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),n=dC[o.dir].includes(e.key);t&&n&&(a.onOpenChange(!1),s.trigger?.focus(),e.preventDefault())})})})})})});gw.displayName=hw;function _w(e){return e?`open`:`closed`}function vw(e){return e===`indeterminate`}function yw(e){return vw(e)?`indeterminate`:e?`checked`:`unchecked`}function bw(e){let t=document.activeElement;for(let n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xw(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Sw(e,t,n){let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1,a=xw(e,Math.max(i,0));r.length===1&&(a=a.filter(e=>e!==n));let o=a.find(e=>e.toLowerCase().startsWith(r.toLowerCase()));return o===n?void 0:o}function Cw(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function ww(e,t){return t?Cw({x:e.clientX,y:e.clientY},t):!1}function Tw(e){return t=>t.pointerType===`mouse`?e(t):void 0}var Ew=wC,Dw=EC,Ow=AC,kw=PC,Aw=BC,jw=HC,Mw=GC,Nw=JC,Pw=QC,Fw=ew,Iw=iw,Lw=ow,Rw=cw,zw=mw,Bw=gw,Vw=`DropdownMenu`,[Hw,Uw]=or(Vw,[_C]),Ww=_C(),[Gw,Kw]=Hw(Vw),qw=e=>{let{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=Ww(t),l=S.useRef(null),[u,d]=Wr({prop:i,defaultProp:a??!1,onChange:o,caller:Vw});return(0,P.jsx)(Gw,{scope:t,triggerId:z(),triggerRef:l,contentId:z(),open:u,onOpenChange:d,onOpenToggle:S.useCallback(()=>d(e=>!e),[d]),modal:s,children:(0,P.jsx)(Ew,{...c,open:u,onOpenChange:d,dir:r,modal:s,children:n})})};qw.displayName=Vw;var Jw=`DropdownMenuTrigger`,Yw=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=Kw(Jw,n),o=Ww(n);return(0,P.jsx)(Dw,{asChild:!0,...o,children:(0,P.jsx)(F.button,{type:`button`,id:a.triggerId,"aria-haspopup":`menu`,"aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?`open`:`closed`,"data-disabled":r?``:void 0,disabled:r,...i,ref:nr(t,a.triggerRef),onPointerDown:N(e.onPointerDown,e=>{!r&&e.button===0&&e.ctrlKey===!1&&(a.onOpenToggle(),a.open||e.preventDefault())}),onKeyDown:N(e.onKeyDown,e=>{r||([`Enter`,` `].includes(e.key)&&a.onOpenToggle(),e.key===`ArrowDown`&&a.onOpenChange(!0),[`Enter`,` `,`ArrowDown`].includes(e.key)&&e.preventDefault())})})})});Yw.displayName=Jw;var Xw=`DropdownMenuPortal`,Zw=e=>{let{__scopeDropdownMenu:t,...n}=e,r=Ww(t);return(0,P.jsx)(Ow,{...r,...n})};Zw.displayName=Xw;var Qw=`DropdownMenuContent`,$w=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Kw(Qw,n),a=Ww(n),o=S.useRef(!1);return(0,P.jsx)(kw,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:N(e.onCloseAutoFocus,e=>{o.current||i.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:N(e.onInteractOutside,e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0,r=t.button===2||n;(!i.modal||r)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-dropdown-menu-content-available-width":`var(--radix-popper-available-width)`,"--radix-dropdown-menu-content-available-height":`var(--radix-popper-available-height)`,"--radix-dropdown-menu-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-dropdown-menu-trigger-height":`var(--radix-popper-anchor-height)`}})});$w.displayName=Qw;var eT=`DropdownMenuGroup`,tT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Aw,{...i,...r,ref:t})});tT.displayName=eT;var nT=`DropdownMenuLabel`,rT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(jw,{...i,...r,ref:t})});rT.displayName=nT;var iT=`DropdownMenuItem`,aT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Mw,{...i,...r,ref:t})});aT.displayName=iT;var oT=`DropdownMenuCheckboxItem`,sT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Nw,{...i,...r,ref:t})});sT.displayName=oT;var cT=`DropdownMenuRadioGroup`,lT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Pw,{...i,...r,ref:t})});lT.displayName=cT;var uT=`DropdownMenuRadioItem`,dT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Fw,{...i,...r,ref:t})});dT.displayName=uT;var fT=`DropdownMenuItemIndicator`,pT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Iw,{...i,...r,ref:t})});pT.displayName=fT;var mT=`DropdownMenuSeparator`,hT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Lw,{...i,...r,ref:t})});hT.displayName=mT;var gT=`DropdownMenuArrow`,_T=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Rw,{...i,...r,ref:t})});_T.displayName=gT;var vT=`DropdownMenuSubTrigger`,yT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(zw,{...i,...r,ref:t})});yT.displayName=vT;var bT=`DropdownMenuSubContent`,xT=S.forwardRef((e,t)=>{let{__scopeDropdownMenu:n,...r}=e,i=Ww(n);return(0,P.jsx)(Bw,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-dropdown-menu-content-available-width":`var(--radix-popper-available-width)`,"--radix-dropdown-menu-content-available-height":`var(--radix-popper-available-height)`,"--radix-dropdown-menu-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-dropdown-menu-trigger-height":`var(--radix-popper-anchor-height)`}})});xT.displayName=bT;var ST=qw,CT=Yw,wT=Zw,TT=$w,ET=rT,DT=aT,OT=sT,kT=dT,AT=pT,jT=hT,MT=yT,NT=xT,PT=ST,FT=CT,IT=S.forwardRef(({className:e,inset:t,children:n,...r},i)=>(0,P.jsxs)(MT,{ref:i,className:R(`flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,t&&`pl-8`,e),...r,children:[n,(0,P.jsx)(ya,{className:`ml-auto`})]}));IT.displayName=MT.displayName;var LT=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(NT,{ref:n,className:R(`z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]`,e),...t}));LT.displayName=NT.displayName;var RT=S.forwardRef(({className:e,sideOffset:t=4,...n},r)=>(0,P.jsx)(wT,{children:(0,P.jsx)(TT,{ref:r,sideOffset:t,className:R(`z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]`,e),...n})}));RT.displayName=TT.displayName;var zT=S.forwardRef(({className:e,inset:t,...n},r)=>(0,P.jsx)(DT,{ref:r,className:R(`relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0`,t&&`pl-8`,e),...n}));zT.displayName=DT.displayName;var BT=S.forwardRef(({className:e,children:t,checked:n,...r},i)=>(0,P.jsxs)(OT,{ref:i,className:R(`relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e),checked:n,...r,children:[(0,P.jsx)(`span`,{className:`absolute left-2 flex h-3.5 w-3.5 items-center justify-center`,children:(0,P.jsx)(AT,{children:(0,P.jsx)(ga,{className:`h-4 w-4`})})}),t]}));BT.displayName=OT.displayName;var VT=S.forwardRef(({className:e,children:t,...n},r)=>(0,P.jsxs)(kT,{ref:r,className:R(`relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e),...n,children:[(0,P.jsx)(`span`,{className:`absolute left-2 flex h-3.5 w-3.5 items-center justify-center`,children:(0,P.jsx)(AT,{children:(0,P.jsx)(Ta,{className:`h-2 w-2 fill-current`})})}),t]}));VT.displayName=kT.displayName;var HT=S.forwardRef(({className:e,inset:t,...n},r)=>(0,P.jsx)(ET,{ref:r,className:R(`px-2 py-1.5 text-sm font-semibold`,t&&`pl-8`,e),...n}));HT.displayName=ET.displayName;var UT=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(jT,{ref:n,className:R(`-mx-1 my-1 h-px bg-muted`,e),...t}));UT.displayName=jT.displayName;var WT=({className:e,...t})=>(0,P.jsx)(`span`,{className:R(`ml-auto text-xs tracking-widest opacity-60`,e),...t});WT.displayName=`DropdownMenuShortcut`;var GT=`Popover`,[KT,qT]=or(GT,[bf]),JT=bf(),[YT,XT]=KT(GT),ZT=e=>{let{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=JT(t),c=S.useRef(null),[l,u]=S.useState(!1),[d,f]=Wr({prop:r,defaultProp:i??!1,onChange:a,caller:GT});return(0,P.jsx)(If,{...s,children:(0,P.jsx)(YT,{scope:t,contentId:z(),triggerRef:c,open:d,onOpenChange:f,onOpenToggle:S.useCallback(()=>f(e=>!e),[f]),hasCustomAnchor:l,onCustomAnchorAdd:S.useCallback(()=>u(!0),[]),onCustomAnchorRemove:S.useCallback(()=>u(!1),[]),modal:o,children:n})})};ZT.displayName=GT;var QT=`PopoverAnchor`,$T=S.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=XT(QT,n),a=JT(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return S.useEffect(()=>(o(),()=>s()),[o,s]),(0,P.jsx)(Lf,{...a,...r,ref:t})});$T.displayName=QT;var eE=`PopoverTrigger`,tE=S.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=XT(eE,n),a=JT(n),o=rr(t,i.triggerRef),s=(0,P.jsx)(F.button,{type:`button`,"aria-haspopup":`dialog`,"aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gE(i.open),...r,ref:o,onClick:N(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:(0,P.jsx)(Lf,{asChild:!0,...a,children:s})});tE.displayName=eE;var nE=`PopoverPortal`,[rE,iE]=KT(nE,{forceMount:void 0}),aE=e=>{let{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=XT(nE,t);return(0,P.jsx)(rE,{scope:t,forceMount:n,children:(0,P.jsx)(zr,{present:n||a.open,children:(0,P.jsx)(Lr,{asChild:!0,container:i,children:r})})})};aE.displayName=nE;var oE=`PopoverContent`,sE=S.forwardRef((e,t)=>{let n=iE(oE,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=XT(oE,e.__scopePopover);return(0,P.jsx)(zr,{present:r||a.open,children:a.modal?(0,P.jsx)(lE,{...i,ref:t}):(0,P.jsx)(uE,{...i,ref:t})})});sE.displayName=oE;var cE=cr(`PopoverContent.RemoveScroll`),lE=S.forwardRef((e,t)=>{let n=XT(oE,e.__scopePopover),r=S.useRef(null),i=rr(t,r),a=S.useRef(!1);return S.useEffect(()=>{let e=r.current;if(e)return Ph(e)},[]),(0,P.jsx)(Th,{as:cE,allowPinchZoom:!0,children:(0,P.jsx)(dE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(e.onCloseAutoFocus,e=>{e.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:N(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=t.button===0&&t.ctrlKey===!0;a.current=t.button===2||n},{checkForDefaultPrevented:!1}),onFocusOutside:N(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),uE=S.forwardRef((e,t)=>{let n=XT(oE,e.__scopePopover),r=S.useRef(!1),i=S.useRef(!1);return(0,P.jsx)(dE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,t.detail.originalEvent.type===`pointerdown`&&(i.current=!0));let a=t.target;n.triggerRef.current?.contains(a)&&t.preventDefault(),t.detail.originalEvent.type===`focusin`&&i.current&&t.preventDefault()}})}),dE=S.forwardRef((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onInteractOutside:u,...d}=e,f=XT(oE,n),p=JT(n);return pm(),(0,P.jsx)(em,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:(0,P.jsx)(Tr,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:l,onDismiss:()=>f.onOpenChange(!1),children:(0,P.jsx)(Rf,{"data-state":gE(f.open),role:`dialog`,id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-popover-content-available-width":`var(--radix-popper-available-width)`,"--radix-popover-content-available-height":`var(--radix-popper-available-height)`,"--radix-popover-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-popover-trigger-height":`var(--radix-popper-anchor-height)`}})})})}),fE=`PopoverClose`,pE=S.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=XT(fE,n);return(0,P.jsx)(F.button,{type:`button`,...r,ref:t,onClick:N(e.onClick,()=>i.onOpenChange(!1))})});pE.displayName=fE;var mE=`PopoverArrow`,hE=S.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=JT(n);return(0,P.jsx)(zf,{...i,...r,ref:t})});hE.displayName=mE;function gE(e){return e?`open`:`closed`}var _E=ZT,vE=tE,yE=aE,bE=sE,xE=_E,SE=vE,CE=S.forwardRef(({className:e,align:t=`center`,sideOffset:n=4,...r},i)=>(0,P.jsx)(yE,{children:(0,P.jsx)(bE,{ref:i,align:t,sideOffset:n,className:R(`z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]`,e),...r})}));CE.displayName=bE.displayName;function wE(){let{bills:e,expiringDocuments:t}=PS(),{signOut:n}=MS(),r=it(),i=async()=>{await n(),r(`/login`,{replace:!0})},a=e.filter(e=>e.status===`pending`||e.status===`overdue`).filter(e=>{let t=Zc(new Date(e.dueDate));return t.severity===`expired`||t.severity===`urgent`}),o=a.length+t.length;return(0,P.jsxs)(`header`,{className:`sticky top-0 z-30 flex h-16 w-full items-center gap-4 border-b bg-background px-6 shadow-sm`,children:[(0,P.jsx)(Ug,{}),(0,P.jsx)(`div`,{className:`flex flex-1 items-center gap-4`,children:(0,P.jsxs)(`div`,{className:`relative w-full max-w-sm hidden md:block`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{type:`search`,placeholder:`Pesquisar...`,className:`pl-9`})]})}),(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsxs)(xE,{children:[(0,P.jsx)(SE,{asChild:!0,children:(0,P.jsxs)(B,{variant:`ghost`,size:`icon`,className:`relative group`,children:[(0,P.jsx)(la,{className:o>0?`h-5 w-5 animate-[swing_1s_ease-in-out_infinite]`:`h-5 w-5`}),o>0&&(0,P.jsxs)(`span`,{className:`absolute top-1.5 right-1.5 flex h-3 w-3`,children:[(0,P.jsx)(`span`,{className:`animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75`}),(0,P.jsx)(`span`,{className:`relative inline-flex rounded-full h-3 w-3 bg-red-500`})]})]})}),(0,P.jsxs)(CE,{className:`w-80 p-0`,align:`end`,children:[(0,P.jsx)(`div`,{className:`p-4 font-semibold border-b`,children:`Notificaes`}),(0,P.jsx)(`div`,{className:`max-h-[300px] overflow-y-auto`,children:o===0?(0,P.jsx)(`div`,{className:`p-4 text-center text-sm text-muted-foreground`,children:`Nenhuma notificao pendente.`}):(0,P.jsxs)(`div`,{className:`divide-y`,children:[t.map(e=>(0,P.jsx)(`div`,{className:`p-3 hover:bg-muted/50 transition-colors cursor-pointer text-sm`,onClick:()=>r(`/obras/${e.obra_id}`),children:(0,P.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,P.jsx)(Pa,{className:`h-5 w-5 text-orange-500 mt-0.5`}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`font-medium`,children:e.tipo?.toUpperCase()||`DOCUMENTO`}),(0,P.jsxs)(`p`,{className:`text-xs text-muted-foreground`,children:[`Obra: `,e.obra?.nome]}),(0,P.jsxs)(`p`,{className:`text-xs text-red-500 font-medium`,children:[`Vence em:`,` `,Ic(new Date(e.data_validade),`dd/MM/yyyy`)]})]})]})},e.id)),a.map(e=>(0,P.jsx)(`div`,{className:`p-3 hover:bg-muted/50 transition-colors cursor-pointer text-sm`,onClick:()=>r(`/financeiro`),children:(0,P.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,P.jsx)(`span`,{className:`text-red-500 font-bold`,children:`R$`}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`font-medium`,children:e.description}),(0,P.jsxs)(`p`,{className:`text-xs text-muted-foreground`,children:[`Vencimento:`,` `,Ic(new Date(e.dueDate),`dd/MM/yyyy`)]})]})]})},e.id))]})})]})]}),(0,P.jsxs)(PT,{children:[(0,P.jsx)(FT,{asChild:!0,children:(0,P.jsxs)(B,{variant:`secondary`,size:`icon`,className:`rounded-full`,children:[(0,P.jsx)(mo,{className:`h-5 w-5`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Menu do usurio`})]})}),(0,P.jsxs)(RT,{align:`end`,children:[(0,P.jsx)(HT,{children:`Minha Conta`}),(0,P.jsx)(UT,{}),(0,P.jsx)(zT,{onClick:()=>r(`/configuracoes`),children:`Perfil & Segurana`}),(0,P.jsx)(UT,{}),(0,P.jsxs)(zT,{onClick:i,className:`text-red-600 dark:text-red-400 cursor-pointer`,children:[(0,P.jsx)(Ga,{className:`mr-2 h-4 w-4`}),`Sair`]})]})]})]})]})}function TE(){return(0,P.jsxs)(Vg,{children:[(0,P.jsx)(IS,{}),(0,P.jsxs)(Gg,{children:[(0,P.jsx)(wE,{}),(0,P.jsx)(`main`,{className:`flex-1 overflow-y-auto p-6 bg-secondary/10`,children:(0,P.jsx)(Nt,{})})]})]})}var EE=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/,DE=/^[a-zA-Z][a-zA-Z0-9._-]{2,29}$/,OE=/[^A-Za-z0-9]/,kE=e=>{let t=e.trim();return t?t.includes(`@`)?EE.test(t)?null:`Informe um email vlido.`:DE.test(t)?null:`Usurio invlido. Use 3 a 30 caracteres (letras, nmeros, ., _ ou -), iniciando por letra.`:`Informe email ou usurio.`},AE=e=>e?null:`Informe sua senha.`;function jE(){let e=it(),{user:t}=MS(),{currentUser:n,isInitializing:r}=PS(),[i,a]=(0,S.useState)(!1),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(``),[u,d]=(0,S.useState)(!1),[f,p]=(0,S.useState)(!1),[m,h]=(0,S.useState)(null),[g,_]=(0,S.useState)({}),v=(0,S.useMemo)(()=>({minLength:c.length>=8,upper:/[A-Z]/.test(c),lower:/[a-z]/.test(c),number:/[0-9]/.test(c),special:OE.test(c)}),[c]);(0,S.useEffect)(()=>{let e=localStorage.getItem(`remembered_email`),t=localStorage.getItem(`remember_me`)===`true`;e&&t&&(s(e),p(!0))},[]),(0,S.useEffect)(()=>{t&&n&&!r&&e(`/`,{replace:!0})},[t,n,r,e]);let y=async t=>{t.preventDefault();let n=kE(o),r=AE(c);if(_({identifier:n??void 0,password:r??void 0}),n||r)return;let i=o.trim().toLowerCase();a(!0),h(null);try{{if(!i.includes(`@`)){h(`Para login por usurio, configure VITE_LOGIN_API_URL para validar no seu back-end.`);return}let{error:e}=await G.auth.signInWithPassword({email:i,password:c});if(e){h(`Email ou senha invlidos.`);return}f?(localStorage.setItem(`remembered_email`,i),localStorage.setItem(`remember_me`,`true`)):(localStorage.removeItem(`remembered_email`),localStorage.removeItem(`remember_me`))}e(`/`,{replace:!0})}catch{h(`No foi possvel concluir o login. Verifique sua conexo e tente novamente.`)}finally{a(!1)}},b=`w-full px-4 py-3.5 bg-slate-900/60 border rounded-lg outline-none text-white placeholder-slate-500 transition-all text-sm`;return(0,P.jsxs)(`div`,{className:`min-h-screen flex flex-col items-center justify-center relative font-sans`,children:[(0,P.jsx)(`div`,{className:`absolute inset-0 z-0 bg-cover bg-center`,style:{backgroundImage:`url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop")`},children:(0,P.jsx)(`div`,{className:`absolute inset-0 bg-slate-900/85 backdrop-blur-[2px]`})}),(0,P.jsx)(`div`,{className:`relative z-10 w-full max-w-[440px] p-4`,children:(0,P.jsxs)(`div`,{className:`bg-slate-800/80 backdrop-blur-md border border-slate-700/50 rounded-2xl shadow-2xl p-8 md:p-10`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,P.jsx)(`div`,{className:`w-20 h-20 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-lg shadow-black/20 p-3`,children:(0,P.jsxs)(`svg`,{viewBox:`0 0 48 48`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,className:`w-full h-full`,children:[(0,P.jsx)(`path`,{d:`M4 44L4 24L14 19V44H4Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M19 44V16.5L29 11.5V44H19Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M34 44V9L44 4V44H34Z`,fill:`#f97316`})]})}),(0,P.jsx)(`h1`,{className:`text-3xl font-bold text-white tracking-tight`,children:`Constroimais`})]}),(0,P.jsxs)(`form`,{onSubmit:y,className:`space-y-5`,children:[(0,P.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,P.jsx)(`label`,{className:`block text-sm font-semibold text-slate-300 ml-1`,children:`Email ou usurio`}),(0,P.jsx)(`input`,{type:`text`,className:`${b} ${g.identifier?`border-red-500 focus:ring-2 focus:ring-red-500 focus:border-transparent`:`border-slate-700/80 focus:ring-2 focus:ring-orange-500 focus:border-transparent`}`,placeholder:`Digite seu email ou usurio`,value:o,onChange:e=>{s(e.target.value),g.identifier&&_(e=>({...e,identifier:void 0}))},onBlur:()=>{let e=kE(o);_(t=>({...t,identifier:e??void 0}))}}),g.identifier&&(0,P.jsx)(`p`,{className:`text-xs text-red-300 ml-1`,children:g.identifier})]}),(0,P.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,P.jsx)(`label`,{className:`block text-sm font-semibold text-slate-300 ml-1`,children:`Senha`}),(0,P.jsx)(B,{variant:`link`,className:`text-white hover:text-white/80 p-0 h-auto font-normal text-sm`,onClick:()=>e(`/esqueceu-senha`),type:`button`,children:`Esqueceu a senha?`})]}),(0,P.jsx)(`input`,{type:`password`,className:`${b} tracking-widest ${g.password?`border-red-500 focus:ring-2 focus:ring-red-500 focus:border-transparent`:`border-slate-700/80 focus:ring-2 focus:ring-orange-500 focus:border-transparent`}`,placeholder:`Informe sua senha`,value:c,onFocus:()=>d(!0),onChange:e=>{l(e.target.value),g.password&&_(e=>({...e,password:void 0}))},onBlur:()=>{d(!1)}}),g.password&&(0,P.jsx)(`p`,{className:`text-xs text-red-300 ml-1`,children:g.password}),u&&(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-1 text-[11px] ml-1 pt-1`,children:[(0,P.jsx)(`span`,{className:v.minLength?`text-emerald-300`:`text-slate-400`,children:`8+ caracteres`}),(0,P.jsx)(`span`,{className:v.upper?`text-emerald-300`:`text-slate-400`,children:`Maiscula`}),(0,P.jsx)(`span`,{className:v.lower?`text-emerald-300`:`text-slate-400`,children:`Minscula`}),(0,P.jsx)(`span`,{className:v.number?`text-emerald-300`:`text-slate-400`,children:`Nmero`}),(0,P.jsx)(`span`,{className:v.special?`text-emerald-300`:`text-slate-400`,children:`Especial`})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2 pt-1`,children:[(0,P.jsx)(`input`,{type:`checkbox`,id:`remember`,checked:f,onChange:e=>p(e.target.checked),className:`w-4 h-4 rounded border-slate-600 bg-slate-700 text-orange-600 focus:ring-orange-500 focus:ring-offset-slate-800 cursor-pointer accent-orange-500`}),(0,P.jsx)(`label`,{htmlFor:`remember`,className:`text-sm text-slate-300 cursor-pointer select-none hover:text-white transition-colors`,children:`Lembrar-me`})]}),m&&(0,P.jsx)(`div`,{className:`text-sm text-red-300 bg-red-900/20 border border-red-800/40 rounded-lg px-3 py-2`,children:m}),(0,P.jsxs)(`div`,{className:`space-y-3 pt-2`,children:[(0,P.jsx)(`button`,{type:`submit`,disabled:i,className:`w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3.5 rounded-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-orange-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:i?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{size:20,className:`animate-spin`}),` Acessando...`]}):`Acessar sistema`}),(0,P.jsx)(`div`,{className:`text-center pt-2`,children:(0,P.jsxs)(B,{variant:`link`,className:`text-slate-400 hover:text-white p-0 h-auto font-normal text-xs`,onClick:()=>e(`/primeiro-acesso`),type:`button`,children:[`Este  seu primeiro acesso? `,(0,P.jsx)(`span`,{className:`text-orange-500 font-bold ml-1`,children:`Ative sua conta aqui.`})]})})]})]})]})}),(0,P.jsx)(`div`,{className:`relative z-10 mt-8 text-center px-4`,children:(0,P.jsx)(`p`,{className:`text-slate-500 text-xs font-medium`,children:` 2025 Constroimais. Todos os direitos reservados.`})})]})}var ME=`Label`,NE=S.forwardRef((e,t)=>(0,P.jsx)(Hp.label,{...e,ref:t,onMouseDown:t=>{t.target.closest(`button, input, select, textarea`)||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));NE.displayName=ME;var PE=NE,FE=Zi(`text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70`),K=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(PE,{ref:n,className:R(FE(),e),...t}));K.displayName=PE.displayName;var q=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`rounded-lg border bg-card text-card-foreground shadow-sm`,e),...t}));q.displayName=`Card`;var IE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`flex flex-col space-y-1.5 p-6`,e),...t}));IE.displayName=`CardHeader`;var LE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`text-2xl font-semibold leading-none tracking-tight`,e),...t}));LE.displayName=`CardTitle`;var RE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`text-sm text-muted-foreground`,e),...t}));RE.displayName=`CardDescription`;var J=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`p-6 pt-0`,e),...t}));J.displayName=`CardContent`;var zE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{ref:n,className:R(`flex items-center p-6 pt-0`,e),...t}));zE.displayName=`CardFooter`;function BE(){let[e,t]=(0,S.useState)(``),[n,r]=(0,S.useState)(!1);return(0,P.jsx)(`div`,{className:`flex h-screen w-full items-center justify-center bg-gray-50 dark:bg-gray-900 px-4`,children:(0,P.jsxs)(q,{className:`w-full max-w-md`,children:[(0,P.jsxs)(IE,{className:`text-center`,children:[(0,P.jsx)(LE,{className:`text-2xl font-bold`,children:`Recuperar Senha`}),(0,P.jsx)(RE,{children:n?`Verifique sua caixa de entrada`:`Digite seu email para receber o link de redefinio`})]}),(0,P.jsx)(J,{children:n?(0,P.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-4 space-y-4`,children:[(0,P.jsx)(Ca,{className:`h-16 w-16 text-green-500`}),(0,P.jsxs)(`p`,{className:`text-center text-muted-foreground`,children:[`Enviamos um email para `,(0,P.jsx)(`strong`,{children:e}),` com instrues para recuperar sua senha.`]})]}):(0,P.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),r(!0)},className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`email`,children:`Email`}),(0,P.jsx)(V,{id:`email`,type:`email`,placeholder:`seu@email.com`,value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,P.jsx)(B,{type:`submit`,className:`w-full`,children:`Enviar Link`})]})}),(0,P.jsx)(zE,{className:`flex justify-center`,children:(0,P.jsx)(B,{variant:`ghost`,asChild:!0,className:`gap-2`,children:(0,P.jsxs)(Cn,{to:`/login`,children:[(0,P.jsx)(oa,{className:`h-4 w-4`}),` Voltar para Login`]})})})]})})}function VE(){let e=it(),[t,n]=(0,S.useState)(``),[r,i]=(0,S.useState)(!1),[a,o]=(0,S.useState)(null),[s,c]=(0,S.useState)(!1);return(0,P.jsxs)(`div`,{className:`min-h-screen flex flex-col items-center justify-center relative font-sans`,children:[(0,P.jsx)(`div`,{className:`absolute inset-0 z-0 bg-cover bg-center`,style:{backgroundImage:`url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop")`},children:(0,P.jsx)(`div`,{className:`absolute inset-0 bg-slate-900/85 backdrop-blur-[2px]`})}),(0,P.jsx)(`div`,{className:`relative z-10 w-full max-w-[440px] p-4`,children:(0,P.jsxs)(`div`,{className:`bg-slate-800/80 backdrop-blur-md border border-slate-700/50 rounded-2xl shadow-2xl p-8 md:p-10`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,P.jsx)(`div`,{className:`w-20 h-20 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-lg shadow-black/20 p-3`,children:(0,P.jsxs)(`svg`,{viewBox:`0 0 48 48`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,className:`w-full h-full`,children:[(0,P.jsx)(`path`,{d:`M4 44L4 24L14 19V44H4Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M19 44V16.5L29 11.5V44H19Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M34 44V9L44 4V44H34Z`,fill:`#f97316`})]})}),(0,P.jsx)(`h1`,{className:`text-3xl font-bold text-white tracking-tight`,children:`Recuperar Senha`}),(0,P.jsx)(`p`,{className:`text-slate-400 text-sm mt-2`,children:s?`Email enviado!`:`Informe seu email para recuperar o acesso`})]}),s?(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`bg-emerald-900/20 border border-emerald-800/40 rounded-lg px-4 py-3 text-sm text-emerald-300`,children:[`Enviamos um link de recuperao para `,(0,P.jsx)(`strong`,{children:t}),`. Verifique sua caixa de entrada e spam.`]}),(0,P.jsxs)(`button`,{onClick:()=>e(`/login`),className:`w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3.5 rounded-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-orange-900/20 flex items-center justify-center gap-2`,children:[(0,P.jsx)(oa,{size:18}),`Voltar ao login`]})]}):(0,P.jsxs)(`form`,{onSubmit:async e=>{e.preventDefault(),i(!0),o(null);try{let{error:e}=await G.auth.resetPasswordForEmail(t,{redirectTo:`${window.location.origin}/reset-password`});if(e){console.error(`Supabase Reset Error:`,e),e.message===`email rate limit exceeded`?o(`Muitas solicitaes em pouco tempo. Por favor, aguarde 60 segundos antes de tentar novamente.`):o(e.message||`No foi possvel enviar o email de recuperao. Verifique o endereo informado.`);return}c(!0)}catch{o(`Ocorreu um erro. Tente novamente mais tarde.`)}finally{i(!1)}},className:`space-y-5`,children:[(0,P.jsxs)(`div`,{className:`space-y-1.5`,children:[(0,P.jsx)(`label`,{className:`block text-sm font-semibold text-slate-300 ml-1`,children:`Email`}),(0,P.jsx)(`input`,{type:`email`,className:`w-full px-4 py-3.5 bg-slate-900/60 border rounded-lg outline-none text-white placeholder-slate-500 transition-all text-sm border-slate-700/80 focus:ring-2 focus:ring-orange-500 focus:border-transparent`,placeholder:`Digite seu email`,value:t,onChange:e=>n(e.target.value),required:!0})]}),a&&(0,P.jsx)(`div`,{className:`text-sm text-red-300 bg-red-900/20 border border-red-800/40 rounded-lg px-3 py-2`,children:a}),(0,P.jsxs)(`div`,{className:`space-y-3 pt-2`,children:[(0,P.jsx)(`button`,{type:`submit`,disabled:r,className:`w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3.5 rounded-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-orange-900/20 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed`,children:r?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{size:20,className:`animate-spin`}),` Enviando...`]}):`Enviar link de recuperao`}),(0,P.jsxs)(`button`,{type:`button`,onClick:()=>e(`/login`),className:`w-full bg-slate-700/50 hover:bg-slate-700 text-slate-300 hover:text-white border border-slate-600 hover:border-slate-500 font-medium py-3.5 rounded-lg transition-all flex items-center justify-center gap-2`,children:[(0,P.jsx)(oa,{size:18}),`Voltar ao login`]})]})]})]})}),(0,P.jsx)(`div`,{className:`relative z-10 mt-8 text-center px-4`,children:(0,P.jsx)(`p`,{className:`text-slate-500 text-xs font-medium`,children:` 2025 Constroimais. Todos os direitos reservados.`})})]})}function HE(){let e=it();return(0,P.jsxs)(`div`,{className:`min-h-screen flex flex-col items-center justify-center relative font-sans`,children:[(0,P.jsx)(`div`,{className:`absolute inset-0 z-0 bg-cover bg-center`,style:{backgroundImage:`url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop")`},children:(0,P.jsx)(`div`,{className:`absolute inset-0 bg-slate-900/85 backdrop-blur-[2px]`})}),(0,P.jsx)(`div`,{className:`relative z-10 w-full max-w-[440px] p-4`,children:(0,P.jsxs)(`div`,{className:`bg-slate-800/80 backdrop-blur-md border border-slate-700/50 rounded-2xl shadow-2xl p-8 md:p-10`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col items-center mb-8`,children:[(0,P.jsx)(`div`,{className:`w-20 h-20 bg-white rounded-2xl flex items-center justify-center mb-4 shadow-lg shadow-black/20 p-3`,children:(0,P.jsxs)(`svg`,{viewBox:`0 0 48 48`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,className:`w-full h-full`,children:[(0,P.jsx)(`path`,{d:`M4 44L4 24L14 19V44H4Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M19 44V16.5L29 11.5V44H19Z`,fill:`#f97316`}),(0,P.jsx)(`path`,{d:`M34 44V9L44 4V44H34Z`,fill:`#f97316`})]})}),(0,P.jsx)(`h1`,{className:`text-3xl font-bold text-white tracking-tight`,children:`Acesso Funcionrio`}),(0,P.jsx)(`p`,{className:`text-slate-400 text-sm mt-2`,children:`Em desenvolvimento`})]}),(0,P.jsxs)(`div`,{className:`text-center space-y-4`,children:[(0,P.jsx)(`p`,{className:`text-slate-300`,children:`Esta funcionalidade estar disponvel em breve.`}),(0,P.jsx)(`button`,{onClick:()=>e(`/login`),className:`w-full bg-orange-600 hover:bg-orange-700 text-white font-bold py-3.5 rounded-lg transition-all transform hover:scale-[1.01] active:scale-[0.99] shadow-lg shadow-orange-900/20`,children:`Voltar ao login`})]})]})}),(0,P.jsx)(`div`,{className:`relative z-10 mt-8 text-center px-4`,children:(0,P.jsx)(`p`,{className:`text-slate-500 text-xs font-medium`,children:` 2025 Constroimais. Todos os direitos reservados.`})})]})}var UE=Zi(`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2`,{variants:{variant:{default:`border-transparent bg-primary text-primary-foreground hover:bg-primary/80`,secondary:`border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80`,destructive:`border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80`,outline:`text-foreground`}},defaultVariants:{variant:`default`}});function WE({className:e,variant:t,...n}){return(0,P.jsx)(`div`,{className:R(UE({variant:t}),e),...n})}function GE(){let{projects:e,employees:t,bills:n,expiringDocuments:r,accommodations:i,rentals:a}=PS(),o=it(),s=new Date,c=e.filter(e=>e.status===`ativa`).length,l=t.filter(e=>e.status===`ativo`).length,u=i.filter(e=>e.status===`active`).length,d=vs(s,7),f=n.filter(e=>(e.status===`pending`||e.status===`overdue`)&&Hc(new Date(e.dueDate),d)).reduce((e,t)=>e+t.amount,0),p=(()=>{let e=[];r.forEach(t=>{let n=new Date(t.data_validade),r=Zc(n),i=Fa;t.category===`Obra`&&(i=ua),t.category===`Colaborador`&&(i=ho),t.category===`Veculo`&&(i=lo),e.push({type:`${t.category} / ${t.tipo?.toUpperCase()||`DOC`}`,message:`${t.entityName}`,date:n,status:r,path:t.path,icon:i,source:`doc`,category:t.category})}),n.forEach(t=>{if(t.status===`pending`||t.status===`overdue`){let n=new Date(t.dueDate),r=Zc(n),i=t.category===`Aluguel de Equipamentos`||!!t.aluguel_id;e.push({type:i?`Aluguel`:`Financeiro`,message:`${t.description}`,date:n,status:r,path:i?`/alugueis`:`/financeiro`,icon:i?Ra:Aa,source:`bill`,category:`Financeiro`})}}),t.forEach(t=>{if(t.status===`ativo`&&t.vacationDueDate){let n=new Date(t.vacationDueDate),r=Zc(n);e.push({type:`Frias`,message:`${t.name}`,date:n,status:r,path:`/colaboradores`,icon:ho,source:`vacation`,category:`Colaborador`})}});let i={expired:0,urgent:1,attention:2,warning:3,ok:4};return e.sort((e,t)=>{let n=i[e.status.severity]-i[t.status.severity];return n===0?new Date(e.date).getTime()-new Date(t.date).getTime():n})})();p.filter(e=>e.status.severity!==`ok`).length;let m=p.filter(e=>(e.category===`Obra`||e.category===`Veculo`)&&e.status.severity!==`ok`),h=p.filter(e=>e.category===`Colaborador`),g=p.filter(e=>e.category===`Financeiro`&&e.status.severity!==`ok`),_=(e,t)=>{let n=Rs(e,new Date);return t===`expired`?`Vencido h ${Math.abs(n)} dias`:t===`ok`&&n>0||t===`warning`||t===`attention`||t===`urgent`?`Faltam ${n} dias`:Ic(e,`dd/MM/yyyy`)};return(0,P.jsxs)(`div`,{className:`space-y-8`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight text-slate-900 dark:text-white`,children:`Painel de Controle`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Viso geral inteligente e alertas de vencimento`})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2 bg-white dark:bg-slate-800 px-4 py-2 rounded-md shadow-sm text-sm text-muted-foreground`,children:[(0,P.jsx)(Ea,{className:`h-4 w-4`}),`Atualizado: `,Ic(new Date,`HH:mm`)]})]}),(0,P.jsx)(`div`,{className:`flex justify-center text-center`,children:(0,P.jsxs)(`div`,{className:`grid gap-4 md:grid-cols-4 max-w-6xl w-full`,children:[(0,P.jsx)(q,{className:`hover:shadow-lg transition-shadow border-t-4 border-t-primary`,children:(0,P.jsxs)(J,{className:`p-6`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between space-y-0 pb-2 flex-col`,children:(0,P.jsx)(`div`,{className:`p-2 bg-primary/10 rounded-full`,children:(0,P.jsx)(Ra,{className:`h-6 w-6 text-primary`})})}),(0,P.jsxs)(`div`,{className:`mt-4`,children:[(0,P.jsx)(`div`,{className:`text-3xl font-bold`,children:c}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground mt-1`,children:`Obras Ativas`})]})]})}),(0,P.jsx)(q,{className:`hover:shadow-lg transition-shadow border-t-4 border-t-blue-500`,children:(0,P.jsxs)(J,{className:`p-6`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between space-y-0 pb-2 flex-col`,children:(0,P.jsx)(`div`,{className:`p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full`,children:(0,P.jsx)(ho,{className:`h-6 w-6 text-blue-600 dark:text-blue-400`})})}),(0,P.jsxs)(`div`,{className:`mt-4`,children:[(0,P.jsx)(`div`,{className:`text-3xl font-bold`,children:l}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground mt-1`,children:`Colaboradores Ativos`})]})]})}),(0,P.jsx)(q,{className:`hover:shadow-lg transition-shadow border-t-4 border-t-amber-500`,children:(0,P.jsxs)(J,{className:`p-6`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between space-y-0 pb-2 flex-col`,children:(0,P.jsx)(`div`,{className:`p-2 bg-amber-100 dark:bg-amber-900/30 rounded-full`,children:(0,P.jsx)(za,{className:`h-6 w-6 text-amber-600 dark:text-amber-400`})})}),(0,P.jsxs)(`div`,{className:`mt-4`,children:[(0,P.jsx)(`div`,{className:`text-3xl font-bold`,children:u}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground mt-1`,children:`Alojamentos Ativos`})]})]})}),(0,P.jsx)(q,{className:`hover:shadow-lg transition-shadow border-t-4 border-t-red-500`,children:(0,P.jsxs)(J,{className:`p-6`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between space-y-0 pb-2 flex-col`,children:(0,P.jsx)(`div`,{className:`p-2 bg-red-100 dark:bg-red-900/30 rounded-full`,children:(0,P.jsx)(Aa,{className:`h-6 w-6 text-red-600 dark:text-red-400`})})}),(0,P.jsxs)(`div`,{className:`mt-4`,children:[(0,P.jsxs)(`div`,{className:`text-3xl font-bold`,children:[`R$`,` `,f.toLocaleString(`pt-BR`,{minimumFractionDigits:0,maximumFractionDigits:0})]}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground mt-1`,children:`Boletos a vencer`})]})]})})]})}),(0,P.jsxs)(`div`,{className:`grid gap-8 grid-cols-1 xl:grid-cols-3`,children:[(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between`,children:(0,P.jsxs)(`h2`,{className:`text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2`,children:[(0,P.jsx)(ua,{className:`h-5 w-5 text-primary`}),` Alertas de Obras`]})}),(0,P.jsx)(`div`,{className:`space-y-3`,children:m.length===0?(0,P.jsxs)(`div`,{className:`bg-white dark:bg-slate-800 p-8 rounded-lg shadow-sm text-center border border-dashed`,children:[(0,P.jsx)(`div`,{className:`flex justify-center mb-2`,children:(0,P.jsx)(`div`,{className:`p-3 bg-green-50 rounded-full`,children:(0,P.jsx)(xa,{className:`h-6 w-6 text-green-500`})})}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-slate-900`,children:`Tudo em dia!`}),(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground mt-1`,children:`Nenhuma pendncia encontrada para obras.`})]}):m.map((e,t)=>(0,P.jsxs)(`div`,{onClick:()=>o(e.path),className:R(`flex items-center justify-between p-4 rounded-lg border shadow-sm cursor-pointer transition-all hover:scale-[1.01]`,e.status.bg,e.status.border),children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:R(`p-2 rounded-full bg-white/80`,e.status.color),children:(0,P.jsx)(e.icon,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h4`,{className:R(`font-bold text-sm`,e.status.color),children:e.message}),(0,P.jsxs)(`div`,{className:`flex flex-wrap items-center gap-1 md:gap-2 mt-0.5`,children:[(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs font-semibold uppercase tracking-wider opacity-75`,children:e.type}),(0,P.jsx)(`span`,{className:`text-[10px] opacity-50`,children:``}),(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs opacity-75`,children:_(e.date,e.status.severity)})]})]})]}),(0,P.jsx)(`div`,{className:`hidden sm:flex flex-col items-end gap-1 shrink-0`,children:(0,P.jsx)(WE,{className:R(`uppercase text-[10px] font-bold border-none bg-white/50 hover:bg-white`,e.status.color),children:e.status.label})})]},t))})]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between`,children:(0,P.jsxs)(`h2`,{className:`text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2`,children:[(0,P.jsx)(ho,{className:`h-5 w-5 text-blue-600`}),` Alertas Colaboradores`]})}),(0,P.jsx)(`div`,{className:`space-y-3`,children:h.length===0?(0,P.jsxs)(`div`,{className:`bg-white dark:bg-slate-800 p-8 rounded-lg shadow-sm text-center border border-dashed`,children:[(0,P.jsx)(`div`,{className:`flex justify-center mb-2`,children:(0,P.jsx)(`div`,{className:`p-3 bg-green-50 rounded-full`,children:(0,P.jsx)(xa,{className:`h-6 w-6 text-green-500`})})}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-slate-900`,children:`Tudo em dia!`}),(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground mt-1`,children:`Nenhuma pendncia de colaborador.`})]}):h.map((e,t)=>(0,P.jsxs)(`div`,{onClick:()=>o(e.path),className:R(`flex items-center justify-between p-4 rounded-lg border shadow-sm cursor-pointer transition-all hover:scale-[1.01]`,e.status.bg,e.status.border),children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:R(`p-2 rounded-full bg-white/80`,e.status.color),children:(0,P.jsx)(e.icon,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h4`,{className:R(`font-bold text-sm`,e.status.color),children:e.message}),(0,P.jsxs)(`div`,{className:`flex flex-wrap items-center gap-1 md:gap-2 mt-0.5`,children:[(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs font-semibold uppercase tracking-wider opacity-75`,children:e.type}),(0,P.jsx)(`span`,{className:`text-[10px] opacity-50`,children:``}),(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs opacity-75`,children:_(e.date,e.status.severity)})]})]})]}),(0,P.jsx)(`div`,{className:`hidden sm:flex flex-col items-end gap-1 shrink-0`,children:(0,P.jsx)(WE,{className:R(`uppercase text-[10px] font-bold border-none bg-white/50 hover:bg-white`,e.status.color),children:e.status.label})})]},t))})]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsx)(`div`,{className:`flex items-center justify-between`,children:(0,P.jsxs)(`h2`,{className:`text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2`,children:[(0,P.jsx)(Aa,{className:`h-5 w-5 text-green-600`}),` Alertas de Contas`]})}),(0,P.jsx)(`div`,{className:`space-y-3`,children:g.length===0?(0,P.jsxs)(`div`,{className:`bg-white dark:bg-slate-800 p-8 rounded-lg shadow-sm text-center border border-dashed`,children:[(0,P.jsx)(`div`,{className:`flex justify-center mb-2`,children:(0,P.jsx)(`div`,{className:`p-3 bg-green-50 rounded-full`,children:(0,P.jsx)(xa,{className:`h-6 w-6 text-green-500`})})}),(0,P.jsx)(`p`,{className:`text-sm font-medium text-slate-900`,children:`Tudo em dia!`}),(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground mt-1`,children:`Nenhuma conta pendente.`})]}):g.slice(0,10).map((e,t)=>(0,P.jsxs)(`div`,{onClick:()=>o(e.path),className:R(`flex items-center justify-between p-4 rounded-lg border shadow-sm cursor-pointer transition-all hover:scale-[1.01]`,e.status.bg,e.status.border,e.status.color),children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:R(`p-2 rounded-full bg-white/80`,e.status.color),children:(0,P.jsx)(e.icon,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h4`,{className:R(`font-bold text-sm`,e.status.color),children:e.message}),(0,P.jsxs)(`div`,{className:`flex flex-wrap items-center gap-1 md:gap-2 mt-0.5`,children:[(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs font-semibold uppercase tracking-wider opacity-75`,children:e.type}),(0,P.jsx)(`span`,{className:`text-[10px] opacity-50`,children:``}),(0,P.jsx)(`span`,{className:`text-[10px] md:text-xs opacity-75`,children:_(e.date,e.status.severity)})]})]})]}),(0,P.jsx)(`div`,{className:`hidden sm:flex flex-col items-end gap-1 shrink-0`,children:(0,P.jsx)(WE,{className:R(`uppercase text-[10px] font-bold border-none bg-white/50 hover:bg-white`,e.status.color),children:e.status.label})})]},t))})]})]})]})}function KE({value:e,onChange:t,className:n,...r}){let i=e=>e.toLocaleString(`pt-BR`,{minimumFractionDigits:2,maximumFractionDigits:2}),[a,o]=S.useState(i(e||0));S.useEffect(()=>{o(i(e||0))},[e]);let s=e=>{let n=e.target.value.replace(/\D/g,``),r=n?Number(n)/100:0;o(i(r)),t(r)};return(0,P.jsx)(V,{...r,className:R(`text-right font-mono`,n),value:a,onChange:s,placeholder:`0,00`})}var qE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`div`,{className:`relative w-full overflow-auto`,children:(0,P.jsx)(`table`,{ref:n,className:R(`w-full caption-bottom text-sm`,e),...t})}));qE.displayName=`Table`;var JE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`thead`,{ref:n,className:R(`[&_tr]:border-b`,e),...t}));JE.displayName=`TableHeader`;var YE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`tbody`,{ref:n,className:R(`[&_tr:last-child]:border-0`,e),...t}));YE.displayName=`TableBody`;var XE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`tfoot`,{ref:n,className:R(`border-t bg-muted/50 font-medium [&>tr]:last:border-b-0`,e),...t}));XE.displayName=`TableFooter`;var Y=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`tr`,{ref:n,className:R(`border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted`,e),...t}));Y.displayName=`TableRow`;var X=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`th`,{ref:n,className:R(`h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0`,e),...t}));X.displayName=`TableHead`;var Z=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`td`,{ref:n,className:R(`p-4 align-middle [&:has([role=checkbox])]:pr-0`,e),...t}));Z.displayName=`TableCell`;var ZE=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`caption`,{ref:n,className:R(`mt-4 text-sm text-muted-foreground`,e),...t}));ZE.displayName=`TableCaption`;var QE=hg,$E=gg,eD=_g,tD=Sg,nD=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(vg,{ref:n,className:R(`fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,e),...t}));nD.displayName=vg.displayName;var rD=S.forwardRef(({className:e,children:t,...n},r)=>(0,P.jsxs)(eD,{children:[(0,P.jsx)(nD,{}),(0,P.jsxs)(yg,{ref:r,className:R(`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg overflow-y-auto max-h-screen`,e),...n,children:[t,(0,P.jsxs)(Sg,{className:`absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground`,children:[(0,P.jsx)(L,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Close`})]})]})]}));rD.displayName=yg.displayName;var iD=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col space-y-1.5 text-center sm:text-left`,e),...t});iD.displayName=`DialogHeader`;var aD=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2`,e),...t});aD.displayName=`DialogFooter`;var oD=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(bg,{ref:n,className:R(`text-lg font-semibold leading-none tracking-tight`,e),...t}));oD.displayName=bg.displayName;var sD=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(xg,{ref:n,className:R(`text-sm text-muted-foreground`,e),...t}));sD.displayName=xg.displayName;function cD(e,[t,n]){return Math.min(n,Math.max(t,e))}function lD(e){let t=S.useRef({value:e,previous:e});return S.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uD=l(h(),1),dD=[` `,`Enter`,`ArrowUp`,`ArrowDown`],fD=[` `,`Enter`],pD=`Select`,[mD,hD,gD]=hr(pD),[_D,vD]=or(pD,[gD,bf]),yD=bf(),[bD,xD]=_D(pD),[SD,CD]=_D(pD),wD=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:f,required:p,form:m}=e,h=yD(t),[g,_]=S.useState(null),[v,y]=S.useState(null),[b,x]=S.useState(!1),C=RS(l),[w,T]=Wr({prop:r,defaultProp:i??!1,onChange:a,caller:pD}),[E,D]=Wr({prop:o,defaultProp:s,onChange:c,caller:pD}),O=S.useRef(null),k=g?m||!!g.closest(`form`):!0,[A,ee]=S.useState(new Set),te=Array.from(A).map(e=>e.props.value).join(`;`);return(0,P.jsx)(If,{...h,children:(0,P.jsxs)(bD,{required:p,scope:t,trigger:g,onTriggerChange:_,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:x,contentId:z(),value:E,onValueChange:D,open:w,onOpenChange:T,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[(0,P.jsx)(mD.Provider,{scope:t,children:(0,P.jsx)(SD,{scope:e.__scopeSelect,onNativeOptionAdd:S.useCallback(e=>{ee(t=>new Set(t).add(e))},[]),onNativeOptionRemove:S.useCallback(e=>{ee(t=>{let n=new Set(t);return n.delete(e),n})},[]),children:n})}),k?(0,P.jsxs)(yO,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:d,value:E,onChange:e=>D(e.target.value),disabled:f,form:m,children:[E===void 0?(0,P.jsx)(`option`,{value:``}):null,Array.from(A)]},te):null]})})};wD.displayName=pD;var TD=`SelectTrigger`,ED=S.forwardRef((e,t)=>{let{__scopeSelect:n,disabled:r=!1,...i}=e,a=yD(n),o=xD(TD,n),s=o.disabled||r,c=rr(t,o.onTriggerChange),l=hD(n),u=S.useRef(`touch`),[d,f,p]=xO(e=>{let t=l().filter(e=>!e.disabled),n=SO(t,e,t.find(e=>e.value===o.value));n!==void 0&&o.onValueChange(n.value)}),m=e=>{s||(o.onOpenChange(!0),p()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,P.jsx)(Lf,{asChild:!0,...a,children:(0,P.jsx)(F.button,{type:`button`,role:`combobox`,"aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":`none`,dir:o.dir,"data-state":o.open?`open`:`closed`,disabled:s,"data-disabled":s?``:void 0,"data-placeholder":bO(o.value)?``:void 0,...i,ref:c,onClick:N(i.onClick,e=>{e.currentTarget.focus(),u.current!==`mouse`&&m(e)}),onPointerDown:N(i.onPointerDown,e=>{u.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),e.button===0&&e.ctrlKey===!1&&e.pointerType===`mouse`&&(m(e),e.preventDefault())}),onKeyDown:N(i.onKeyDown,e=>{let t=d.current!==``;!(e.ctrlKey||e.altKey||e.metaKey)&&e.key.length===1&&f(e.key),!(t&&e.key===` `)&&dD.includes(e.key)&&(m(),e.preventDefault())})})})});ED.displayName=TD;var DD=`SelectValue`,OD=S.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:i,children:a,placeholder:o=``,...s}=e,c=xD(DD,n),{onValueNodeHasChildrenChange:l}=c,u=a!==void 0,d=rr(t,c.onValueNodeChange);return Pr(()=>{l(u)},[l,u]),(0,P.jsx)(F.span,{...s,ref:d,style:{pointerEvents:`none`},children:bO(c.value)?(0,P.jsx)(P.Fragment,{children:o}):a})});OD.displayName=DD;var kD=`SelectIcon`,AD=S.forwardRef((e,t)=>{let{__scopeSelect:n,children:r,...i}=e;return(0,P.jsx)(F.span,{"aria-hidden":!0,...i,ref:t,children:r||``})});AD.displayName=kD;var jD=`SelectPortal`,MD=e=>(0,P.jsx)(Lr,{asChild:!0,...e});MD.displayName=jD;var ND=`SelectContent`,PD=S.forwardRef((e,t)=>{let n=xD(ND,e.__scopeSelect),[r,i]=S.useState();if(Pr(()=>{i(new DocumentFragment)},[]),!n.open){let t=r;return t?uD.createPortal((0,P.jsx)(ID,{scope:e.__scopeSelect,children:(0,P.jsx)(mD.Slot,{scope:e.__scopeSelect,children:(0,P.jsx)(`div`,{children:e.children})})}),t):null}return(0,P.jsx)(BD,{...e,ref:t})});PD.displayName=ND;var FD=10,[ID,LD]=_D(ND),RD=`SelectContentImpl`,zD=cr(`SelectContent.RemoveScroll`),BD=S.forwardRef((e,t)=>{let{__scopeSelect:n,position:r=`item-aligned`,onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:h,avoidCollisions:g,..._}=e,v=xD(ND,n),[y,b]=S.useState(null),[x,C]=S.useState(null),w=rr(t,e=>b(e)),[T,E]=S.useState(null),[D,O]=S.useState(null),k=hD(n),[A,ee]=S.useState(!1),te=S.useRef(!1);S.useEffect(()=>{if(y)return Ph(y)},[y]),pm();let ne=S.useCallback(e=>{let[t,...n]=k().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(let n of e)if(n===i||(n?.scrollIntoView({block:`nearest`}),n===t&&x&&(x.scrollTop=0),n===r&&x&&(x.scrollTop=x.scrollHeight),n?.focus(),document.activeElement!==i))return},[k,x]),re=S.useCallback(()=>ne([T,y]),[ne,T,y]);S.useEffect(()=>{A&&re()},[A,re]);let{onOpenChange:ie,triggerPointerDownPosRef:j}=v;S.useEffect(()=>{if(y){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(j.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(j.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():y.contains(n.target)||ie(!1),document.removeEventListener(`pointermove`,t),j.current=null};return j.current!==null&&(document.addEventListener(`pointermove`,t),document.addEventListener(`pointerup`,n,{capture:!0,once:!0})),()=>{document.removeEventListener(`pointermove`,t),document.removeEventListener(`pointerup`,n,{capture:!0})}}},[y,ie,j]),S.useEffect(()=>{let e=()=>ie(!1);return window.addEventListener(`blur`,e),window.addEventListener(`resize`,e),()=>{window.removeEventListener(`blur`,e),window.removeEventListener(`resize`,e)}},[ie]);let[M,ae]=xO(e=>{let t=k().filter(e=>!e.disabled),n=SO(t,e,t.find(e=>e.ref.current===document.activeElement));n&&setTimeout(()=>n.ref.current.focus())}),oe=S.useCallback((e,t,n)=>{let r=!te.current&&!n;(v.value!==void 0&&v.value===t||r)&&(E(e),r&&(te.current=!0))},[v.value]),se=S.useCallback(()=>y?.focus(),[y]),ce=S.useCallback((e,t,n)=>{let r=!te.current&&!n;(v.value!==void 0&&v.value===t||r)&&O(e)},[v.value]),le=r===`popper`?WD:HD,ue=le===WD?{side:s,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:h,avoidCollisions:g}:{};return(0,P.jsx)(ID,{scope:n,content:y,viewport:x,onViewportChange:C,itemRefCallback:oe,selectedItem:T,onItemLeave:se,itemTextRefCallback:ce,focusSelectedItem:re,selectedItemText:D,position:r,isPositioned:A,searchRef:M,children:(0,P.jsx)(Th,{as:zD,allowPinchZoom:!0,children:(0,P.jsx)(em,{asChild:!0,trapped:v.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:N(i,e=>{v.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,P.jsx)(Tr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:(0,P.jsx)(le,{role:`listbox`,id:v.contentId,"data-state":v.open?`open`:`closed`,dir:v.dir,onContextMenu:e=>e.preventDefault(),..._,...ue,onPlaced:()=>ee(!0),ref:w,style:{display:`flex`,flexDirection:`column`,outline:`none`,..._.style},onKeyDown:N(_.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if(e.key===`Tab`&&e.preventDefault(),!t&&e.key.length===1&&ae(e.key),[`ArrowUp`,`ArrowDown`,`Home`,`End`].includes(e.key)){let t=k().filter(e=>!e.disabled).map(e=>e.ref.current);if([`ArrowUp`,`End`].includes(e.key)&&(t=t.slice().reverse()),[`ArrowUp`,`ArrowDown`].includes(e.key)){let n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout(()=>ne(t)),e.preventDefault()}})})})})})})});BD.displayName=RD;var VD=`SelectItemAlignedPosition`,HD=S.forwardRef((e,t)=>{let{__scopeSelect:n,onPlaced:r,...i}=e,a=xD(ND,n),o=LD(ND,n),[s,c]=S.useState(null),[l,u]=S.useState(null),d=rr(t,e=>u(e)),f=hD(n),p=S.useRef(!1),m=S.useRef(!0),{viewport:h,selectedItem:g,selectedItemText:_,focusSelectedItem:v}=o,y=S.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&l&&h&&g&&_){let e=a.trigger.getBoundingClientRect(),t=l.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),i=_.getBoundingClientRect();if(a.dir!==`rtl`){let r=i.left-t.left,a=n.left-r,o=e.left-a,c=e.width+o,l=Math.max(c,t.width),u=window.innerWidth-FD,d=cD(a,[FD,Math.max(FD,u-l)]);s.style.minWidth=c+`px`,s.style.left=d+`px`}else{let r=t.right-i.right,a=window.innerWidth-n.right-r,o=window.innerWidth-e.right-a,c=e.width+o,l=Math.max(c,t.width),u=window.innerWidth-FD,d=cD(a,[FD,Math.max(FD,u-l)]);s.style.minWidth=c+`px`,s.style.right=d+`px`}let o=f(),c=window.innerHeight-FD*2,u=h.scrollHeight,d=window.getComputedStyle(l),m=parseInt(d.borderTopWidth,10),v=parseInt(d.paddingTop,10),y=parseInt(d.borderBottomWidth,10),b=parseInt(d.paddingBottom,10),x=m+v+u+b+y,S=Math.min(g.offsetHeight*5,x),C=window.getComputedStyle(h),w=parseInt(C.paddingTop,10),T=parseInt(C.paddingBottom,10),E=e.top+e.height/2-FD,D=c-E,O=g.offsetHeight/2,k=g.offsetTop+O,A=m+v+k,ee=x-A;if(A<=E){let e=o.length>0&&g===o[o.length-1].ref.current;s.style.bottom=`0px`;let t=l.clientHeight-h.offsetTop-h.offsetHeight,n=A+Math.max(D,O+(e?T:0)+t+y);s.style.height=n+`px`}else{let e=o.length>0&&g===o[0].ref.current;s.style.top=`0px`;let t=Math.max(E,m+h.offsetTop+(e?w:0)+O)+ee;s.style.height=t+`px`,h.scrollTop=A-E+h.offsetTop}s.style.margin=`${FD}px 0`,s.style.minHeight=S+`px`,s.style.maxHeight=c+`px`,r?.(),requestAnimationFrame(()=>p.current=!0)}},[f,a.trigger,a.valueNode,s,l,h,g,_,a.dir,r]);Pr(()=>y(),[y]);let[b,x]=S.useState();return Pr(()=>{l&&x(window.getComputedStyle(l).zIndex)},[l]),(0,P.jsx)(GD,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:p,onScrollButtonChange:S.useCallback(e=>{e&&m.current===!0&&(y(),v?.(),m.current=!1)},[y,v]),children:(0,P.jsx)(`div`,{ref:c,style:{display:`flex`,flexDirection:`column`,position:`fixed`,zIndex:b},children:(0,P.jsx)(F.div,{...i,ref:d,style:{boxSizing:`border-box`,maxHeight:`100%`,...i.style}})})})});HD.displayName=VD;var UD=`SelectPopperPosition`,WD=S.forwardRef((e,t)=>{let{__scopeSelect:n,align:r=`start`,collisionPadding:i=FD,...a}=e,o=yD(n);return(0,P.jsx)(Rf,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:`border-box`,...a.style,"--radix-select-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-select-content-available-width":`var(--radix-popper-available-width)`,"--radix-select-content-available-height":`var(--radix-popper-available-height)`,"--radix-select-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-select-trigger-height":`var(--radix-popper-anchor-height)`}})});WD.displayName=UD;var[GD,KD]=_D(ND,{}),qD=`SelectViewport`,JD=S.forwardRef((e,t)=>{let{__scopeSelect:n,nonce:r,...i}=e,a=LD(qD,n),o=KD(qD,n),s=rr(t,a.onViewportChange),c=S.useRef(0);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(`style`,{dangerouslySetInnerHTML:{__html:`[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`},nonce:r}),(0,P.jsx)(mD.Slot,{scope:n,children:(0,P.jsx)(F.div,{"data-radix-select-viewport":``,role:`presentation`,...i,ref:s,style:{position:`relative`,flex:1,overflow:`hidden auto`,...i.style},onScroll:N(i.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=o;if(r?.current&&n){let e=Math.abs(c.current-t.scrollTop);if(e>0){let r=window.innerHeight-FD*2,i=parseFloat(n.style.minHeight),a=parseFloat(n.style.height),o=Math.max(i,a);if(o<r){let i=o+e,a=Math.min(r,i),s=i-a;n.style.height=a+`px`,n.style.bottom===`0px`&&(t.scrollTop=s>0?s:0,n.style.justifyContent=`flex-end`)}}}c.current=t.scrollTop})})})]})});JD.displayName=qD;var YD=`SelectGroup`,[XD,ZD]=_D(YD),QD=S.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=z();return(0,P.jsx)(XD,{scope:n,id:i,children:(0,P.jsx)(F.div,{role:`group`,"aria-labelledby":i,...r,ref:t})})});QD.displayName=YD;var $D=`SelectLabel`,eO=S.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=ZD($D,n);return(0,P.jsx)(F.div,{id:i.id,...r,ref:t})});eO.displayName=$D;var tO=`SelectItem`,[nO,rO]=_D(tO),iO=S.forwardRef((e,t)=>{let{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=xD(tO,n),c=LD(tO,n),l=s.value===r,[u,d]=S.useState(a??``),[f,p]=S.useState(!1),m=rr(t,e=>c.itemRefCallback?.(e,r,i)),h=z(),g=S.useRef(`touch`),_=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};if(r===``)throw Error(`A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.`);return(0,P.jsx)(nO,{scope:n,value:r,disabled:i,textId:h,isSelected:l,onItemTextChange:S.useCallback(e=>{d(t=>t||(e?.textContent??``).trim())},[]),children:(0,P.jsx)(mD.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:(0,P.jsx)(F.div,{role:`option`,"aria-labelledby":h,"data-highlighted":f?``:void 0,"aria-selected":l&&f,"data-state":l?`checked`:`unchecked`,"aria-disabled":i||void 0,"data-disabled":i?``:void 0,tabIndex:i?void 0:-1,...o,ref:m,onFocus:N(o.onFocus,()=>p(!0)),onBlur:N(o.onBlur,()=>p(!1)),onClick:N(o.onClick,()=>{g.current!==`mouse`&&_()}),onPointerUp:N(o.onPointerUp,()=>{g.current===`mouse`&&_()}),onPointerDown:N(o.onPointerDown,e=>{g.current=e.pointerType}),onPointerMove:N(o.onPointerMove,e=>{g.current=e.pointerType,i?c.onItemLeave?.():g.current===`mouse`&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:N(o.onKeyDown,e=>{c.searchRef?.current!==``&&e.key===` `||(fD.includes(e.key)&&_(),e.key===` `&&e.preventDefault())})})})})});iO.displayName=tO;var aO=`SelectItemText`,oO=S.forwardRef((e,t)=>{let{__scopeSelect:n,className:r,style:i,...a}=e,o=xD(aO,n),s=LD(aO,n),c=rO(aO,n),l=CD(aO,n),[u,d]=S.useState(null),f=rr(t,e=>d(e),c.onItemTextChange,e=>s.itemTextRefCallback?.(e,c.value,c.disabled)),p=u?.textContent,m=S.useMemo(()=>(0,P.jsx)(`option`,{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:h,onNativeOptionRemove:g}=l;return Pr(()=>(h(m),()=>g(m)),[h,g,m]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(F.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?uD.createPortal(a.children,o.valueNode):null]})});oO.displayName=aO;var sO=`SelectItemIndicator`,cO=S.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return rO(sO,n).isSelected?(0,P.jsx)(F.span,{"aria-hidden":!0,...r,ref:t}):null});cO.displayName=sO;var lO=`SelectScrollUpButton`,uO=S.forwardRef((e,t)=>{let n=LD(lO,e.__scopeSelect),r=KD(lO,e.__scopeSelect),[i,a]=S.useState(!1),o=rr(t,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let e=function(){a(t.scrollTop>0)},t=n.viewport;return e(),t.addEventListener(`scroll`,e),()=>t.removeEventListener(`scroll`,e)}},[n.viewport,n.isPositioned]),i?(0,P.jsx)(pO,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop-=t.offsetHeight)}}):null});uO.displayName=lO;var dO=`SelectScrollDownButton`,fO=S.forwardRef((e,t)=>{let n=LD(dO,e.__scopeSelect),r=KD(dO,e.__scopeSelect),[i,a]=S.useState(!1),o=rr(t,r.onScrollButtonChange);return Pr(()=>{if(n.viewport&&n.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;a(Math.ceil(t.scrollTop)<e)},t=n.viewport;return e(),t.addEventListener(`scroll`,e),()=>t.removeEventListener(`scroll`,e)}},[n.viewport,n.isPositioned]),i?(0,P.jsx)(pO,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop+=t.offsetHeight)}}):null});fO.displayName=dO;var pO=S.forwardRef((e,t)=>{let{__scopeSelect:n,onAutoScroll:r,...i}=e,a=LD(`SelectScrollButton`,n),o=S.useRef(null),s=hD(n),c=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>c(),[c]),Pr(()=>{s().find(e=>e.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:`nearest`})},[s]),(0,P.jsx)(F.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:N(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:N(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:N(i.onPointerLeave,()=>{c()})})}),mO=`SelectSeparator`,hO=S.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e;return(0,P.jsx)(F.div,{"aria-hidden":!0,...r,ref:t})});hO.displayName=mO;var gO=`SelectArrow`,_O=S.forwardRef((e,t)=>{let{__scopeSelect:n,...r}=e,i=yD(n),a=xD(gO,n),o=LD(gO,n);return a.open&&o.position===`popper`?(0,P.jsx)(zf,{...i,...r,ref:t}):null});_O.displayName=gO;var vO=`SelectBubbleInput`,yO=S.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{let i=S.useRef(null),a=rr(r,i),o=lD(t);return S.useEffect(()=>{let e=i.current;if(!e)return;let n=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(n,`value`).set;if(o!==t&&r){let n=new Event(`change`,{bubbles:!0});r.call(e,t),e.dispatchEvent(n)}},[o,t]),(0,P.jsx)(F.select,{...n,style:{...qr,...n.style},ref:a,defaultValue:t})});yO.displayName=vO;function bO(e){return e===``||e===void 0}function xO(e){let t=_r(e),n=S.useRef(``),r=S.useRef(0),i=S.useCallback(e=>{let i=n.current+e;t(i),(function e(t){n.current=t,window.clearTimeout(r.current),t!==``&&(r.current=window.setTimeout(()=>e(``),1e3))})(i)},[t]),a=S.useCallback(()=>{n.current=``,window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function SO(e,t,n){let r=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=n?e.indexOf(n):-1,a=CO(e,Math.max(i,0));r.length===1&&(a=a.filter(e=>e!==n));let o=a.find(e=>e.textValue.toLowerCase().startsWith(r.toLowerCase()));return o===n?void 0:o}function CO(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var wO=wD,TO=ED,EO=OD,DO=AD,OO=MD,kO=PD,AO=JD,jO=eO,MO=iO,NO=oO,PO=cO,FO=uO,IO=fO,LO=hO,RO=wO,zO=EO,BO=S.forwardRef(({className:e,children:t,...n},r)=>(0,P.jsxs)(TO,{ref:r,className:R(`flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1`,e),...n,children:[t,(0,P.jsx)(DO,{asChild:!0,children:(0,P.jsx)(_a,{className:`h-4 w-4 opacity-50`})})]}));BO.displayName=TO.displayName;var VO=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(FO,{ref:n,className:R(`flex cursor-default items-center justify-center py-1`,e),...t,children:(0,P.jsx)(ba,{className:`h-4 w-4`})}));VO.displayName=FO.displayName;var HO=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(IO,{ref:n,className:R(`flex cursor-default items-center justify-center py-1`,e),...t,children:(0,P.jsx)(_a,{className:`h-4 w-4`})}));HO.displayName=IO.displayName;var UO=S.forwardRef(({className:e,children:t,position:n=`popper`,...r},i)=>(0,P.jsx)(OO,{children:(0,P.jsxs)(kO,{ref:i,className:R(`relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]`,n===`popper`&&`data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1`,e),position:n,...r,children:[(0,P.jsx)(VO,{}),(0,P.jsx)(AO,{className:R(`p-1`,n===`popper`&&`h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]`),children:t}),(0,P.jsx)(HO,{})]})}));UO.displayName=kO.displayName;var WO=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(jO,{ref:n,className:R(`py-1.5 pl-8 pr-2 text-sm font-semibold`,e),...t}));WO.displayName=jO.displayName;var Q=S.forwardRef(({className:e,children:t,...n},r)=>(0,P.jsxs)(MO,{ref:r,className:R(`relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50`,e),...n,children:[(0,P.jsx)(`span`,{className:`absolute left-2 flex h-3.5 w-3.5 items-center justify-center`,children:(0,P.jsx)(PO,{children:(0,P.jsx)(ga,{className:`h-4 w-4`})})}),(0,P.jsx)(NO,{children:t})]}));Q.displayName=MO.displayName;var GO=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(LO,{ref:n,className:R(`-mx-1 my-1 h-px bg-muted`,e),...t}));GO.displayName=LO.displayName;function KO(){let{bills:e,addBill:t,updateBill:n,deleteBill:r,projects:i,fetchBills:a}=PS(),{toast:o}=$n(),[s,c]=(0,S.useState)([]),[l,u]=(0,S.useState)(``),[d,f]=(0,S.useState)(!1),[p,m]=(0,S.useState)(`all`),[h,g]=(0,S.useState)(``),[_,v]=(0,S.useState)({from:``,to:``}),[y,b]=(0,S.useState)(!1),[x,C]=(0,S.useState)({open:!1,id:null}),[w,T]=(0,S.useState)({open:!1,bill:null}),[E,D]=(0,S.useState)(Ic(new Date,`yyyy-MM-dd`)),[O,k]=(0,S.useState)({description:``,amount:0,status:`pending`,origin:`manual`,category:`Geral`}),A=e.filter(e=>{let t=p===`all`||e.status===p,n=e.description.toLowerCase().includes(h.toLowerCase()),r=!0;return _.from&&_.to&&(r=Gc(new Date(e.dueDate),{start:Ds(new Date(_.from)),end:Bs(new Date(_.to))})),t&&n&&r}).sort((e,t)=>new Date(e.dueDate).getTime()-new Date(t.dueDate).getTime());(0,S.useEffect)(()=>{ee()},[]);let ee=async()=>{try{let{data:e,error:t}=await G.from(`categorias_conta_pagar`).select(`nome`).order(`nome`);if(t)throw t;c(e?.map(e=>e.nome)||[])}catch(e){console.error(`Error fetching categories:`,e),o({title:`Erro`,description:`Falha ao carregar categorias.`,variant:`destructive`})}},te=async()=>{if(!l.trim()){o({title:`Erro`,description:`Digite um nome para a categoria.`,variant:`destructive`});return}try{let{error:e}=await G.from(`categorias_conta_pagar`).insert({nome:l.trim()});if(e)throw e;o({title:`Sucesso`,description:`Categoria criada com sucesso.`}),u(``),f(!1),await ee()}catch(e){console.error(`Error creating category:`,e),o({title:`Erro`,description:`Falha ao criar categoria: ${e.message}`,variant:`destructive`})}},ne=async t=>{let n=e.filter(e=>e.category===t);if(n.length>0){o({title:`No  possvel excluir`,description:`Existem ${n.length} conta(s) usando esta categoria.`,variant:`destructive`});return}if(confirm(`Tem certeza que deseja excluir a categoria "${t}"?`))try{let{error:e}=await G.from(`categorias_conta_pagar`).delete().eq(`nome`,t);if(e)throw e;o({title:`Sucesso`,description:`Categoria excluda com sucesso.`}),await ee()}catch(e){console.error(`Error deleting category:`,e),o({title:`Erro`,description:`Falha ao excluir categoria: ${e.message}`,variant:`destructive`})}},re=()=>{!O.description||!O.amount||!O.dueDate||(t({...O,id:crypto.randomUUID(),status:`pending`,origin:`manual`}),b(!1),k({description:``,amount:0,origin:`manual`,category:`Geral`}),o({title:`Sucesso`,description:`Boleto adicionado com sucesso.`}))},ie=async()=>{if(x.id){if(!E){o({title:`Erro`,description:`Por favor, selecione a data do pagamento.`,variant:`destructive`});return}try{console.log(`Confirming payment for bill:`,x.id),console.log(`Payment date:`,E),await n(x.id,{status:`paid`,paidDate:new Date(E)}),await a(),o({title:`Pago`,description:`Pagamento registrado com sucesso.`}),C({open:!1,id:null}),D(Ic(new Date,`yyyy-MM-dd`))}catch(e){console.error(`Error confirming payment:`,e),o({title:`Erro`,description:`Falha ao registrar pagamento: ${e.message}`,variant:`destructive`})}}},j=async()=>{if(w.bill){if(!w.bill.description||!w.bill.amount||!w.bill.dueDate){o({title:`Erro`,description:`Por favor, preencha todos os campos obrigatrios.`,variant:`destructive`});return}try{console.log(`Saving edited bill:`,w.bill),await n(w.bill.id,w.bill),await a(),o({title:`Sucesso`,description:`Conta atualizada com sucesso.`}),T({open:!1,bill:null})}catch(e){console.error(`Error saving edited bill:`,e),o({title:`Erro`,description:`Falha ao atualizar conta: ${e.message}`,variant:`destructive`})}}},M=async e=>{try{await r(e),o({title:`Removido`,description:`Boleto removido.`})}catch(e){console.error(`Error deleting bill:`,e),o({title:`Erro`,description:`Falha ao excluir boleto: ${e.message}`,variant:`destructive`})}};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Contas a Pagar`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto financeira e boletos`})]}),(0,P.jsxs)(QE,{open:y,onOpenChange:b,children:[(0,P.jsx)($E,{asChild:!0,children:(0,P.jsxs)(B,{children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Lanamento`]})}),(0,P.jsxs)(rD,{children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:`Novo Lanamento`})}),(0,P.jsxs)(`div`,{className:`space-y-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Descrio`}),(0,P.jsx)(V,{value:O.description,onChange:e=>k({...O,description:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Valor (R$)`}),(0,P.jsx)(KE,{value:O.amount||0,onChange:e=>k({...O,amount:e})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Vencimento`}),(0,P.jsx)(V,{type:`date`,onChange:e=>k({...O,dueDate:new Date(e.target.value)})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Categoria`}),(0,P.jsxs)(RO,{value:O.category,onValueChange:e=>k({...O,category:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione`})}),(0,P.jsxs)(UO,{children:[s.map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between group`,children:[(0,P.jsx)(Q,{value:e,className:`flex-1`,children:e}),(0,P.jsx)(B,{variant:`ghost`,size:`sm`,className:`h-6 w-6 p-0 opacity-0 group-hover:opacity-100 mr-2`,onClick:t=>{t.stopPropagation(),ne(e)},children:(0,P.jsx)(so,{className:`h-3 w-3 text-destructive`})})]},e)),(0,P.jsx)(`div`,{className:`border-t mt-2 pt-2 px-2`,children:d?(0,P.jsxs)(`div`,{className:`flex gap-2`,children:[(0,P.jsx)(V,{placeholder:`Nome da categoria`,value:l,onChange:e=>u(e.target.value),onKeyDown:e=>{e.key===`Enter`&&te(),e.key===`Escape`&&(f(!1),u(``))},autoFocus:!0}),(0,P.jsx)(B,{size:`sm`,onClick:te,children:`OK`})]}):(0,P.jsxs)(B,{variant:`ghost`,size:`sm`,className:`w-full justify-start`,onClick:()=>f(!0),children:[(0,P.jsx)($a,{className:`h-4 w-4 mr-2`}),`Nova Categoria`]})})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Obra (Opcional)`}),(0,P.jsxs)(RO,{onValueChange:e=>k({...O,projectId:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsx)(UO,{children:i.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Arquivo (Boleto/Fatura)`}),(0,P.jsx)(V,{type:`file`})]}),(0,P.jsx)(B,{onClick:re,className:`w-full`,children:`Salvar`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por descrio...`,className:`pl-9 bg-background`,value:h,onChange:e=>g(e.target.value)})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{type:`date`,className:`w-40 bg-background`,value:_.from,onChange:e=>v({..._,from:e.target.value})}),(0,P.jsx)(`span`,{className:`text-muted-foreground`,children:`at`}),(0,P.jsx)(V,{type:`date`,className:`w-40 bg-background`,value:_.to,onChange:e=>v({..._,to:e.target.value})})]}),(0,P.jsxs)(RO,{value:p,onValueChange:m,children:[(0,P.jsx)(BO,{className:`w-[180px] bg-background`,children:(0,P.jsx)(zO,{placeholder:`Status`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos`}),(0,P.jsx)(Q,{value:`pending`,children:`Pendentes`}),(0,P.jsx)(Q,{value:`paid`,children:`Pagos`}),(0,P.jsx)(Q,{value:`overdue`,children:`Vencidos`})]})]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-white dark:bg-card shadow-sm`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Descrio`}),(0,P.jsx)(X,{children:`Categoria`}),(0,P.jsx)(X,{children:`Vencimento`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:A.map(e=>{let t=Zc(new Date(e.dueDate));return(0,P.jsxs)(Y,{className:`group`,children:[(0,P.jsx)(Z,{className:`font-medium`,children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{children:e.description}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2 mt-1`,children:[e.origin===`alojamento`&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(WE,{variant:`secondary`,className:`text-[10px] gap-1 px-1 py-0 h-5`,children:[(0,P.jsx)(za,{className:`h-3 w-3`}),` Auto`]}),e.accommodationName&&(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground`,children:e.accommodationName})]}),e.projectId&&(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground`,children:i.find(t=>t.id===e.projectId)?.name})]})]})}),(0,P.jsx)(Z,{children:e.category||`Geral`}),(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{children:Ic(new Date(e.dueDate),`dd/MM/yyyy`)}),e.status!==`paid`&&t.severity!==`ok`&&(0,P.jsx)(`span`,{className:`text-[10px] font-bold ${t.color}`,children:t.label})]})}),(0,P.jsxs)(Z,{className:`font-bold`,children:[`R$`,` `,e.amount.toLocaleString(`pt-BR`,{minimumFractionDigits:2})]}),(0,P.jsx)(Z,{children:(0,P.jsx)(WE,{variant:e.status===`paid`?`default`:e.status===`overdue`?`destructive`:`outline`,className:e.status===`paid`?`bg-success hover:bg-success/80`:``,children:e.status===`paid`?`Pago`:e.status===`overdue`?`Vencido`:`Pendente`})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>T({open:!0,bill:e}),title:`Editar`,className:`hover:text-primary`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),e.status!==`paid`&&(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>C({open:!0,id:e.id}),title:`Marcar como Pago`,className:`hover:text-success`,children:(0,P.jsx)(Sa,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>M(e.id),title:`Excluir`,className:`hover:text-destructive`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id)})})]})}),(0,P.jsx)(QE,{open:x.open,onOpenChange:e=>C({...x,open:e}),children:(0,P.jsxs)(rD,{children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:`Confirmar Pagamento`})}),(0,P.jsx)(`div`,{className:`py-4 space-y-4`,children:(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data do Pagamento`}),(0,P.jsx)(V,{type:`date`,value:E,onChange:e=>D(e.target.value)})]})}),(0,P.jsxs)(aD,{children:[(0,P.jsx)(B,{variant:`outline`,onClick:()=>C({open:!1,id:null}),children:`Cancelar`}),(0,P.jsx)(B,{onClick:ie,children:`Confirmar`})]})]})}),(0,P.jsx)(QE,{open:w.open,onOpenChange:e=>T({...w,open:e}),children:(0,P.jsxs)(rD,{className:`max-w-2xl`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:`Editar Conta`})}),w.bill&&(0,P.jsxs)(`div`,{className:`space-y-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Descrio`}),(0,P.jsx)(V,{value:w.bill.description,onChange:e=>T({...w,bill:{...w.bill,description:e.target.value}})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Valor (R$)`}),(0,P.jsx)(KE,{value:w.bill.amount,onChange:e=>T({...w,bill:{...w.bill,amount:e}})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Vencimento`}),(0,P.jsx)(V,{type:`date`,value:Ic(new Date(w.bill.dueDate),`yyyy-MM-dd`),onChange:e=>T({...w,bill:{...w.bill,dueDate:new Date(e.target.value)}})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Categoria`}),(0,P.jsxs)(RO,{value:w.bill.category,onValueChange:e=>T({...w,bill:{...w.bill,category:e}}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione`})}),(0,P.jsxs)(UO,{children:[s.map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between group`,children:[(0,P.jsx)(Q,{value:e,className:`flex-1`,children:e}),(0,P.jsx)(B,{variant:`ghost`,size:`sm`,className:`h-6 w-6 p-0 opacity-0 group-hover:opacity-100 mr-2`,onClick:t=>{t.stopPropagation(),ne(e)},children:(0,P.jsx)(so,{className:`h-3 w-3 text-destructive`})})]},e)),(0,P.jsx)(`div`,{className:`border-t mt-2 pt-2 px-2`,children:d?(0,P.jsxs)(`div`,{className:`flex gap-2`,children:[(0,P.jsx)(V,{placeholder:`Nome da categoria`,value:l,onChange:e=>u(e.target.value),onKeyDown:e=>{e.key===`Enter`&&te(),e.key===`Escape`&&(f(!1),u(``))},autoFocus:!0}),(0,P.jsx)(B,{size:`sm`,onClick:te,children:`OK`})]}):(0,P.jsxs)(B,{variant:`ghost`,size:`sm`,className:`w-full justify-start`,onClick:()=>f(!0),children:[(0,P.jsx)($a,{className:`h-4 w-4 mr-2`}),`Nova Categoria`]})})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Status`}),(0,P.jsxs)(RO,{value:w.bill.status,onValueChange:e=>T({...w,bill:{...w.bill,status:e}}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`pending`,children:`Pendente`}),(0,P.jsx)(Q,{value:`paid`,children:`Pago`}),(0,P.jsx)(Q,{value:`overdue`,children:`Vencido`})]})]})]}),w.bill.status===`paid`&&(0,P.jsx)(P.Fragment,{children:(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data de Pagamento`}),(0,P.jsx)(V,{type:`date`,value:w.bill.paidDate?Ic(new Date(w.bill.paidDate),`yyyy-MM-dd`):``,onChange:e=>T({...w,bill:{...w.bill,paidDate:new Date(e.target.value)}})})]})})]}),(0,P.jsxs)(aD,{children:[(0,P.jsx)(B,{variant:`outline`,onClick:()=>T({open:!1,bill:null}),children:`Cancelar`}),(0,P.jsx)(B,{onClick:j,children:`Salvar`})]})]})})]})}var qO={lessThanXSeconds:{one:`menos de um segundo`,other:`menos de {{count}} segundos`},xSeconds:{one:`1 segundo`,other:`{{count}} segundos`},halfAMinute:`meio minuto`,lessThanXMinutes:{one:`menos de um minuto`,other:`menos de {{count}} minutos`},xMinutes:{one:`1 minuto`,other:`{{count}} minutos`},aboutXHours:{one:`cerca de 1 hora`,other:`cerca de {{count}} horas`},xHours:{one:`1 hora`,other:`{{count}} horas`},xDays:{one:`1 dia`,other:`{{count}} dias`},aboutXWeeks:{one:`cerca de 1 semana`,other:`cerca de {{count}} semanas`},xWeeks:{one:`1 semana`,other:`{{count}} semanas`},aboutXMonths:{one:`cerca de 1 ms`,other:`cerca de {{count}} meses`},xMonths:{one:`1 ms`,other:`{{count}} meses`},aboutXYears:{one:`cerca de 1 ano`,other:`cerca de {{count}} anos`},xYears:{one:`1 ano`,other:`{{count}} anos`},overXYears:{one:`mais de 1 ano`,other:`mais de {{count}} anos`},almostXYears:{one:`quase 1 ano`,other:`quase {{count}} anos`}};const JO=(e,t,n)=>{let r,i=qO[e];return r=typeof i==`string`?i:t===1?i.one:i.other.replace(`{{count}}`,String(t)),n?.addSuffix?n.comparison&&n.comparison>0?`em `+r:`h `+r:r},YO={date:Qs({formats:{full:`EEEE, d 'de' MMMM 'de' y`,long:`d 'de' MMMM 'de' y`,medium:`d MMM y`,short:`dd/MM/yyyy`},defaultWidth:`full`}),time:Qs({formats:{full:`HH:mm:ss zzzz`,long:`HH:mm:ss z`,medium:`HH:mm:ss`,short:`HH:mm`},defaultWidth:`full`}),dateTime:Qs({formats:{full:`{{date}} 's' {{time}}`,long:`{{date}} 's' {{time}}`,medium:`{{date}}, {{time}}`,short:`{{date}}, {{time}}`},defaultWidth:`full`})};var XO={lastWeek:e=>{let t=e.getDay();return`'`+(t===0||t===6?`ltimo`:`ltima`)+`' eeee 's' p`},yesterday:`'ontem s' p`,today:`'hoje s' p`,tomorrow:`'amanh s' p`,nextWeek:`eeee 's' p`,other:`P`};const ZO={code:`pt-BR`,formatDistance:JO,formatLong:YO,formatRelative:(e,t,n,r)=>{let i=XO[e];return typeof i==`function`?i(t):i},localize:{ordinalNumber:(e,t)=>{let n=Number(e);return t?.unit===`week`?n+``:n+``},era:nc({values:{narrow:[`AC`,`DC`],abbreviated:[`AC`,`DC`],wide:[`antes de cristo`,`depois de cristo`]},defaultWidth:`wide`}),quarter:nc({values:{narrow:[`1`,`2`,`3`,`4`],abbreviated:[`T1`,`T2`,`T3`,`T4`],wide:[`1 trimestre`,`2 trimestre`,`3 trimestre`,`4 trimestre`]},defaultWidth:`wide`,argumentCallback:e=>e-1}),month:nc({values:{narrow:[`j`,`f`,`m`,`a`,`m`,`j`,`j`,`a`,`s`,`o`,`n`,`d`],abbreviated:[`jan`,`fev`,`mar`,`abr`,`mai`,`jun`,`jul`,`ago`,`set`,`out`,`nov`,`dez`],wide:[`janeiro`,`fevereiro`,`maro`,`abril`,`maio`,`junho`,`julho`,`agosto`,`setembro`,`outubro`,`novembro`,`dezembro`]},defaultWidth:`wide`}),day:nc({values:{narrow:[`D`,`S`,`T`,`Q`,`Q`,`S`,`S`],short:[`dom`,`seg`,`ter`,`qua`,`qui`,`sex`,`sab`],abbreviated:[`domingo`,`segunda`,`tera`,`quarta`,`quinta`,`sexta`,`sbado`],wide:[`domingo`,`segunda-feira`,`tera-feira`,`quarta-feira`,`quinta-feira`,`sexta-feira`,`sbado`]},defaultWidth:`wide`}),dayPeriod:nc({values:{narrow:{am:`a`,pm:`p`,midnight:`mn`,noon:`md`,morning:`manh`,afternoon:`tarde`,evening:`tarde`,night:`noite`},abbreviated:{am:`AM`,pm:`PM`,midnight:`meia-noite`,noon:`meio-dia`,morning:`manh`,afternoon:`tarde`,evening:`tarde`,night:`noite`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`meia-noite`,noon:`meio-dia`,morning:`manh`,afternoon:`tarde`,evening:`tarde`,night:`noite`}},defaultWidth:`wide`,formattingValues:{narrow:{am:`a`,pm:`p`,midnight:`mn`,noon:`md`,morning:`da manh`,afternoon:`da tarde`,evening:`da tarde`,night:`da noite`},abbreviated:{am:`AM`,pm:`PM`,midnight:`meia-noite`,noon:`meio-dia`,morning:`da manh`,afternoon:`da tarde`,evening:`da tarde`,night:`da noite`},wide:{am:`a.m.`,pm:`p.m.`,midnight:`meia-noite`,noon:`meio-dia`,morning:`da manh`,afternoon:`da tarde`,evening:`da tarde`,night:`da noite`}},defaultFormattingWidth:`wide`})},match:{ordinalNumber:sc({matchPattern:/^(\d+)[o]?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:ic({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:`any`}),quarter:ic({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},defaultMatchWidth:`wide`,parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:`any`,valueCallback:e=>e+1}),month:ic({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:`wide`,parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:`any`}),day:ic({matchPatterns:{narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},defaultMatchWidth:`wide`,parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},defaultParseWidth:`any`}),dayPeriod:ic({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},defaultMatchWidth:`any`,parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:`any`})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function QO(e,t,n=`long`){return new Intl.DateTimeFormat(`en-US`,{hour:`numeric`,timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(` `)}var $O={},ek={};function tk(e,t){try{let n=($O[e]||=new Intl.DateTimeFormat(`en-US`,{timeZone:e,timeZoneName:`longOffset`}).format)(t).split(`GMT`)[1];return n in ek?ek[n]:rk(n,n.split(`:`))}catch{if(e in ek)return ek[e];let t=e?.match(nk);return t?rk(e,t.slice(1)):NaN}}var nk=/([+-]\d\d):?(\d\d)?/;function rk(e,t){let n=+(t[0]||0),r=+(t[1]||0),i=(t[2]||0)/60;return ek[e]=n*60+r>0?n*60+r+i:n*60-r-i}var ik=class e extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]==`string`&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(tk(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]==`number`&&(e.length===1||e.length===2&&typeof e[1]!=`number`)?this.setTime(e[0]):typeof e[0]==`string`?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),ck(this,NaN),ok(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new e(...n,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){let e=-tk(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),ok(this),+this}[Symbol.for(`constructDateFrom`)](t){return new e(+new Date(t),this.timeZone)}},ak=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ak.test(e))return;let t=e.replace(ak,`$1UTC`);ik.prototype[t]&&(e.startsWith(`get`)?ik.prototype[e]=function(){return this.internal[t]()}:(ik.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),sk(this),+this},ik.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),ok(this),+this}))});function ok(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-tk(e.timeZone,e)*60))}function sk(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),ck(e)}function ck(e){let t=tk(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);let i=-new Date(+e).getTimezoneOffset(),a=i- -new Date(+r).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);let s=i-n;s&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let c=new Date(+e);c.setUTCSeconds(0);let l=i>0?c.getSeconds():(c.getSeconds()-60)%60,u=Math.round(-(tk(e.timeZone,e)*60))%60;(u||l)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+l));let d=tk(e.timeZone,e),f=d>0?Math.floor(d):Math.ceil(d),p=-new Date(+e).getTimezoneOffset()-f,m=f!==n,h=p-s;if(m&&h){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+h);let t=tk(e.timeZone,e),n=f-(t>0?Math.floor(t):Math.ceil(t));n&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+n),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+n))}}var lk=class e extends ik{static tz(t,...n){return n.length?new e(...n,t):new e(Date.now(),t)}toISOString(){let[e,t,n]=this.tzComponents(),r=`${e}${t}:${n}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){let[e,t,n,r]=this.internal.toUTCString().split(` `);return`${e?.slice(0,-1)} ${n} ${t} ${r}`}toTimeString(){let e=this.internal.toUTCString().split(` `)[4],[t,n,r]=this.tzComponents();return`${e} GMT${t}${n}${r} (${QO(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,{...t,timeZone:t?.timeZone||this.timeZone})}tzComponents(){let e=this.getTimezoneOffset();return[e>0?`-`:`+`,String(Math.floor(Math.abs(e)/60)).padStart(2,`0`),String(Math.abs(e)%60).padStart(2,`0`)]}withTimeZone(t){return new e(+this,t)}[Symbol.for(`constructDateFrom`)](t){return new e(+new Date(t),this.timeZone)}},uk=5,dk=4;function fk(e,t){let n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,i=t.addDays(e,-r+1),a=t.addDays(i,uk*7-1);return t.getMonth(e)===t.getMonth(a)?uk:dk}function pk(e,t){let n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function mk(e,t){let n=pk(e,t),r=fk(e,t);return t.addDays(n,r*7-1)}const hk={...cc,labels:{labelDayButton:(e,t,n,r)=>{let i;i=r&&typeof r.format==`function`?r.format.bind(r):(e,t)=>Ic(e,t,{locale:cc,...n});let a=i(e,`PPPP`);return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a},labelMonthDropdown:`Choose the Month`,labelNext:`Go to the Next Month`,labelPrevious:`Go to the Previous Month`,labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:`Choose the Year`,labelGrid:(e,t,n)=>{let r;return r=n&&typeof n.format==`function`?n.format.bind(n):(e,n)=>Ic(e,n,{locale:cc,...t}),r(e,`LLLL yyyy`)},labelGridcell:(e,t,n,r)=>{let i;i=r&&typeof r.format==`function`?r.format.bind(r):(e,t)=>Ic(e,t,{locale:cc,...n});let a=i(e,`PPPP`);return t?.today&&(a=`Today, ${a}`),a},labelNav:`Navigation bar`,labelWeekNumberHeader:`Week Number`,labelWeekday:(e,t,n)=>{let r;return r=n&&typeof n.format==`function`?n.format.bind(n):(e,n)=>Ic(e,n,{locale:cc,...t}),r(e,`cccc`)}}};var gk=class e{constructor(e,t){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?lk.tz(this.options.timeZone):new this.Date,this.newDate=(e,t,n)=>this.overrides?.newDate?this.overrides.newDate(e,t,n):this.options.timeZone?new lk(e,t,n,this.options.timeZone):new Date(e,t,n),this.addDays=(e,t)=>this.overrides?.addDays?this.overrides.addDays(e,t):vs(e,t),this.addMonths=(e,t)=>this.overrides?.addMonths?this.overrides.addMonths(e,t):ys(e,t),this.addWeeks=(e,t)=>this.overrides?.addWeeks?this.overrides.addWeeks(e,t):As(e,t),this.addYears=(e,t)=>this.overrides?.addYears?this.overrides.addYears(e,t):js(e,t),this.differenceInCalendarDays=(e,t)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(e,t):Os(e,t),this.differenceInCalendarMonths=(e,t)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(e,t):Ls(e,t),this.eachMonthOfInterval=e=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(e):Us(e),this.eachYearOfInterval=e=>{let t=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(e):qs(e),n=new Set(t.map(e=>this.getYear(e)));if(n.size===t.length)return t;let r=[];return n.forEach(e=>{r.push(new Date(e,0,1))}),r},this.endOfBroadcastWeek=e=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(e):mk(e,this),this.endOfISOWeek=e=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(e):Ys(e),this.endOfMonth=e=>this.overrides?.endOfMonth?this.overrides.endOfMonth(e):Vs(e),this.endOfWeek=(e,t)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(e,t):Js(e,this.options),this.endOfYear=e=>this.overrides?.endOfYear?this.overrides.endOfYear(e):Gs(e),this.format=(e,t,n)=>{let r=this.overrides?.format?this.overrides.format(e,t,this.options):Ic(e,t,this.options);return this.options.numerals&&this.options.numerals!==`latn`?this.replaceDigits(r):r},this.getISOWeek=e=>this.overrides?.getISOWeek?this.overrides.getISOWeek(e):uc(e),this.getMonth=(e,t)=>this.overrides?.getMonth?this.overrides.getMonth(e,this.options):zc(e,this.options),this.getYear=(e,t)=>this.overrides?.getYear?this.overrides.getYear(e,this.options):Bc(e,this.options),this.getWeek=(e,t)=>this.overrides?.getWeek?this.overrides.getWeek(e,this.options):pc(e,this.options),this.isAfter=(e,t)=>this.overrides?.isAfter?this.overrides.isAfter(e,t):Vc(e,t),this.isBefore=(e,t)=>this.overrides?.isBefore?this.overrides.isBefore(e,t):Hc(e,t),this.isDate=e=>this.overrides?.isDate?this.overrides.isDate(e):Fs(e),this.isSameDay=(e,t)=>this.overrides?.isSameDay?this.overrides.isSameDay(e,t):Ps(e,t),this.isSameMonth=(e,t)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(e,t):Uc(e,t),this.isSameYear=(e,t)=>this.overrides?.isSameYear?this.overrides.isSameYear(e,t):Wc(e,t),this.max=e=>this.overrides?.max?this.overrides.max(e):Ms(e),this.min=e=>this.overrides?.min?this.overrides.min(e):Ns(e),this.setMonth=(e,t)=>this.overrides?.setMonth?this.overrides.setMonth(e,t):Kc(e,t),this.setYear=(e,t)=>this.overrides?.setYear?this.overrides.setYear(e,t):qc(e,t),this.startOfBroadcastWeek=(e,t)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(e,this):pk(e,this),this.startOfDay=e=>this.overrides?.startOfDay?this.overrides.startOfDay(e):Ds(e),this.startOfISOWeek=e=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(e):Cs(e),this.startOfMonth=e=>this.overrides?.startOfMonth?this.overrides.startOfMonth(e):Ws(e),this.startOfWeek=(e,t)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(e,this.options):Ss(e,this.options),this.startOfYear=e=>this.overrides?.startOfYear?this.overrides.startOfYear(e):Ks(e),this.options={locale:hk,...e},this.overrides=t}getDigitMap(){let{numerals:e=`latn`}=this.options,t=new Intl.NumberFormat(`en-US`,{numberingSystem:e}),n={};for(let e=0;e<10;e++)n[e.toString()]=t.format(e);return n}replaceDigits(e){let t=this.getDigitMap();return e.replace(/\d/g,e=>t[e]||e)}formatNumber(e){return this.replaceDigits(e.toString())}getMonthYearOrder(){let t=this.options.locale?.code;return t&&e.yearFirstLocales.has(t)?`year-first`:`month-first`}formatMonthYear(t){let{locale:n,timeZone:r,numerals:i}=this.options,a=n?.code;if(a&&e.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:`long`,year:`numeric`,timeZone:r,numberingSystem:i}).format(t)}catch{}let o=this.getMonthYearOrder()===`year-first`?`y LLLL`:`LLLL y`;return this.format(t,o)}};gk.yearFirstLocales=new Set([`eu`,`hu`,`ja`,`ja-Hira`,`ja-JP`,`ko`,`ko-KR`,`lt`,`lt-LT`,`lv`,`lv-LV`,`mn`,`mn-MN`,`zh`,`zh-CN`,`zh-HK`,`zh-TW`]);const _k=new gk;var vk=class{constructor(e,t,n=_k){this.date=e,this.displayMonth=t,this.outside=!!(t&&!n.isSameMonth(e,t)),this.dateLib=n,this.isoDate=n.format(e,`yyyy-MM-dd`),this.displayMonthId=n.format(t,`yyyy-MM`),this.dateMonthId=n.format(e,`yyyy-MM`)}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}},yk=class{constructor(e,t){this.date=e,this.weeks=t}},bk=class{constructor(e,t){this.days=t,this.weekNumber=e}};function xk(e){return S.createElement(`button`,{...e})}function Sk(e){return S.createElement(`span`,{...e})}function Ck(e){let{size:t=24,orientation:n=`left`,className:r}=e;return S.createElement(`svg`,{className:r,width:t,height:t,viewBox:`0 0 24 24`},n===`up`&&S.createElement(`polygon`,{points:`6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28`}),n===`down`&&S.createElement(`polygon`,{points:`6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72`}),n===`left`&&S.createElement(`polygon`,{points:`16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20`}),n===`right`&&S.createElement(`polygon`,{points:`8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20`}))}function wk(e){let{day:t,modifiers:n,...r}=e;return S.createElement(`td`,{...r})}function Tk(e){let{day:t,modifiers:n,...r}=e,i=S.useRef(null);return S.useEffect(()=>{n.focused&&i.current?.focus()},[n.focused]),S.createElement(`button`,{ref:i,...r})}var $;(function(e){e.Root=`root`,e.Chevron=`chevron`,e.Day=`day`,e.DayButton=`day_button`,e.CaptionLabel=`caption_label`,e.Dropdowns=`dropdowns`,e.Dropdown=`dropdown`,e.DropdownRoot=`dropdown_root`,e.Footer=`footer`,e.MonthGrid=`month_grid`,e.MonthCaption=`month_caption`,e.MonthsDropdown=`months_dropdown`,e.Month=`month`,e.Months=`months`,e.Nav=`nav`,e.NextMonthButton=`button_next`,e.PreviousMonthButton=`button_previous`,e.Week=`week`,e.Weeks=`weeks`,e.Weekday=`weekday`,e.Weekdays=`weekdays`,e.WeekNumber=`week_number`,e.WeekNumberHeader=`week_number_header`,e.YearsDropdown=`years_dropdown`})($||={});var Ek;(function(e){e.disabled=`disabled`,e.hidden=`hidden`,e.outside=`outside`,e.focused=`focused`,e.today=`today`})(Ek||={});var Dk;(function(e){e.range_end=`range_end`,e.range_middle=`range_middle`,e.range_start=`range_start`,e.selected=`selected`})(Dk||={});var Ok;(function(e){e.weeks_before_enter=`weeks_before_enter`,e.weeks_before_exit=`weeks_before_exit`,e.weeks_after_enter=`weeks_after_enter`,e.weeks_after_exit=`weeks_after_exit`,e.caption_after_enter=`caption_after_enter`,e.caption_after_exit=`caption_after_exit`,e.caption_before_enter=`caption_before_enter`,e.caption_before_exit=`caption_before_exit`})(Ok||={});function kk(e){let{options:t,className:n,components:r,classNames:i,...a}=e,o=[i[$.Dropdown],n].join(` `),s=t?.find(({value:e})=>e===a.value);return S.createElement(`span`,{"data-disabled":a.disabled,className:i[$.DropdownRoot]},S.createElement(r.Select,{className:o,...a},t?.map(({value:e,label:t,disabled:n})=>S.createElement(r.Option,{key:e,value:e,disabled:n},t))),S.createElement(`span`,{className:i[$.CaptionLabel],"aria-hidden":!0},s?.label,S.createElement(r.Chevron,{orientation:`down`,size:18,className:i[$.Chevron]})))}function Ak(e){return S.createElement(`div`,{...e})}function jk(e){return S.createElement(`div`,{...e})}function Mk(e){let{calendarMonth:t,displayIndex:n,...r}=e;return S.createElement(`div`,{...r},e.children)}function Nk(e){let{calendarMonth:t,displayIndex:n,...r}=e;return S.createElement(`div`,{...r})}function Pk(e){return S.createElement(`table`,{...e})}function Fk(e){return S.createElement(`div`,{...e})}const Ik=(0,S.createContext)(void 0);function Lk(){let e=(0,S.useContext)(Ik);if(e===void 0)throw Error(`useDayPicker() must be used within a custom component.`);return e}function Rk(e){let{components:t}=Lk();return S.createElement(t.Dropdown,{...e})}function zk(e){let{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:i,...a}=e,{components:o,classNames:s,labels:{labelPrevious:c,labelNext:l}}=Lk(),u=(0,S.useCallback)(e=>{i&&n?.(e)},[i,n]),d=(0,S.useCallback)(e=>{r&&t?.(e)},[r,t]);return S.createElement(`nav`,{...a},S.createElement(o.PreviousMonthButton,{type:`button`,className:s[$.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:d},S.createElement(o.Chevron,{disabled:r?void 0:!0,className:s[$.Chevron],orientation:`left`})),S.createElement(o.NextMonthButton,{type:`button`,className:s[$.NextMonthButton],tabIndex:i?void 0:-1,"aria-disabled":i?void 0:!0,"aria-label":l(i),onClick:u},S.createElement(o.Chevron,{disabled:i?void 0:!0,orientation:`right`,className:s[$.Chevron]})))}function Bk(e){let{components:t}=Lk();return S.createElement(t.Button,{...e})}function Vk(e){return S.createElement(`option`,{...e})}function Hk(e){let{components:t}=Lk();return S.createElement(t.Button,{...e})}function Uk(e){let{rootRef:t,...n}=e;return S.createElement(`div`,{...n,ref:t})}function Wk(e){return S.createElement(`select`,{...e})}function Gk(e){let{week:t,...n}=e;return S.createElement(`tr`,{...n})}function Kk(e){return S.createElement(`th`,{...e})}function qk(e){return S.createElement(`thead`,{"aria-hidden":!0},S.createElement(`tr`,{...e}))}function Jk(e){let{week:t,...n}=e;return S.createElement(`th`,{...n})}function Yk(e){return S.createElement(`th`,{...e})}function Xk(e){return S.createElement(`tbody`,{...e})}function Zk(e){let{components:t}=Lk();return S.createElement(t.Dropdown,{...e})}var Qk=s({Button:()=>xk,CaptionLabel:()=>Sk,Chevron:()=>Ck,Day:()=>wk,DayButton:()=>Tk,Dropdown:()=>kk,DropdownNav:()=>Ak,Footer:()=>jk,Month:()=>Mk,MonthCaption:()=>Nk,MonthGrid:()=>Pk,Months:()=>Fk,MonthsDropdown:()=>Rk,Nav:()=>zk,NextMonthButton:()=>Bk,Option:()=>Vk,PreviousMonthButton:()=>Hk,Root:()=>Uk,Select:()=>Wk,Week:()=>Gk,WeekNumber:()=>Jk,WeekNumberHeader:()=>Yk,Weekday:()=>Kk,Weekdays:()=>qk,Weeks:()=>Xk,YearsDropdown:()=>Zk},1);function $k(e,t,n=!1,r=_k){let{from:i,to:a}=e,{differenceInCalendarDays:o,isSameDay:s}=r;return i&&a?(o(a,i)<0&&([i,a]=[a,i]),o(t,i)>=(n?1:0)&&o(a,t)>=(n?1:0)):!n&&a?s(a,t):!n&&i?s(i,t):!1}function eA(e){return!!(e&&typeof e==`object`&&`before`in e&&`after`in e)}function tA(e){return!!(e&&typeof e==`object`&&`from`in e)}function nA(e){return!!(e&&typeof e==`object`&&`after`in e)}function rA(e){return!!(e&&typeof e==`object`&&`before`in e)}function iA(e){return!!(e&&typeof e==`object`&&`dayOfWeek`in e)}function aA(e,t){return Array.isArray(e)&&e.every(t.isDate)}function oA(e,t,n=_k){let r=Array.isArray(t)?t:[t],{isSameDay:i,differenceInCalendarDays:a,isAfter:o}=n;return r.some(t=>{if(typeof t==`boolean`)return t;if(n.isDate(t))return i(e,t);if(aA(t,n))return t.some(t=>i(e,t));if(tA(t))return $k(t,e,!1,n);if(iA(t))return Array.isArray(t.dayOfWeek)?t.dayOfWeek.includes(e.getDay()):t.dayOfWeek===e.getDay();if(eA(t)){let n=a(t.before,e),r=a(t.after,e),i=n>0,s=r<0;return o(t.before,t.after)?s&&i:i||s}return nA(t)?a(e,t.after)>0:rA(t)?a(t.before,e)>0:typeof t==`function`?t(e):!1})}function sA(e,t,n,r,i){let{disabled:a,hidden:o,modifiers:s,showOutsideDays:c,broadcastCalendar:l,today:u=i.today()}=t,{isSameDay:d,isSameMonth:f,startOfMonth:p,isBefore:m,endOfMonth:h,isAfter:g}=i,_=n&&p(n),v=r&&h(r),y={[Ek.focused]:[],[Ek.outside]:[],[Ek.disabled]:[],[Ek.hidden]:[],[Ek.today]:[]},b={};for(let t of e){let{date:e,displayMonth:n}=t,r=!!(n&&!f(e,n)),p=!!(_&&m(e,_)),h=!!(v&&g(e,v)),x=!!(a&&oA(e,a,i)),S=!!(o&&oA(e,o,i))||p||h||!l&&!c&&r||l&&c===!1&&r,C=d(e,u);r&&y.outside.push(t),x&&y.disabled.push(t),S&&y.hidden.push(t),C&&y.today.push(t),s&&Object.keys(s).forEach(n=>{let r=s?.[n];r&&oA(e,r,i)&&(b[n]?b[n].push(t):b[n]=[t])})}return e=>{let t={[Ek.focused]:!1,[Ek.disabled]:!1,[Ek.hidden]:!1,[Ek.outside]:!1,[Ek.today]:!1},n={};for(let n in y)t[n]=y[n].some(t=>t===e);for(let t in b)n[t]=b[t].some(t=>t===e);return{...t,...n}}}function cA(e,t,n={}){return Object.entries(e).filter(([,e])=>e===!0).reduce((e,[r])=>(n[r]?e.push(n[r]):t[Ek[r]]?e.push(t[Ek[r]]):t[Dk[r]]&&e.push(t[Dk[r]]),e),[t[$.Day]])}function lA(e){return{...Qk,...e}}function uA(e){let t={"data-mode":e.mode??void 0,"data-required":`required`in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([e,n])=>{e.startsWith(`data-`)&&(t[e]=n)}),t}function dA(){let e={};for(let t in $)e[$[t]]=`rdp-${$[t]}`;for(let t in Ek)e[Ek[t]]=`rdp-${Ek[t]}`;for(let t in Dk)e[Dk[t]]=`rdp-${Dk[t]}`;for(let t in Ok)e[Ok[t]]=`rdp-${Ok[t]}`;return e}function fA(e,t,n){return(n??new gk(t)).formatMonthYear(e)}const pA=fA;function mA(e,t,n){return(n??new gk(t)).format(e,`d`)}function hA(e,t=_k){return t.format(e,`LLLL`)}function gA(e,t,n){return(n??new gk(t)).format(e,`cccccc`)}function _A(e,t=_k){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function vA(){return``}function yA(e,t=_k){return t.format(e,`yyyy`)}const bA=yA;var xA=s({formatCaption:()=>fA,formatDay:()=>mA,formatMonthCaption:()=>pA,formatMonthDropdown:()=>hA,formatWeekNumber:()=>_A,formatWeekNumberHeader:()=>vA,formatWeekdayName:()=>gA,formatYearCaption:()=>bA,formatYearDropdown:()=>yA},1);function SA(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...xA,...e}}function CA(e,t,n,r){let i=(r??new gk(n)).format(e,`PPPP`);return t.today&&(i=`Today, ${i}`),t.selected&&(i=`${i}, selected`),i}const wA=CA;function TA(e,t,n){return(n??new gk(t)).formatMonthYear(e)}const EA=TA;function DA(e,t,n,r){let i=(r??new gk(n)).format(e,`PPPP`);return t?.today&&(i=`Today, ${i}`),i}function OA(e){return`Choose the Month`}function kA(){return``}var AA=`Go to the Next Month`;function jA(e,t){return AA}function MA(e){return`Go to the Previous Month`}function NA(e,t,n){return(n??new gk(t)).format(e,`cccc`)}function PA(e,t){return`Week ${e}`}function FA(e){return`Week Number`}function IA(e){return`Choose the Year`}var LA=s({labelCaption:()=>EA,labelDay:()=>wA,labelDayButton:()=>CA,labelGrid:()=>TA,labelGridcell:()=>DA,labelMonthDropdown:()=>OA,labelNav:()=>kA,labelNext:()=>jA,labelPrevious:()=>MA,labelWeekNumber:()=>PA,labelWeekNumberHeader:()=>FA,labelWeekday:()=>NA,labelYearDropdown:()=>IA},1),RA=(e,t,n)=>t||(n?typeof n==`function`?n:(...e)=>n:e);function zA(e,t){let n=t.locale?.labels??{};return{...LA,...e??{},labelDayButton:RA(CA,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:RA(OA,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:RA(jA,e?.labelNext,n.labelNext),labelPrevious:RA(MA,e?.labelPrevious,n.labelPrevious),labelWeekNumber:RA(PA,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:RA(IA,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:RA(TA,e?.labelGrid,n.labelGrid),labelGridcell:RA(DA,e?.labelGridcell,n.labelGridcell),labelNav:RA(kA,e?.labelNav,n.labelNav),labelWeekNumberHeader:RA(FA,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:RA(NA,e?.labelWeekday,n.labelWeekday)}}function BA(e,t,n,r,i){let{startOfMonth:a,startOfYear:o,endOfYear:s,eachMonthOfInterval:c,getMonth:l}=i;return c({start:o(e),end:s(e)}).map(e=>{let o=r.formatMonthDropdown(e,i);return{value:l(e),label:o,disabled:t&&e<a(t)||n&&e>a(n)||!1}})}function VA(e,t={},n={}){let r={...t?.[$.Day]};return Object.entries(e).filter(([,e])=>e===!0).forEach(([e])=>{r={...r,...n?.[e]}}),r}function HA(e,t,n,r){let i=r??e.today(),a=n?e.startOfBroadcastWeek(i,e):t?e.startOfISOWeek(i):e.startOfWeek(i),o=[];for(let t=0;t<7;t++){let n=e.addDays(a,t);o.push(n)}return o}function UA(e,t,n,r,i=!1){if(!e||!t)return;let{startOfYear:a,endOfYear:o,eachYearOfInterval:s,getYear:c}=r,l=s({start:a(e),end:o(t)});return i&&l.reverse(),l.map(e=>{let t=n.formatYearDropdown(e,r);return{value:c(e),label:t,disabled:!1}})}function WA(e,t={}){let{weekStartsOn:n,locale:r}=t,i=n??r?.options?.weekStartsOn??0,a=t=>{let n=typeof t==`number`||typeof t==`string`?new Date(t):t;return new lk(n.getFullYear(),n.getMonth(),n.getDate(),12,0,0,e)},o=e=>{let t=a(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0)};return{today:()=>a(lk.tz(e)),newDate:(t,n,r)=>new lk(t,n,r,12,0,0,e),startOfDay:e=>a(e),startOfWeek:(e,t)=>{let n=a(e),r=t?.weekStartsOn??i,o=(n.getDay()-r+7)%7;return n.setDate(n.getDate()-o),n},startOfISOWeek:e=>{let t=a(e),n=(t.getDay()-1+7)%7;return t.setDate(t.getDate()-n),t},startOfMonth:e=>{let t=a(e);return t.setDate(1),t},startOfYear:e=>{let t=a(e);return t.setMonth(0,1),t},endOfWeek:(e,t)=>{let n=a(e),r=(((t?.weekStartsOn??i)+6)%7-n.getDay()+7)%7;return n.setDate(n.getDate()+r),n},endOfISOWeek:e=>{let t=a(e),n=(7-t.getDay())%7;return t.setDate(t.getDate()+n),t},endOfMonth:e=>{let t=a(e);return t.setMonth(t.getMonth()+1,0),t},endOfYear:e=>{let t=a(e);return t.setMonth(11,31),t},eachMonthOfInterval:t=>{let n=a(t.start),r=a(t.end),i=[],o=new lk(n.getFullYear(),n.getMonth(),1,12,0,0,e),s=r.getFullYear()*12+r.getMonth();for(;o.getFullYear()*12+o.getMonth()<=s;)i.push(new lk(o,e)),o.setMonth(o.getMonth()+1,1);return i},addDays:(e,t)=>{let n=a(e);return n.setDate(n.getDate()+t),n},addWeeks:(e,t)=>{let n=a(e);return n.setDate(n.getDate()+t*7),n},addMonths:(e,t)=>{let n=a(e);return n.setMonth(n.getMonth()+t),n},addYears:(e,t)=>{let n=a(e);return n.setFullYear(n.getFullYear()+t),n},eachYearOfInterval:t=>{let n=a(t.start),r=a(t.end),i=[],o=new lk(n.getFullYear(),0,1,12,0,0,e);for(;o.getFullYear()<=r.getFullYear();)i.push(new lk(o,e)),o.setFullYear(o.getFullYear()+1,0,1);return i},getWeek:(e,t)=>pc(o(e),{weekStartsOn:t?.weekStartsOn??i,firstWeekContainsDate:t?.firstWeekContainsDate??r?.options?.firstWeekContainsDate??1}),getISOWeek:e=>uc(o(e)),differenceInCalendarDays:(e,t)=>Os(o(e),o(t)),differenceInCalendarMonths:(e,t)=>Ls(o(e),o(t))}}var GA=e=>e instanceof HTMLElement?e:null,KA=e=>[...e.querySelectorAll(`[data-animated-month]`)??[]],qA=e=>GA(e.querySelector(`[data-animated-month]`)),JA=e=>GA(e.querySelector(`[data-animated-caption]`)),YA=e=>GA(e.querySelector(`[data-animated-weeks]`)),XA=e=>GA(e.querySelector(`[data-animated-nav]`)),ZA=e=>GA(e.querySelector(`[data-animated-weekdays]`));function QA(e,t,{classNames:n,months:r,focused:i,dateLib:a}){let o=(0,S.useRef)(null),s=(0,S.useRef)(r),c=(0,S.useRef)(!1);(0,S.useLayoutEffect)(()=>{let l=s.current;if(s.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||l.length===0||r.length!==l.length)return;let u=a.isSameMonth(r[0].date,l[0].date),d=a.isAfter(r[0].date,l[0].date),f=d?n[Ok.caption_after_enter]:n[Ok.caption_before_enter],p=d?n[Ok.weeks_after_enter]:n[Ok.weeks_before_enter],m=o.current,h=e.current.cloneNode(!0);if(h instanceof HTMLElement?(KA(h).forEach(e=>{if(!(e instanceof HTMLElement))return;let t=qA(e);t&&e.contains(t)&&e.removeChild(t);let n=JA(e);n&&n.classList.remove(f);let r=YA(e);r&&r.classList.remove(p)}),o.current=h):o.current=null,c.current||u||i)return;let g=m instanceof HTMLElement?KA(m):[],_=KA(e.current);if(_?.every(e=>e instanceof HTMLElement)&&g&&g.every(e=>e instanceof HTMLElement)){c.current=!0;let t=[];e.current.style.isolation=`isolate`;let r=XA(e.current);r&&(r.style.zIndex=`1`),_.forEach((i,a)=>{let o=g[a];if(!o)return;i.style.position=`relative`,i.style.overflow=`hidden`;let s=JA(i);s&&s.classList.add(f);let l=YA(i);l&&l.classList.add(p);let u=()=>{c.current=!1,e.current&&(e.current.style.isolation=``),r&&(r.style.zIndex=``),s&&s.classList.remove(f),l&&l.classList.remove(p),i.style.position=``,i.style.overflow=``,i.contains(o)&&i.removeChild(o)};t.push(u),o.style.pointerEvents=`none`,o.style.position=`absolute`,o.style.overflow=`hidden`,o.setAttribute(`aria-hidden`,`true`);let m=ZA(o);m&&(m.style.opacity=`0`);let h=JA(o);h&&(h.classList.add(d?n[Ok.caption_before_exit]:n[Ok.caption_after_exit]),h.addEventListener(`animationend`,u));let _=YA(o);_&&_.classList.add(d?n[Ok.weeks_before_exit]:n[Ok.weeks_after_exit]),i.insertBefore(o,i.firstChild)})}})}function $A(e,t,n,r){let i=e[0],a=e[e.length-1],{ISOWeek:o,fixedWeeks:s,broadcastCalendar:c}=n??{},{addDays:l,differenceInCalendarDays:u,differenceInCalendarMonths:d,endOfBroadcastWeek:f,endOfISOWeek:p,endOfMonth:m,endOfWeek:h,isAfter:g,startOfBroadcastWeek:_,startOfISOWeek:v,startOfWeek:y}=r,b=c?_(i,r):o?v(i):y(i),x=c?f(a):o?p(m(a)):h(m(a)),S=t&&(c?f(t):o?p(t):h(t)),C=u(S&&g(x,S)?S:x,b),w=d(a,i)+1,T=[];for(let e=0;e<=C;e++){let t=l(b,e);T.push(t)}let E=(c?35:42)*w;if(s&&T.length<E){let e=E-T.length;for(let t=0;t<e;t++){let e=l(T[T.length-1],1);T.push(e)}}return T}function ej(e){let t=[];return e.reduce((e,n)=>{let r=n.weeks.reduce((e,t)=>e.concat(t.days.slice()),t.slice());return e.concat(r.slice())},t.slice())}function tj(e,t,n,r){let{numberOfMonths:i=1}=n,a=[];for(let n=0;n<i;n++){let i=r.addMonths(e,n);if(t&&i>t)break;a.push(i)}return a}function nj(e,t,n,r){let{month:i,defaultMonth:a,today:o=r.today(),numberOfMonths:s=1}=e,c=i||a||o,{differenceInCalendarMonths:l,addMonths:u,startOfMonth:d}=r;return n&&l(n,c)<s-1&&(c=u(n,-1*(s-1))),t&&l(c,t)<0&&(c=t),d(c)}function rj(e,t,n,r){let{addDays:i,endOfBroadcastWeek:a,endOfISOWeek:o,endOfMonth:s,endOfWeek:c,getISOWeek:l,getWeek:u,startOfBroadcastWeek:d,startOfISOWeek:f,startOfWeek:p}=r,m=e.reduce((e,m)=>{let h=n.broadcastCalendar?d(m,r):n.ISOWeek?f(m):p(m),g=n.broadcastCalendar?a(m):n.ISOWeek?o(s(m)):c(s(m)),_=t.filter(e=>e>=h&&e<=g),v=n.broadcastCalendar?35:42;if(n.fixedWeeks&&_.length<v){let e=t.filter(e=>{let t=v-_.length;return e>g&&e<=i(g,t)});_.push(...e)}let y=new yk(m,_.reduce((e,t)=>{let i=n.ISOWeek?l(t):u(t),a=e.find(e=>e.weekNumber===i),o=new vk(t,m,r);return a?a.days.push(o):e.push(new bk(i,[o])),e},[]));return e.push(y),e},[]);return n.reverseMonths?m.reverse():m}function ij(e,t){let{startMonth:n,endMonth:r}=e,{startOfYear:i,startOfDay:a,startOfMonth:o,endOfMonth:s,addYears:c,endOfYear:l,newDate:u,today:d}=t,{fromYear:f,toYear:p,fromMonth:m,toMonth:h}=e;!n&&m&&(n=m),!n&&f&&(n=t.newDate(f,0,1)),!r&&h&&(r=h),!r&&p&&(r=u(p,11,31));let g=e.captionLayout===`dropdown`||e.captionLayout===`dropdown-years`;return n?n=o(n):f?n=u(f,0,1):!n&&g&&(n=i(c(e.today??d(),-100))),r?r=s(r):p?r=u(p,11,31):!r&&g&&(r=l(e.today??d())),[n&&a(n),r&&a(r)]}function aj(e,t,n,r){if(n.disableNavigation)return;let{pagedNavigation:i,numberOfMonths:a=1}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:c}=r,l=i?a:1,u=o(e);if(!t||!(c(t,e)<a))return s(u,l)}function oj(e,t,n,r){if(n.disableNavigation)return;let{pagedNavigation:i,numberOfMonths:a}=n,{startOfMonth:o,addMonths:s,differenceInCalendarMonths:c}=r,l=i?a??1:1,u=o(e);if(!t||!(c(u,t)<=0))return s(u,-l)}function sj(e){return e.reduce((e,t)=>e.concat(t.weeks.slice()),[].slice())}function cj(e,t){let[n,r]=(0,S.useState)(e);return[t===void 0?n:t,r]}function lj(e,t){let[n,r]=ij(e,t),{startOfMonth:i,endOfMonth:a}=t,o=nj(e,n,r,t),[s,c]=cj(o,e.month?o:void 0);(0,S.useEffect)(()=>{c(nj(e,n,r,t))},[e.timeZone]);let{months:l,weeks:u,days:d,previousMonth:f,nextMonth:p}=(0,S.useMemo)(()=>{let i=tj(s,r,{numberOfMonths:e.numberOfMonths},t),o=rj(i,$A(i,e.endMonth?a(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t);return{months:o,weeks:sj(o),days:ej(o),previousMonth:oj(s,n,e,t),nextMonth:aj(s,r,e,t)}},[t,s.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:m,onMonthChange:h}=e,g=e=>u.some(t=>t.days.some(t=>t.isEqualTo(e))),_=e=>{if(m)return;let t=i(e);n&&t<i(n)&&(t=i(n)),r&&t>i(r)&&(t=i(r)),c(t),h?.(t)};return{months:l,weeks:u,days:d,navStart:n,navEnd:r,previousMonth:f,nextMonth:p,goToMonth:_,goToDay:e=>{g(e)||_(e.date)}}}var uj;(function(e){e[e.Today=0]=`Today`,e[e.Selected=1]=`Selected`,e[e.LastFocused=2]=`LastFocused`,e[e.FocusedModifier=3]=`FocusedModifier`})(uj||={});function dj(e){return!e[Ek.disabled]&&!e[Ek.hidden]&&!e[Ek.outside]}function fj(e,t,n,r){let i,a=-1;for(let o of e){let e=t(o);dj(e)&&(e[Ek.focused]&&a<uj.FocusedModifier?(i=o,a=uj.FocusedModifier):r?.isEqualTo(o)&&a<uj.LastFocused?(i=o,a=uj.LastFocused):n(o.date)&&a<uj.Selected?(i=o,a=uj.Selected):e[Ek.today]&&a<uj.Today&&(i=o,a=uj.Today))}return i||=e.find(e=>dj(t(e))),i}function pj(e,t,n,r,i,a,o){let{ISOWeek:s,broadcastCalendar:c}=a,{addDays:l,addMonths:u,addWeeks:d,addYears:f,endOfBroadcastWeek:p,endOfISOWeek:m,endOfWeek:h,max:g,min:_,startOfBroadcastWeek:v,startOfISOWeek:y,startOfWeek:b}=o,x={day:l,week:d,month:u,year:f,startOfWeek:e=>c?v(e,o):s?y(e):b(e),endOfWeek:e=>c?p(e):s?m(e):h(e)}[e](n,t===`after`?1:-1);return t===`before`&&r?x=g([r,x]):t===`after`&&i&&(x=_([i,x])),x}function mj(e,t,n,r,i,a,o,s=0){if(s>365)return;let c=pj(e,t,n.date,r,i,a,o),l=!!(a.disabled&&oA(c,a.disabled,o)),u=!!(a.hidden&&oA(c,a.hidden,o)),d=new vk(c,c,o);return!l&&!u?d:mj(e,t,d,r,i,a,o,s+1)}function hj(e,t,n,r,i){let{autoFocus:a}=e,[o,s]=(0,S.useState)(),c=fj(t.days,n,r||(()=>!1),o),[l,u]=(0,S.useState)(a?c:void 0);return{isFocusTarget:e=>!!c?.isEqualTo(e),setFocused:u,focused:l,blur:()=>{s(l),u(void 0)},moveFocus:(n,r)=>{if(!l)return;let a=mj(n,r,l,t.navStart,t.navEnd,e,i);a&&(e.disableNavigation&&!t.days.some(e=>e.isEqualTo(a))||(t.goToDay(a),u(a)))}}}function gj(e,t){let{selected:n,required:r,onSelect:i}=e,[a,o]=cj(n,i?n:void 0),s=i?n:a,{isSameDay:c}=t,l=e=>s?.some(t=>c(t,e))??!1,{min:u,max:d}=e;return{selected:s,select:(e,t,n)=>{let a=[...s??[]];if(l(e)){if(s?.length===u||r&&s?.length===1)return;a=s?.filter(t=>!c(t,e))}else a=s?.length===d?[e]:[...a,e];return i||o(a),i?.(a,e,t,n),a},isSelected:l}}function _j(e,t,n=0,r=0,i=!1,a=_k){let{from:o,to:s}=t||{},{isSameDay:c,isAfter:l,isBefore:u}=a,d;if(!o&&!s)d={from:e,to:n>0?void 0:e};else if(o&&!s)d=c(o,e)?n===0?{from:o,to:e}:i?{from:o,to:void 0}:void 0:u(e,o)?{from:e,to:o}:{from:o,to:e};else if(o&&s)if(c(o,e)&&c(s,e))d=i?{from:o,to:s}:void 0;else if(c(o,e))d={from:o,to:n>0?void 0:e};else if(c(s,e))d={from:e,to:n>0?void 0:e};else if(u(e,o))d={from:e,to:s};else if(l(e,o))d={from:o,to:e};else if(l(e,s))d={from:o,to:e};else throw Error(`Invalid range`);if(d?.from&&d?.to){let t=a.differenceInCalendarDays(d.to,d.from);(r>0&&t>r||n>1&&t<n)&&(d={from:e,to:void 0})}return d}function vj(e,t,n=_k){let r=Array.isArray(t)?t:[t],i=e.from,a=n.differenceInCalendarDays(e.to,e.from),o=Math.min(a,6);for(let e=0;e<=o;e++){if(r.includes(i.getDay()))return!0;i=n.addDays(i,1)}return!1}function yj(e,t,n=_k){return $k(e,t.from,!1,n)||$k(e,t.to,!1,n)||$k(t,e.from,!1,n)||$k(t,e.to,!1,n)}function bj(e,t,n=_k){let r=Array.isArray(t)?t:[t];if(r.filter(e=>typeof e!=`function`).some(t=>typeof t==`boolean`?t:n.isDate(t)?$k(e,t,!1,n):aA(t,n)?t.some(t=>$k(e,t,!1,n)):tA(t)?t.from&&t.to?yj(e,{from:t.from,to:t.to},n):!1:iA(t)?vj(e,t.dayOfWeek,n):eA(t)?n.isAfter(t.before,t.after)?yj(e,{from:n.addDays(t.after,1),to:n.addDays(t.before,-1)},n):oA(e.from,t,n)||oA(e.to,t,n):nA(t)||rA(t)?oA(e.from,t,n)||oA(e.to,t,n):!1))return!0;let i=r.filter(e=>typeof e==`function`);if(i.length){let t=e.from,r=n.differenceInCalendarDays(e.to,e.from);for(let e=0;e<=r;e++){if(i.some(e=>e(t)))return!0;t=n.addDays(t,1)}}return!1}function xj(e,t){let{disabled:n,excludeDisabled:r,selected:i,required:a,onSelect:o}=e,[s,c]=cj(i,o?i:void 0),l=o?i:s;return{selected:l,select:(i,s,u)=>{let{min:d,max:f}=e,p=i?_j(i,l,d,f,a,t):void 0;return r&&n&&p?.from&&p.to&&bj({from:p.from,to:p.to},n,t)&&(p.from=i,p.to=void 0),o||c(p),o?.(p,i,s,u),p},isSelected:e=>l&&$k(l,e,!1,t)}}function Sj(e,t){let{selected:n,required:r,onSelect:i}=e,[a,o]=cj(n,i?n:void 0),s=i?n:a,{isSameDay:c}=t;return{selected:s,select:(e,t,n)=>{let a=e;return!r&&s&&s&&c(e,s)&&(a=void 0),i||o(a),i?.(a,e,t,n),a},isSelected:e=>s?c(s,e):!1}}function Cj(e,t){let n=Sj(e,t),r=gj(e,t),i=xj(e,t);switch(e.mode){case`single`:return n;case`multiple`:return r;case`range`:return i;default:return}}function wj(e,t){return e instanceof lk&&e.timeZone===t?e:new lk(e,t)}function Tj(e,t,n){if(!n)return wj(e,t);let r=wj(e,t),i=new lk(r.getFullYear(),r.getMonth(),r.getDate(),12,0,0,t);return new Date(i.getTime())}function Ej(e,t,n){return typeof e==`boolean`||typeof e==`function`?e:e instanceof Date?Tj(e,t,n):Array.isArray(e)?e.map(e=>e instanceof Date?Tj(e,t,n):e):tA(e)?{...e,from:e.from?wj(e.from,t):e.from,to:e.to?wj(e.to,t):e.to}:eA(e)?{before:Tj(e.before,t,n),after:Tj(e.after,t,n)}:nA(e)?{after:Tj(e.after,t,n)}:rA(e)?{before:Tj(e.before,t,n)}:e}function Dj(e,t,n){return e&&(Array.isArray(e)?e.map(e=>Ej(e,t,n)):Ej(e,t,n))}function Oj(e){let t=e,n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&=wj(t.today,n),t.month&&=wj(t.month,n),t.defaultMonth&&=wj(t.defaultMonth,n),t.startMonth&&=wj(t.startMonth,n),t.endMonth&&=wj(t.endMonth,n),t.mode===`single`&&t.selected?t.selected=wj(t.selected,n):t.mode===`multiple`&&t.selected?t.selected=t.selected?.map(e=>wj(e,n)):t.mode===`range`&&t.selected&&(t.selected={from:t.selected.from?wj(t.selected.from,n):t.selected.from,to:t.selected.to?wj(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=Dj(t.disabled,n)),t.hidden!==void 0&&(t.hidden=Dj(t.hidden,n)),t.modifiers)){let e={};Object.keys(t.modifiers).forEach(r=>{e[r]=Dj(t.modifiers?.[r],n)}),t.modifiers=e}let{components:r,formatters:i,labels:a,dateLib:o,locale:s,classNames:c}=(0,S.useMemo)(()=>{let e={...hk,...t.locale},n=t.broadcastCalendar?1:t.weekStartsOn,r=t.noonSafe&&t.timeZone?WA(t.timeZone,{weekStartsOn:n,locale:e}):void 0,i=t.dateLib&&r?{...r,...t.dateLib}:t.dateLib??r,a=new gk({locale:e,weekStartsOn:n,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},i);return{dateLib:a,components:lA(t.components),formatters:SA(t.formatters),labels:zA(t.labels,a.options),locale:e,classNames:{...dA(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.noonSafe,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:o.today()});let{captionLayout:l,mode:u,navLayout:d,numberOfMonths:f=1,onDayBlur:p,onDayClick:m,onDayFocus:h,onDayKeyDown:g,onDayMouseEnter:_,onDayMouseLeave:v,onNextClick:y,onPrevClick:b,showWeekNumber:x,styles:C}=t,{formatCaption:w,formatDay:T,formatMonthDropdown:E,formatWeekNumber:D,formatWeekNumberHeader:O,formatWeekdayName:k,formatYearDropdown:A}=i,ee=lj(t,o),{days:te,months:ne,navStart:re,navEnd:ie,previousMonth:j,nextMonth:M,goToMonth:ae}=ee,oe=sA(te,t,re,ie,o),{isSelected:se,select:ce,selected:le}=Cj(t,o)??{},{blur:ue,focused:de,isFocusTarget:fe,moveFocus:pe,setFocused:me}=hj(t,ee,oe,se??(()=>!1),o),{labelDayButton:he,labelGridcell:ge,labelGrid:_e,labelMonthDropdown:ve,labelNav:ye,labelPrevious:be,labelNext:xe,labelWeekday:Se,labelWeekNumber:Ce,labelWeekNumberHeader:we,labelYearDropdown:Te}=a,Ee=(0,S.useMemo)(()=>HA(o,t.ISOWeek,t.broadcastCalendar,t.today),[o,t.ISOWeek,t.broadcastCalendar,t.today]),De=u!==void 0||m!==void 0,Oe=(0,S.useCallback)(()=>{j&&(ae(j),b?.(j))},[j,ae,b]),ke=(0,S.useCallback)(()=>{M&&(ae(M),y?.(M))},[ae,M,y]),Ae=(0,S.useCallback)((e,t)=>n=>{n.preventDefault(),n.stopPropagation(),me(e),!t.disabled&&(ce?.(e.date,t,n),m?.(e.date,t,n))},[ce,m,me]),je=(0,S.useCallback)((e,t)=>n=>{me(e),h?.(e.date,t,n)},[h,me]),Me=(0,S.useCallback)((e,t)=>n=>{ue(),p?.(e.date,t,n)},[ue,p]),Ne=(0,S.useCallback)((e,n)=>r=>{let i={ArrowLeft:[r.shiftKey?`month`:`day`,t.dir===`rtl`?`after`:`before`],ArrowRight:[r.shiftKey?`month`:`day`,t.dir===`rtl`?`before`:`after`],ArrowDown:[r.shiftKey?`year`:`week`,`after`],ArrowUp:[r.shiftKey?`year`:`week`,`before`],PageUp:[r.shiftKey?`year`:`month`,`before`],PageDown:[r.shiftKey?`year`:`month`,`after`],Home:[`startOfWeek`,`before`],End:[`endOfWeek`,`after`]};if(i[r.key]){r.preventDefault(),r.stopPropagation();let[e,t]=i[r.key];pe(e,t)}g?.(e.date,n,r)},[pe,g,t.dir]),Pe=(0,S.useCallback)((e,t)=>n=>{_?.(e.date,t,n)},[_]),Fe=(0,S.useCallback)((e,t)=>n=>{v?.(e.date,t,n)},[v]),Ie=(0,S.useCallback)(e=>t=>{let n=Number(t.target.value);ae(o.setMonth(o.startOfMonth(e),n))},[o,ae]),Le=(0,S.useCallback)(e=>t=>{let n=Number(t.target.value);ae(o.setYear(o.startOfMonth(e),n))},[o,ae]),{className:Re,style:ze}=(0,S.useMemo)(()=>({className:[c[$.Root],t.className].filter(Boolean).join(` `),style:{...C?.[$.Root],...t.style}}),[c,t.className,t.style,C]),Be=uA(t),Ve=(0,S.useRef)(null);QA(Ve,!!t.animate,{classNames:c,months:ne,focused:de,dateLib:o});let He={dayPickerProps:t,selected:le,select:ce,isSelected:se,months:ne,nextMonth:M,previousMonth:j,goToMonth:ae,getModifiers:oe,components:r,classNames:c,styles:C,labels:a,formatters:i};return S.createElement(Ik.Provider,{value:He},S.createElement(r.Root,{rootRef:t.animate?Ve:void 0,className:Re,style:ze,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t[`aria-label`],"aria-labelledby":t[`aria-labelledby`],...Be},S.createElement(r.Months,{className:c[$.Months],style:C?.[$.Months]},!t.hideNavigation&&!d&&S.createElement(r.Nav,{"data-animated-nav":t.animate?`true`:void 0,className:c[$.Nav],style:C?.[$.Nav],"aria-label":ye(),onPreviousClick:Oe,onNextClick:ke,previousMonth:j,nextMonth:M}),ne.map((e,n)=>S.createElement(r.Month,{"data-animated-month":t.animate?`true`:void 0,className:c[$.Month],style:C?.[$.Month],key:n,displayIndex:n,calendarMonth:e},d===`around`&&!t.hideNavigation&&n===0&&S.createElement(r.PreviousMonthButton,{type:`button`,className:c[$.PreviousMonthButton],tabIndex:j?void 0:-1,"aria-disabled":j?void 0:!0,"aria-label":be(j),onClick:Oe,"data-animated-button":t.animate?`true`:void 0},S.createElement(r.Chevron,{disabled:j?void 0:!0,className:c[$.Chevron],orientation:t.dir===`rtl`?`right`:`left`})),S.createElement(r.MonthCaption,{"data-animated-caption":t.animate?`true`:void 0,className:c[$.MonthCaption],style:C?.[$.MonthCaption],calendarMonth:e,displayIndex:n},l?.startsWith(`dropdown`)?S.createElement(r.DropdownNav,{className:c[$.Dropdowns],style:C?.[$.Dropdowns]},(()=>{let n=l===`dropdown`||l===`dropdown-months`?S.createElement(r.MonthsDropdown,{key:`month`,className:c[$.MonthsDropdown],"aria-label":ve(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Ie(e.date),options:BA(e.date,re,ie,i,o),style:C?.[$.Dropdown],value:o.getMonth(e.date)}):S.createElement(`span`,{key:`month`},E(e.date,o)),a=l===`dropdown`||l===`dropdown-years`?S.createElement(r.YearsDropdown,{key:`year`,className:c[$.YearsDropdown],"aria-label":Te(o.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Le(e.date),options:UA(re,ie,i,o,!!t.reverseYears),style:C?.[$.Dropdown],value:o.getYear(e.date)}):S.createElement(`span`,{key:`year`},A(e.date,o));return o.getMonthYearOrder()===`year-first`?[a,n]:[n,a]})(),S.createElement(`span`,{role:`status`,"aria-live":`polite`,style:{border:0,clip:`rect(0 0 0 0)`,height:`1px`,margin:`-1px`,overflow:`hidden`,padding:0,position:`absolute`,width:`1px`,whiteSpace:`nowrap`,wordWrap:`normal`}},w(e.date,o.options,o))):S.createElement(r.CaptionLabel,{className:c[$.CaptionLabel],role:`status`,"aria-live":`polite`},w(e.date,o.options,o))),d===`around`&&!t.hideNavigation&&n===f-1&&S.createElement(r.NextMonthButton,{type:`button`,className:c[$.NextMonthButton],tabIndex:M?void 0:-1,"aria-disabled":M?void 0:!0,"aria-label":xe(M),onClick:ke,"data-animated-button":t.animate?`true`:void 0},S.createElement(r.Chevron,{disabled:M?void 0:!0,className:c[$.Chevron],orientation:t.dir===`rtl`?`left`:`right`})),n===f-1&&d===`after`&&!t.hideNavigation&&S.createElement(r.Nav,{"data-animated-nav":t.animate?`true`:void 0,className:c[$.Nav],style:C?.[$.Nav],"aria-label":ye(),onPreviousClick:Oe,onNextClick:ke,previousMonth:j,nextMonth:M}),S.createElement(r.MonthGrid,{role:`grid`,"aria-multiselectable":u===`multiple`||u===`range`,"aria-label":_e(e.date,o.options,o)||void 0,className:c[$.MonthGrid],style:C?.[$.MonthGrid]},!t.hideWeekdays&&S.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?`true`:void 0,className:c[$.Weekdays],style:C?.[$.Weekdays]},x&&S.createElement(r.WeekNumberHeader,{"aria-label":we(o.options),className:c[$.WeekNumberHeader],style:C?.[$.WeekNumberHeader],scope:`col`},O()),Ee.map(e=>S.createElement(r.Weekday,{"aria-label":Se(e,o.options,o),className:c[$.Weekday],key:String(e),style:C?.[$.Weekday],scope:`col`},k(e,o.options,o)))),S.createElement(r.Weeks,{"data-animated-weeks":t.animate?`true`:void 0,className:c[$.Weeks],style:C?.[$.Weeks]},e.weeks.map(e=>S.createElement(r.Week,{className:c[$.Week],key:e.weekNumber,style:C?.[$.Week],week:e},x&&S.createElement(r.WeekNumber,{week:e,style:C?.[$.WeekNumber],"aria-label":Ce(e.weekNumber,{locale:s}),className:c[$.WeekNumber],scope:`row`,role:`rowheader`},D(e.weekNumber,o)),e.days.map(e=>{let{date:n}=e,i=oe(e);if(i[Ek.focused]=!i.hidden&&!!de?.isEqualTo(e),i[Dk.selected]=se?.(n)||i.selected,tA(le)){let{from:e,to:t}=le;i[Dk.range_start]=!!(e&&t&&o.isSameDay(n,e)),i[Dk.range_end]=!!(e&&t&&o.isSameDay(n,t)),i[Dk.range_middle]=$k(le,n,!0,o)}let a=VA(i,C,t.modifiersStyles),s=cA(i,c,t.modifiersClassNames),l=!De&&!i.hidden?ge(n,i,o.options,o):void 0;return S.createElement(r.Day,{key:`${e.isoDate}_${e.displayMonthId}`,day:e,modifiers:i,className:s.join(` `),style:a,role:`gridcell`,"aria-selected":i.selected||void 0,"aria-label":l,"data-day":e.isoDate,"data-month":e.outside?e.dateMonthId:void 0,"data-selected":i.selected||void 0,"data-disabled":i.disabled||void 0,"data-hidden":i.hidden||void 0,"data-outside":e.outside||void 0,"data-focused":i.focused||void 0,"data-today":i.today||void 0},!i.hidden&&De?S.createElement(r.DayButton,{className:c[$.DayButton],style:C?.[$.DayButton],type:`button`,day:e,modifiers:i,disabled:!i.focused&&i.disabled||void 0,"aria-disabled":i.focused&&i.disabled||void 0,tabIndex:fe(e)?0:-1,"aria-label":he(n,i,o.options,o),onClick:Ae(e,i),onBlur:Me(e,i),onFocus:je(e,i),onKeyDown:Ne(e,i),onMouseEnter:Pe(e,i),onMouseLeave:Fe(e,i)},T(n,o.options,o)):!i.hidden&&T(e.date,o.options,o))})))))))),t.footer&&S.createElement(r.Footer,{className:c[$.Footer],style:C?.[$.Footer],role:`status`,"aria-live":`polite`},t.footer)))}function kj({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r=`label`,buttonVariant:i=`ghost`,formatters:a,components:o,...s}){let c=dA();return(0,P.jsx)(Oj,{showOutsideDays:n,className:R(`bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent`,String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:e=>e.toLocaleString(`default`,{month:`short`}),...a},classNames:{root:R(`w-fit`,c.root),months:R(`relative flex flex-col gap-4 md:flex-row`,c.months),month:R(`flex w-full flex-col gap-4`,c.month),nav:R(`absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1`,c.nav),button_previous:R(Vp({variant:i}),`h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50`,c.button_previous),button_next:R(Vp({variant:i}),`h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50`,c.button_next),month_caption:R(`flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]`,c.month_caption),dropdowns:R(`flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium`,c.dropdowns),dropdown_root:R(`has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border`,c.dropdown_root),dropdown:R(`absolute inset-0 opacity-0`,c.dropdown),caption_label:R(`select-none font-medium`,r===`label`?`text-sm`:`[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5`,c.caption_label),table:`w-full border-collapse`,weekdays:R(`flex`,c.weekdays),weekday:R(`text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal`,c.weekday),week:R(`mt-2 flex w-full`,c.week),week_number_header:R(`w-[--cell-size] select-none`,c.week_number_header),week_number:R(`text-muted-foreground select-none text-[0.8rem]`,c.week_number),day:R(`group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md`,c.day),range_start:R(`bg-accent rounded-l-md`,c.range_start),range_middle:R(`rounded-none`,c.range_middle),range_end:R(`bg-accent rounded-r-md`,c.range_end),today:R(`bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none`,c.today),outside:R(`text-muted-foreground aria-selected:text-muted-foreground`,c.outside),disabled:R(`text-muted-foreground opacity-50`,c.disabled),hidden:R(`invisible`,c.hidden),...t},components:{Root:({className:e,rootRef:t,...n})=>(0,P.jsx)(`div`,{"data-slot":`calendar`,ref:t,className:R(e),...n}),Chevron:({className:e,orientation:t,...n})=>t===`left`?(0,P.jsx)(va,{className:R(`size-4`,e),...n}):t===`right`?(0,P.jsx)(ya,{className:R(`size-4`,e),...n}):(0,P.jsx)(_a,{className:R(`size-4`,e),...n}),DayButton:Aj,WeekNumber:({children:e,...t})=>(0,P.jsx)(`td`,{...t,children:(0,P.jsx)(`div`,{className:`flex size-[--cell-size] items-center justify-center text-center`,children:e})}),...o},...s})}function Aj({className:e,day:t,modifiers:n,...r}){let i=dA(),a=S.useRef(null);return S.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),(0,P.jsx)(B,{ref:a,variant:`ghost`,size:`icon`,"data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:R(`data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70`,i.day,e),...r})}function jj({date:e,setDate:t,placeholder:n=`Selecione uma data`,className:r,disabled:i}){return(0,P.jsxs)(xE,{children:[(0,P.jsx)(SE,{asChild:!0,children:(0,P.jsxs)(B,{variant:`outline`,disabled:i,className:R(`w-full justify-start text-left font-normal`,!e&&`text-muted-foreground`,r),children:[(0,P.jsx)(ma,{className:`mr-2 h-4 w-4`}),e?Ic(e,`PPP`,{locale:ZO}):(0,P.jsx)(`span`,{children:n})]})}),(0,P.jsx)(CE,{className:`w-auto p-0`,children:(0,P.jsx)(kj,{mode:`single`,selected:e,onSelect:t,initialFocus:!0,locale:ZO})})]})}function Mj({open:e,onOpenChange:t,onSave:n,employees:r,projects:i,initialData:a}){let[o,s]=(0,S.useState)({colaboradorId:``,mesReferencia:Ic(new Date,`yyyy-MM`),valorAPagar:0,status:`pendente`,observacoes:``,tipoRemuneracao:`fixed`,producaoData:void 0,producaoObraId:``,producaoValorTotal:0}),[c,l]=(0,S.useState)(null),[u,d]=(0,S.useState)(null);return(0,S.useEffect)(()=>{if(a){let e=a.colaboradorId?r.find(e=>e.id===a.colaboradorId):null;l(e||null),s({colaboradorId:a.colaboradorId||``,mesReferencia:a.mesReferencia||Ic(new Date,`yyyy-MM`),valorAPagar:a.valorAPagar||0,status:a.status||`pendente`,observacoes:a.observacoes||``,tipoRemuneracao:e?.tipoRemuneracao||`fixed`,producaoObraId:e?.producaoObraId||``,producaoValorTotal:e?.producaoValorTotal||0,producaoData:e?.producaoData?new Date(e.producaoData):void 0,id:a.id})}else s({colaboradorId:``,mesReferencia:Ic(new Date,`yyyy-MM`),valorAPagar:0,status:`pendente`,observacoes:``,tipoRemuneracao:`fixed`}),l(null);d(null)},[a,r,e]),(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsxs)(rD,{className:`max-w-2xl max-h-[90vh] overflow-y-auto`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:o.id?`Editar Lanamento`:`Novo Lanamento de Pagamento`})}),(0,P.jsxs)(`div`,{className:`space-y-8 py-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Dados do Funcionrio`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Nome Completo`}),(0,P.jsxs)(RO,{value:o.colaboradorId,onValueChange:e=>{let t=r.find(t=>t.id===e);l(t||null),t&&s({...o,colaboradorId:e,tipoRemuneracao:t.tipoRemuneracao||`fixed`,valorAPagar:t.tipoRemuneracao===`production`?t.producaoValorTotal||0:t.salary||0,producaoObraId:t.producaoObraId||``,producaoValorTotal:t.producaoValorTotal||0,producaoData:t.producaoData?new Date(t.producaoData):void 0})},disabled:!!o.id,children:[(0,P.jsx)(BO,{className:`bg-white border-slate-200`,children:(0,P.jsx)(zO,{placeholder:`Selecione um funcionrio`})}),(0,P.jsx)(UO,{children:r.filter(e=>e.status===`ativo`).map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`CPF`}),(0,P.jsx)(V,{value:c?.cpf||``,readOnly:!0,className:`bg-slate-50 border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`RG`}),(0,P.jsx)(V,{value:c?.rg||``,readOnly:!0,className:`bg-slate-50 border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Funo`}),(0,P.jsx)(V,{value:c?.role||``,readOnly:!0,className:`bg-slate-50 border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2 md:col-span-2`,children:[(0,P.jsx)(K,{children:`Obra Vinculada (No Cadastro)`}),(0,P.jsx)(V,{value:i.find(e=>e.id===c?.producaoObraId)?.name||`Sem Obra`,readOnly:!0,className:`bg-slate-50 border-slate-200`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-6 pt-4 border-t`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Regras de Remunerao`}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Tipo de Remunerao`}),(0,P.jsxs)(RO,{value:o.tipoRemuneracao,onValueChange:e=>s({...o,tipoRemuneracao:e}),children:[(0,P.jsx)(BO,{className:`w-full bg-white border-slate-200 shadow-sm`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`fixed`,children:`Piso / Salrio Fixo`}),(0,P.jsx)(Q,{value:`production`,children:`Produo / Tarefa`})]})]})]}),o.tipoRemuneracao===`fixed`?(0,P.jsxs)(`div`,{className:`space-y-2 animate-in slide-in-from-top-2 duration-200`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Salrio / Piso (R$)`}),(0,P.jsx)(KE,{value:o.valorAPagar,onChange:e=>s({...o,valorAPagar:e})})]}):(0,P.jsxs)(`div`,{className:`space-y-4 p-5 border rounded-xl bg-blue-50 border-blue-100 animate-in slide-in-from-top-2 duration-200`,children:[(0,P.jsx)(`h4`,{className:`text-xs font-bold text-blue-800 uppercase`,children:`Controle de Produo`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2 text-blue-700`,children:[(0,P.jsx)(K,{className:`text-xs font-bold`,children:`Data Ref.`}),(0,P.jsx)(jj,{date:o.producaoData,setDate:e=>s({...o,producaoData:e})})]}),(0,P.jsxs)(`div`,{className:`space-y-2 text-blue-700`,children:[(0,P.jsx)(K,{className:`text-xs font-bold`,children:`Obra`}),(0,P.jsxs)(RO,{value:o.producaoObraId||`none`,onValueChange:e=>s({...o,producaoObraId:e===`none`?null:e}),children:[(0,P.jsx)(BO,{className:`bg-white border-blue-200 shadow-sm`,children:(0,P.jsx)(zO,{placeholder:`Obra`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`Selecione...`}),i.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 md:col-span-2 text-blue-700`,children:[(0,P.jsx)(K,{className:`text-xs font-bold`,children:`Valor Total Produzido (R$)`}),(0,P.jsx)(KE,{value:o.valorAPagar,onChange:e=>s({...o,valorAPagar:e,producaoValorTotal:e})})]})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 pt-4 border-t`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Detalhes do Lanamento`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Ms de Referncia`}),(0,P.jsx)(V,{type:`month`,value:o.mesReferencia,onChange:e=>s({...o,mesReferencia:e.target.value}),className:`bg-white border-slate-200 shadow-sm`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Status`}),(0,P.jsxs)(RO,{value:o.status,onValueChange:e=>s({...o,status:e}),children:[(0,P.jsx)(BO,{className:`bg-white border-slate-200 shadow-sm`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`pendente`,children:`Pendente`}),(0,P.jsx)(Q,{value:`pago`,children:`Pago`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Holerite / Comprovante (PDF/Imagem)`}),(0,P.jsx)(V,{type:`file`,onChange:e=>d(e.target.files?.[0]||null),accept:`image/*,application/pdf`,className:`bg-white border-slate-200 shadow-sm`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Observaes`}),(0,P.jsx)(V,{value:o.observacoes,onChange:e=>s({...o,observacoes:e.target.value}),placeholder:`Ex: Pagamento referente a dirias extras`,className:`bg-white border-slate-200 shadow-sm`})]})]}),c&&(0,P.jsxs)(`div`,{className:`space-y-4 pt-4 border-t`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Dados Bancrios para Pagamento`}),(0,P.jsxs)(`div`,{className:`bg-slate-50 p-5 rounded-xl border border-slate-200 shadow-sm text-sm grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Banco`}),(0,P.jsx)(`p`,{className:`font-semibold text-slate-900`,children:c.bankDetails?.bank||`No informado`})]}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Agncia`}),(0,P.jsx)(`p`,{className:`font-semibold text-slate-900`,children:c.bankDetails?.agency||`No informado`})]}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Conta Corrente`}),(0,P.jsx)(`p`,{className:`font-semibold text-slate-900`,children:c.bankDetails?.account||`No informado`})]}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Chave PIX`}),(0,P.jsx)(`p`,{className:`font-semibold text-slate-900`,children:c.bankDetails?.pix||`No informado`})]})]})]})]}),(0,P.jsxs)(aD,{className:`border-t pt-6 bg-slate-50/50 -mx-6 px-6 -mb-6 pb-6 rounded-b-lg`,children:[(0,P.jsx)(B,{variant:`outline`,onClick:()=>t(!1),children:`Cancelar`}),(0,P.jsx)(B,{onClick:()=>{!o.colaboradorId||!o.mesReferencia||n({...o,file:u})},className:`bg-orange-600 hover:bg-orange-700 text-white font-bold`,children:o.id?`Salvar Alteraes`:`Finalizar Lanamento`})]})]})})}function Nj(){let{employees:e,projects:t,employeePayments:n,addEmployeePayment:r,updateEmployeePayment:i,deleteEmployeePayment:a}=PS(),{toast:o}=$n(),[s,c]=(0,S.useState)(``),[l,u]=(0,S.useState)(`all`),[d,f]=(0,S.useState)(!1),[p,m]=(0,S.useState)(null),[h,g]=(0,S.useState)(!1),[_,v]=(0,S.useState)([]),[y,b]=(0,S.useState)(!1);e.filter(e=>e.status===`ativo`);let x=n.map(t=>({employee:e.find(e=>e.id===t.colaboradorId),payment:t})).filter(e=>{if(!e.employee)return!1;let t=e.employee.name.toLowerCase().includes(s.toLowerCase())||e.employee.cpf?.includes(s),n=l===`all`||e.payment?.status===l;return t&&n}),C=()=>{m({mesReferencia:Ic(new Date,`yyyy-MM`),valorAPagar:0,status:`pendente`}),f(!0)},w=(e,t)=>{m({...t||{colaboradorId:e.id,mesReferencia:Ic(new Date,`yyyy-MM`),valorAPagar:e.tipoRemuneracao===`production`?e.producaoValorTotal||0:e.salary||0,status:`pendente`},employee:e}),f(!0)},T=async e=>{if(p)try{let{file:t,...n}=e;n.id?await i(n.id,n):await r(n),t&&n.colaboradorId&&await OS.uploadPayslip(n.colaboradorId,n.mesReferencia,t),o({title:`Sucesso`,description:`Pagamento salvo com sucesso.`}),f(!1)}catch(e){console.error(e),o({title:`Erro`,description:`Falha ao salvar pagamento.`,variant:`destructive`})}},E=async e=>{if(confirm(`Tem certeza que deseja excluir este registro de pagamento?`))try{await a(e),o({title:`Sucesso`,description:`Registro excludo.`})}catch{o({title:`Erro`,description:`Falha ao excluir.`,variant:`destructive`})}},D=async e=>{try{await i(e,{status:`pago`,dataPagamento:new Date}),o({title:`Sucesso`,description:`Pagamento marcado como pago.`})}catch{o({title:`Erro`,description:`Falha ao atualizar status.`,variant:`destructive`})}},O=async(e,t)=>{try{v(await OS.getPayslips(e)),m({colaboradorId:e,mesReferencia:t}),g(!0)}catch{o({title:`Erro`,description:`Falha ao carregar holerites.`,variant:`destructive`})}},k=async e=>{let t=e.target.files?.[0];if(!t||!p?.colaboradorId)return;let n=p.mesReferencia||Ic(new Date,`yyyy-MM`);b(!0);try{await OS.uploadPayslip(p.colaboradorId,n,t),o({title:`Sucesso`,description:`Holerite enviado.`}),v(await OS.getPayslips(p.colaboradorId))}catch{o({title:`Erro`,description:`Falha no upload.`,variant:`destructive`})}finally{b(!1)}},A=async e=>{if(confirm(`Excluir este holerite?`))try{await OS.deletePayslip(e.id,e.urlArquivo),v(_.filter(t=>t.id!==e.id)),o({title:`Sucesso`,description:`Holerite excludo.`})}catch{o({title:`Erro`,description:`Falha ao excluir.`,variant:`destructive`})}};return(0,P.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-2xl font-bold text-slate-900`,children:`Pagamento de Funcionrios`}),(0,P.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`Gerencie pagamentos e holerites dos colaboradores ativos.`})]}),(0,P.jsxs)(B,{onClick:C,className:`bg-orange-600 hover:bg-orange-700`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Lanamento`]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg shadow-sm`,children:[(0,P.jsxs)(`div`,{className:`flex-1 relative`,children:[(0,P.jsx)(no,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400`}),(0,P.jsx)(V,{placeholder:`Buscar por nome ou CPF...`,className:`pl-9`,value:s,onChange:e=>c(e.target.value)})]}),(0,P.jsxs)(RO,{value:l,onValueChange:u,children:[(0,P.jsx)(BO,{className:`w-[180px]`,children:(0,P.jsx)(zO,{placeholder:`Status`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos Pagamentos`}),(0,P.jsx)(Q,{value:`pendente`,children:`Pendentes`}),(0,P.jsx)(Q,{value:`pago`,children:`Pagos`})]})]})]}),(0,P.jsx)(`div`,{className:`bg-white rounded-xl shadow-sm border overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-slate-50`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Colaborador`}),(0,P.jsx)(X,{children:`Obra`}),(0,P.jsx)(X,{children:`Remunerao`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{children:`Ms Ref.`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:x.length===0?(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:7,className:`text-center py-12 text-slate-500`,children:`Nenhum pagamento registrado para os filtros selecionados.`})}):x.map(e=>(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`font-medium text-slate-900`,children:e.employee.name}),(0,P.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[`CPF: `,e.employee.cpf||`N/A`]})]})}),(0,P.jsx)(Z,{children:t.find(t=>t.id===e.employee.producaoObraId)?.name||`Sem Obra`}),(0,P.jsx)(Z,{children:(0,P.jsx)(WE,{variant:`outline`,children:e.employee.tipoRemuneracao===`production`?`Produo`:`Piso / Fixo`})}),(0,P.jsx)(Z,{className:`font-semibold text-slate-700`,children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`}).format(e.payment?.valorAPagar??(e.employee.tipoRemuneracao===`production`?e.employee.producaoValorTotal||0:e.employee.salary||0))}),(0,P.jsx)(Z,{children:e.payment?(0,P.jsx)(WE,{className:e.payment.status===`pago`?`bg-green-100 text-green-700 hover:bg-green-100`:`bg-amber-100 text-amber-700 hover:bg-amber-100`,children:e.payment.status.toUpperCase()}):(0,P.jsx)(WE,{variant:`secondary`,children:`NO LANADO`})}),(0,P.jsx)(Z,{children:e.payment?.mesReferencia||`-`}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2 text-[#000000]`,children:[e.payment&&e.payment.status===`pendente`&&(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>D(e.payment.id),title:`Marcar como Pago`,children:(0,P.jsx)(ga,{className:`h-4 w-4 text-green-600`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>w(e.employee,e.payment),children:(0,P.jsx)(Pj,{className:`h-4 w-4 text-blue-600`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>O(e.employee.id),children:(0,P.jsx)(Fa,{className:`h-4 w-4 text-slate-600`})}),e.payment&&(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>E(e.payment.id),children:(0,P.jsx)(so,{className:`h-4 w-4 text-red-600`})})]})})]},e.payment.id))})]})}),(0,P.jsx)(Mj,{open:d,onOpenChange:f,onSave:T,employees:e,projects:t,initialData:p}),(0,P.jsx)(QE,{open:h,onOpenChange:g,children:(0,P.jsxs)(rD,{className:`max-w-lg`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:`Gerenciar Holerites`})}),p?.colaboradorId&&(0,P.jsxs)(`div`,{className:`space-y-6 py-4`,children:[(0,P.jsxs)(`div`,{className:`bg-slate-50 p-4 rounded-lg border border-slate-200`,children:[(0,P.jsx)(`p`,{className:`text-sm font-bold text-slate-900`,children:e.find(e=>e.id===p.colaboradorId)?.name}),(0,P.jsxs)(`p`,{className:`text-xs text-slate-500`,children:[`Ms de Referncia: `,(0,P.jsx)(`span`,{className:`font-semibold text-orange-600`,children:p.mesReferencia||`No especificado`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,P.jsx)(K,{className:`font-bold`,children:`Arquivos Anexados`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(`input`,{type:`file`,className:`hidden`,id:`payslip-upload`,onChange:k,disabled:y,accept:`image/*,application/pdf`}),(0,P.jsx)(K,{htmlFor:`payslip-upload`,className:`cursor-pointer`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2 bg-orange-600 text-white px-3 py-2 rounded-md font-medium text-sm hover:bg-orange-700 transition-colors shadow-sm`,children:[(0,P.jsx)($a,{className:`h-4 w-4`}),`Anexar Holerite`]})})]})]}),y&&(0,P.jsxs)(`div`,{className:`flex items-center justify-center py-2 gap-2 text-blue-600 animate-pulse`,children:[(0,P.jsx)(`div`,{className:`w-2 h-2 bg-blue-600 rounded-full`}),(0,P.jsx)(`p`,{className:`text-xs font-bold uppercase tracking-wider`,children:`Enviando documento...`})]}),(0,P.jsx)(`div`,{className:`border rounded-xl divide-y bg-white overflow-hidden shadow-sm`,children:_.filter(e=>!p.mesReferencia||e.mesReferencia===p.mesReferencia).length===0?(0,P.jsxs)(`div`,{className:`p-8 text-center space-y-2`,children:[(0,P.jsx)(`div`,{className:`mx-auto w-12 h-12 bg-slate-50 rounded-full flex items-center justify-center`,children:(0,P.jsx)(Fa,{className:`h-6 w-6 text-slate-300`})}),(0,P.jsx)(`p`,{className:`text-slate-500 text-sm`,children:`Nenhum holerite encontrado para este ms.`})]}):_.filter(e=>!p.mesReferencia||e.mesReferencia===p.mesReferencia).map(e=>(0,P.jsxs)(`div`,{className:`p-4 flex items-center justify-between hover:bg-slate-50 transition-colors`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`p-2.5 bg-red-50 rounded-lg text-red-600 border border-red-100`,children:(0,P.jsx)(Fa,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-semibold text-slate-900 truncate max-w-[200px]`,children:e.nomeArquivo}),(0,P.jsxs)(`p`,{className:`text-[10px] font-bold text-slate-400 uppercase tracking-tighter`,children:[`Referncia: `,e.mesReferencia]})]})]}),(0,P.jsxs)(`div`,{className:`flex gap-2`,children:[(0,P.jsx)(B,{variant:`outline`,size:`icon`,className:`h-8 w-8 hover:bg-slate-100`,asChild:!0,children:(0,P.jsx)(`a`,{href:e.urlArquivo,target:`_blank`,rel:`noreferrer`,children:(0,P.jsx)(Ma,{className:`h-4 w-4 text-slate-600`})})}),(0,P.jsx)(B,{variant:`outline`,size:`icon`,className:`h-8 w-8 hover:bg-red-50 border-red-100 group`,onClick:()=>A(e),children:(0,P.jsx)(so,{className:`h-4 w-4 text-red-600 group-hover:scale-110 transition-transform`})})]})]},e.id))}),_.filter(e=>p.mesReferencia&&e.mesReferencia!==p.mesReferencia).length>0&&(0,P.jsxs)(`div`,{className:`pt-4 mt-4 border-t border-dashed`,children:[(0,P.jsx)(`p`,{className:`text-[10px] font-bold text-slate-400 uppercase mb-3`,children:`Outros Meses`}),(0,P.jsx)(`div`,{className:`grid grid-cols-2 gap-2`,children:Array.from(new Set(_.filter(e=>e.mesReferencia!==p.mesReferencia).map(e=>e.mesReferencia))).map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between p-2 rounded bg-slate-50 border border-slate-100 text-[11px]`,children:[(0,P.jsx)(`span`,{className:`font-medium`,children:e}),(0,P.jsx)(B,{variant:`ghost`,size:`sm`,className:`h-6 p-1 text-slate-500 hover:text-orange-600`,onClick:()=>m({...p,mesReferencia:e}),children:`Ver`})]},e))})]})]})]}),(0,P.jsx)(aD,{className:`bg-slate-50/50 -mx-6 px-6 -mb-6 pb-6 pt-4 rounded-b-lg border-t`,children:(0,P.jsx)(B,{className:`w-full bg-slate-900 hover:bg-slate-800`,onClick:()=>g(!1),children:`Fechar Gerenciador`})})]})})]})}function Pj({className:e}){return(0,P.jsxs)(`svg`,{xmlns:`http://www.w3.org/2000/svg`,width:`24`,height:`24`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,className:e,children:[(0,P.jsx)(`path`,{d:`M12 22h6`}),(0,P.jsx)(`path`,{d:`M18.5 4.9L21 7.4l-12 12L6.5 16.9l12-12z`}),(0,P.jsx)(`path`,{d:`M15 6.5l2.5 2.5`})]})}var Fj=`AlertDialog`,[Ij,Lj]=or(Fj,[Lh]),Rj=Lh(),zj=e=>{let{__scopeAlertDialog:t,...n}=e,r=Rj(t);return(0,P.jsx)(hg,{...r,...n,modal:!0})};zj.displayName=Fj;var Bj=`AlertDialogTrigger`,Vj=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=Rj(n);return(0,P.jsx)(gg,{...i,...r,ref:t})});Vj.displayName=Bj;var Hj=`AlertDialogPortal`,Uj=e=>{let{__scopeAlertDialog:t,...n}=e,r=Rj(t);return(0,P.jsx)(_g,{...r,...n})};Uj.displayName=Hj;var Wj=`AlertDialogOverlay`,Gj=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=Rj(n);return(0,P.jsx)(vg,{...i,...r,ref:t})});Gj.displayName=Wj;var Kj=`AlertDialogContent`,[qj,Jj]=Ij(Kj),Yj=dr(`AlertDialogContent`),Xj=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,children:r,...i}=e,a=Rj(n),o=S.useRef(null),s=rr(t,o),c=S.useRef(null);return(0,P.jsx)(ug,{contentName:Kj,titleName:Zj,docsSlug:`alert-dialog`,children:(0,P.jsx)(qj,{scope:n,cancelRef:c,children:(0,P.jsxs)(yg,{role:`alertdialog`,...a,...i,ref:s,onOpenAutoFocus:N(i.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,P.jsx)(Yj,{children:r}),(0,P.jsx)(aM,{contentRef:o})]})})})});Xj.displayName=Kj;var Zj=`AlertDialogTitle`,Qj=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=Rj(n);return(0,P.jsx)(bg,{...i,...r,ref:t})});Qj.displayName=Zj;var $j=`AlertDialogDescription`,eM=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=Rj(n);return(0,P.jsx)(xg,{...i,...r,ref:t})});eM.displayName=$j;var tM=`AlertDialogAction`,nM=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,i=Rj(n);return(0,P.jsx)(Sg,{...i,...r,ref:t})});nM.displayName=tM;var rM=`AlertDialogCancel`,iM=S.forwardRef((e,t)=>{let{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Jj(rM,n),a=Rj(n),o=rr(t,i);return(0,P.jsx)(Sg,{...a,...r,ref:o})});iM.displayName=rM;var aM=({contentRef:e})=>{let t=`\`${Kj}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kj}\` by passing a \`${$j}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kj}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return S.useEffect(()=>{document.getElementById(e.current?.getAttribute(`aria-describedby`))||console.warn(t)},[t,e]),null},oM=zj,sM=Uj,cM=Gj,lM=Xj,uM=nM,dM=iM,fM=Qj,pM=eM,mM=oM,hM=sM,gM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(cM,{className:R(`fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0`,e),...t,ref:n}));gM.displayName=cM.displayName;var _M=S.forwardRef(({className:e,...t},n)=>(0,P.jsxs)(hM,{children:[(0,P.jsx)(gM,{}),(0,P.jsx)(lM,{ref:n,className:R(`fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg`,e),...t})]}));_M.displayName=lM.displayName;var vM=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col space-y-2 text-center sm:text-left`,e),...t});vM.displayName=`AlertDialogHeader`;var yM=({className:e,...t})=>(0,P.jsx)(`div`,{className:R(`flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2`,e),...t});yM.displayName=`AlertDialogFooter`;var bM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(fM,{ref:n,className:R(`text-lg font-semibold`,e),...t}));bM.displayName=fM.displayName;var xM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(pM,{ref:n,className:R(`text-sm text-muted-foreground`,e),...t}));xM.displayName=pM.displayName;var SM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(uM,{ref:n,className:R(Vp(),e),...t}));SM.displayName=uM.displayName;var CM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(dM,{ref:n,className:R(Vp({variant:`outline`}),`mt-2 sm:mt-0`,e),...t}));CM.displayName=dM.displayName;var wM=`Tabs`,[TM,EM]=or(wM,[KS]),DM=KS(),[OM,kM]=TM(wM),AM=S.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o=`horizontal`,dir:s,activationMode:c=`automatic`,...l}=e,u=RS(s),[d,f]=Wr({prop:r,onChange:i,defaultProp:a??``,caller:wM});return(0,P.jsx)(OM,{scope:n,baseId:z(),value:d,onValueChange:f,orientation:o,dir:u,activationMode:c,children:(0,P.jsx)(F.div,{dir:u,"data-orientation":o,...l,ref:t})})});AM.displayName=wM;var jM=`TabsList`,MM=S.forwardRef((e,t)=>{let{__scopeTabs:n,loop:r=!0,...i}=e,a=kM(jM,n),o=DM(n);return(0,P.jsx)(iC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:(0,P.jsx)(F.div,{role:`tablist`,"aria-orientation":a.orientation,...i,ref:t})})});MM.displayName=jM;var NM=`TabsTrigger`,PM=S.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=kM(NM,n),s=DM(n),c=LM(o.baseId,r),l=RM(o.baseId,r),u=r===o.value;return(0,P.jsx)(aC,{asChild:!0,...s,focusable:!i,active:u,children:(0,P.jsx)(F.button,{type:`button`,role:`tab`,"aria-selected":u,"aria-controls":l,"data-state":u?`active`:`inactive`,"data-disabled":i?``:void 0,disabled:i,id:c,...a,ref:t,onMouseDown:N(e.onMouseDown,e=>{!i&&e.button===0&&e.ctrlKey===!1?o.onValueChange(r):e.preventDefault()}),onKeyDown:N(e.onKeyDown,e=>{[` `,`Enter`].includes(e.key)&&o.onValueChange(r)}),onFocus:N(e.onFocus,()=>{let e=o.activationMode!==`manual`;!u&&!i&&e&&o.onValueChange(r)})})})});PM.displayName=NM;var FM=`TabsContent`,IM=S.forwardRef((e,t)=>{let{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=kM(FM,n),c=LM(s.baseId,r),l=RM(s.baseId,r),u=r===s.value,d=S.useRef(u);return S.useEffect(()=>{let e=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,P.jsx)(zr,{present:i||u,children:({present:n})=>(0,P.jsx)(F.div,{"data-state":u?`active`:`inactive`,"data-orientation":s.orientation,role:`tabpanel`,"aria-labelledby":c,hidden:!n,id:l,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:d.current?`0s`:void 0},children:n&&a})})});IM.displayName=FM;function LM(e,t){return`${e}-trigger-${t}`}function RM(e,t){return`${e}-content-${t}`}var zM=AM,BM=MM,VM=PM,HM=IM,UM=zM,WM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(BM,{ref:n,className:R(`inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground`,e),...t}));WM.displayName=BM.displayName;var GM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(VM,{ref:n,className:R(`inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm`,e),...t}));GM.displayName=VM.displayName;var KM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(HM,{ref:n,className:R(`mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2`,e),...t}));KM.displayName=HM.displayName;var qM=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(`textarea`,{className:R(`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm`,e),ref:n,...t}));qM.displayName=`Textarea`;var JM=[{id:`rg`,label:`RG (Identidade)`},{id:`cpf`,label:`CPF (Cadastro de Pessoa Fsica)`},{id:`contrato`,label:`Contrato de Trabalho`},{id:`folha_registro`,label:`Folha de Registro`},{id:`aso`,label:`ASO (Atestado de Sade)`},{id:`epi`,label:`Ficha de EPI`},{id:`nr6`,label:`NR 06 - EPI`},{id:`nr10`,label:`NR 10 - Eletricidade`},{id:`nr12`,label:`NR 12 - Mquinas`},{id:`nr17`,label:`NR 17 - Ergonomia`},{id:`nr18`,label:`NR 18 - Construo Civil`},{id:`nr35`,label:`NR 35 - Altura`},{id:`os`,label:`Ordem de Servio (OS)`}],YM={name:``,email:``,phone:``,cpf:``,rg:``,street:``,number:``,neighborhood:``,city:``,state:``,role:``,salary:0,status:`ativo`,admissionDate:new Date,bankDetails:{bank:``,agency:``,account:``,pix:``},emergencyContact:{name:``,phone:``},tipoRemuneracao:`fixed`,carteira_digital_login:``,carteira_digital_senha:``,observacoes_periodo:``,historico_colaborador:``,dismissalDate:void 0};function XM({open:e,onOpenChange:t,employeeToEdit:n}){let{addEmployee:r,updateEmployee:i,fetchEmployees:a,fetchExpiringDocuments:o,projects:s}=PS(),{toast:c}=$n(),[l,u]=(0,S.useState)(YM),[d,f]=(0,S.useState)(!1),[p,m]=(0,S.useState)(`geral`),[h,g]=(0,S.useState)({}),[_,v]=(0,S.useState)([]),[y,b]=(0,S.useState)(null),[x,C]=(0,S.useState)(null),[w,T]=(0,S.useState)([]),[E,D]=(0,S.useState)(!1);(0,S.useEffect)(()=>{e&&p===`holerites`&&n&&O()},[p,e,n]);let O=async()=>{if(n){D(!0);try{T(await OS.getPayslips(n.id))}catch(e){console.error(`Error loading payslips:`,e)}finally{D(!1)}}};(0,S.useEffect)(()=>{if(n?(u({...n}),C(n.photoUrl||null)):(u(YM),C(null)),m(`geral`),n?.documents){let e=JM.map(e=>e.id);v(Object.keys(n.documents).filter(t=>!e.includes(t)))}else v([]);g({}),b(null)},[n,e]);let k=(e,t)=>{g(n=>({...n,[e]:{...n[e],file:t}}))},A=(e,t)=>{g(n=>({...n,[e]:{...n[e],expiry:t}}))},ee=(e,t)=>{g(n=>({...n,[e]:{...n[e],description:t}}))},te=(e,t)=>{g(n=>({...n,[e]:{...n[e],customLabel:t}}))};return(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsxs)(rD,{className:`sm:max-w-4xl max-h-[90vh] flex flex-col p-0 gap-0`,children:[(0,P.jsx)(iD,{className:`p-6 pb-2 border-b flex flex-row items-center justify-between`,children:(0,P.jsx)(oD,{className:`text-xl`,children:n?`Editar Perfil do Colaborador`:`Cadastro de Novo Colaborador`})}),(0,P.jsx)(`div`,{className:`flex-1 overflow-y-auto`,children:(0,P.jsxs)(UM,{value:p,onValueChange:m,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`w-full justify-start rounded-none border-b bg-transparent p-0 pl-6 flex-wrap h-auto`,children:[(0,P.jsx)(GM,{value:`geral`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Dados Gerais`}),(0,P.jsx)(GM,{value:`profissional`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Profissional`}),(0,P.jsx)(GM,{value:`financeiro`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Financeiro`}),(0,P.jsx)(GM,{value:`documentos`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Documentos`}),(0,P.jsx)(GM,{value:`holerites`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Holerites`})]}),(0,P.jsxs)(`div`,{className:`p-6`,children:[(0,P.jsx)(KM,{value:`geral`,className:`space-y-6 mt-0 animate-in fade-in-50 duration-300`,children:(0,P.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-8`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-3 pt-4`,children:[(0,P.jsxs)(`div`,{className:`relative group`,children:[(0,P.jsx)(`div`,{className:`w-32 h-32 rounded-full border-4 border-slate-100 shadow-sm overflow-hidden bg-slate-50 flex items-center justify-center shrink-0 hover:bg-slate-100 transition-colors`,children:x?(0,P.jsx)(`img`,{src:x,alt:`Preview`,className:`w-full h-full object-cover`}):(0,P.jsx)(mo,{className:`w-16 h-16 text-slate-300`})}),(0,P.jsx)(K,{htmlFor:`photo-upload`,className:`absolute bottom-1 right-1 p-2 bg-orange-600 rounded-full text-white cursor-pointer shadow-lg hover:bg-orange-700 transition-colors border-2 border-white`,children:(0,P.jsx)(ha,{className:`h-4 w-4`})}),(0,P.jsx)(`input`,{type:`file`,id:`photo-upload`,className:`hidden`,accept:`image/*`,onChange:e=>{let t=e.target.files?.[0];if(t){b(t);let e=new FileReader;e.onloadend=()=>{C(e.result)},e.readAsDataURL(t)}}})]}),(0,P.jsx)(`span`,{className:`text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em]`,children:`Foto do Perfil`})]}),(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4`,children:[(0,P.jsxs)(`div`,{className:`md:col-span-2 space-y-2`,children:[(0,P.jsxs)(K,{className:`text-slate-600 font-semibold`,children:[`Nome Completo `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{value:l.name,onChange:e=>u({...l,name:e.target.value}),placeholder:`Ex: Joo da Silva`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`CPF`}),(0,P.jsx)(V,{value:l.cpf||``,onChange:e=>u({...l,cpf:e.target.value}),placeholder:`000.000.000-00`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`RG`}),(0,P.jsx)(V,{value:l.rg||``,onChange:e=>u({...l,rg:e.target.value}),placeholder:`00.000.000-0`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Telefone`}),(0,P.jsx)(V,{value:l.phone||``,onChange:e=>u({...l,phone:e.target.value}),placeholder:`(00) 00000-0000`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`E-mail`}),(0,P.jsx)(V,{value:l.email||``,onChange:e=>u({...l,email:e.target.value}),placeholder:`email@exemplo.com`,className:`bg-white border-slate-200`})]})]}),(0,P.jsxs)(`div`,{className:`pt-8 border-t border-slate-100 space-y-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,P.jsx)(`div`,{className:`w-1 h-4 bg-orange-500 rounded-full`}),(0,P.jsx)(`h3`,{className:`text-[11px] font-bold text-slate-500 uppercase tracking-widest`,children:`Endereo Residencial`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-4 gap-4`,children:[(0,P.jsxs)(`div`,{className:`md:col-span-3 space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Logradouro / Rua`}),(0,P.jsx)(V,{value:l.street||``,onChange:e=>u({...l,street:e.target.value}),className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Nmero`}),(0,P.jsx)(V,{value:l.number||``,onChange:e=>u({...l,number:e.target.value}),className:`bg-white border-slate-200`})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Bairro`}),(0,P.jsx)(V,{value:l.neighborhood||``,onChange:e=>u({...l,neighborhood:e.target.value}),className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-3 gap-2`,children:[(0,P.jsxs)(`div`,{className:`col-span-2 space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Cidade`}),(0,P.jsx)(V,{value:l.city||``,onChange:e=>u({...l,city:e.target.value}),className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`UF`}),(0,P.jsx)(V,{value:l.state||``,onChange:e=>u({...l,state:e.target.value}),maxLength:2,className:`uppercase bg-white border-slate-200`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`pt-8 border-t border-slate-100 space-y-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,P.jsx)(`div`,{className:`w-1 h-4 bg-orange-500 rounded-full`}),(0,P.jsx)(`h3`,{className:`text-[11px] font-bold text-slate-500 uppercase tracking-widest`,children:`Contato de Emergncia`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Nome do Contato`}),(0,P.jsx)(V,{value:l.emergencyContact?.name||``,onChange:e=>u({...l,emergencyContact:{...l.emergencyContact||{name:``,phone:``},name:e.target.value}}),placeholder:`Ex: Maria da Silva`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Telefone do Contato`}),(0,P.jsx)(V,{value:l.emergencyContact?.phone||``,onChange:e=>u({...l,emergencyContact:{...l.emergencyContact||{name:``,phone:``},phone:e.target.value}}),placeholder:`(00) 00000-0000`,className:`bg-white border-slate-200`})]})]})]})]})]})}),(0,P.jsx)(KM,{value:`profissional`,className:`space-y-6 mt-0 animate-in fade-in-50 duration-300`,children:(0,P.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-6`,children:[(0,P.jsx)(`div`,{className:`border rounded-lg p-5 bg-slate-50 border-slate-200`,children:(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(`div`,{className:R(`w-3 h-3 rounded-full`,l.status===`ativo`?`bg-green-500`:l.status===`ferias`?`bg-blue-500`:l.status===`afastado`?`bg-amber-500`:`bg-slate-400`)}),(0,P.jsx)(K,{className:`font-semibold text-slate-700`,children:`Status do Colaborador`})]}),(0,P.jsxs)(RO,{value:l.status,onValueChange:e=>u({...l,status:e}),children:[(0,P.jsx)(BO,{className:`bg-white w-full sm:w-[180px] border-slate-200 shadow-sm font-medium`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`ativo`,children:`Ativo`}),(0,P.jsx)(Q,{value:`ferias`,children:`Frias`}),(0,P.jsx)(Q,{value:`afastado`,children:`Afastado`}),(0,P.jsx)(Q,{value:`desligado`,children:`Desligado`})]})]})]})}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Cargo / Funo`}),(0,P.jsx)(V,{value:l.role,onChange:e=>u({...l,role:e.target.value}),placeholder:`Ex: Pedreiro`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Data de Admisso`}),(0,P.jsx)(jj,{date:l.admissionDate,setDate:e=>u({...l,admissionDate:e||new Date})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Data de Demisso`}),(0,P.jsx)(jj,{date:l.dismissalDate,setDate:e=>u({...l,dismissalDate:e})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Vencimento de Frias`}),(0,P.jsx)(jj,{date:l.vacationDueDate,setDate:e=>u({...l,vacationDueDate:e})})]})]}),(0,P.jsx)(`div`,{className:`pt-4`,children:(0,P.jsxs)(`div`,{className:`space-y-4 p-5 rounded-xl bg-orange-50 border border-orange-100 shadow-sm group`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-orange-800 font-bold text-[11px] uppercase tracking-widest`,children:[(0,P.jsx)(`div`,{className:`w-1.5 h-1.5 rounded-full bg-orange-500`}),`Acesso Carteira Digital`]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-orange-700 text-[10px] font-bold uppercase transition-colors group-hover:text-orange-900`,children:`Login / CPF`}),(0,P.jsx)(V,{value:l.carteira_digital_login||``,onChange:e=>u({...l,carteira_digital_login:e.target.value}),className:`bg-white border-orange-200/50 focus-visible:ring-orange-500`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-orange-700 text-[10px] font-bold uppercase transition-colors group-hover:text-orange-900`,children:`Senha`}),(0,P.jsx)(V,{value:l.carteira_digital_senha||``,onChange:e=>u({...l,carteira_digital_senha:e.target.value}),type:`password`,className:`bg-white border-orange-200/50 focus-visible:ring-orange-500`})]})]})]})}),(0,P.jsxs)(`div`,{className:`space-y-4 pt-6 border-t border-slate-100`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Observaes de Perodos Trabalhados`}),(0,P.jsx)(qM,{value:l.observacoes_periodo||``,onChange:e=>u({...l,observacoes_periodo:e.target.value}),placeholder:`Descreva perodos de afastamento ou observaes contratuais`,className:`min-h-[100px] bg-white border-slate-200 focus-visible:ring-orange-500`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Histrico do Colaborador`}),(0,P.jsx)(qM,{value:l.historico_colaborador||``,onChange:e=>u({...l,historico_colaborador:e.target.value}),placeholder:`Histrico interno, promoes ou advertncias`,className:`min-h-[100px] bg-white border-slate-200 focus-visible:ring-orange-500`})]})]})]})}),(0,P.jsx)(KM,{value:`financeiro`,className:`space-y-8 animate-in fade-in-50 duration-300`,children:(0,P.jsx)(`div`,{className:`max-w-4xl mx-auto space-y-8`,children:(0,P.jsxs)(`div`,{className:`space-y-8`,children:[(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Regras de Remunerao`}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Tipo de Remunerao`}),(0,P.jsxs)(RO,{value:l.tipoRemuneracao||`fixed`,onValueChange:e=>u({...l,tipoRemuneracao:e}),children:[(0,P.jsx)(BO,{className:`w-full bg-white border-slate-200 shadow-sm`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`fixed`,children:`Piso / Salrio Fixo`}),(0,P.jsx)(Q,{value:`production`,children:`Produo / Tarefa`})]})]})]}),l.tipoRemuneracao===`fixed`||!l.tipoRemuneracao?(0,P.jsxs)(`div`,{className:`space-y-2 animate-in slide-in-from-top-2 duration-200`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Salrio / Piso (R$)`}),(0,P.jsx)(KE,{value:l.salary||0,onChange:e=>u({...l,salary:e})})]}):(0,P.jsxs)(`div`,{className:`space-y-4 p-5 border rounded-xl bg-blue-50 border-blue-100 animate-in slide-in-from-top-2 duration-200`,children:[(0,P.jsx)(`h4`,{className:`text-xs font-bold text-blue-800 uppercase`,children:`Controle de Produo`}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-blue-700 text-xs font-bold`,children:`Data Ref.`}),(0,P.jsx)(jj,{date:l.producaoData,setDate:e=>u({...l,producaoData:e})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-blue-700 text-xs font-bold`,children:`Obra`}),(0,P.jsxs)(RO,{value:l.producaoObraId||`none`,onValueChange:e=>u({...l,producaoObraId:e===`none`?null:e}),children:[(0,P.jsx)(BO,{className:`bg-white border-blue-200 shadow-sm`,children:(0,P.jsx)(zO,{placeholder:`Obra`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`Selecione...`}),s.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-blue-700 text-xs font-bold`,children:`Valor Total Produzido (R$)`}),(0,P.jsx)(KE,{value:l.producaoValorTotal||0,onChange:e=>u({...l,producaoValorTotal:e})})]})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Dados Bancrios para Pagamento`}),(0,P.jsxs)(`div`,{className:`space-y-4 p-5 border rounded-xl bg-slate-50 border-slate-200 shadow-sm`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Banco`}),(0,P.jsx)(V,{value:l.bankDetails?.bank,onChange:e=>u({...l,bankDetails:{...l.bankDetails,bank:e.target.value}}),placeholder:`Ex: Bradesco, Ita...`,className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Agncia`}),(0,P.jsx)(V,{value:l.bankDetails?.agency,onChange:e=>u({...l,bankDetails:{...l.bankDetails,agency:e.target.value}}),className:`bg-white border-slate-200`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Conta Corrente`}),(0,P.jsx)(V,{value:l.bankDetails?.account,onChange:e=>u({...l,bankDetails:{...l.bankDetails,account:e.target.value}}),className:`bg-white border-slate-200`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-slate-600 font-medium`,children:`Chave PIX (Opcional)`}),(0,P.jsx)(V,{value:l.bankDetails?.pix,onChange:e=>u({...l,bankDetails:{...l.bankDetails,pix:e.target.value}}),placeholder:`E-mail, CPF, Telefone ou Aleatria`,className:`bg-white border-slate-200`})]})]})]})]})})}),(0,P.jsx)(KM,{value:`documentos`,className:`mt-0 animate-in fade-in-50 duration-300 px-1`,children:(0,P.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-4 pt-4`,children:[(0,P.jsxs)(`div`,{className:`bg-amber-50 border border-amber-200 p-4 rounded-lg mb-4 space-y-3`,children:[(0,P.jsx)(`p`,{className:`text-sm text-amber-800 font-medium`,children:`Adicione os documentos obrigatrios. Para documentos j existentes, o sistema manter o arquivo anterior a menos que um novo seja enviado.`}),(0,P.jsxs)(`div`,{className:`flex flex-wrap gap-4 pt-2 border-t border-amber-200/50`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-amber-900/70`,children:[(0,P.jsx)(`div`,{className:`w-2 h-2 rounded-full bg-red-500`}),` Vencido`]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-amber-900/70`,children:[(0,P.jsx)(`div`,{className:`w-2 h-2 rounded-full bg-amber-500`}),` Vencendo (30 dias)`]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider text-amber-900/70`,children:[(0,P.jsx)(`div`,{className:`w-2 h-2 rounded-full bg-green-500`}),` Regular`]})]})]}),(0,P.jsxs)(`div`,{className:`grid gap-4 pb-4`,children:[JM.map(e=>{let t=n?.documents?.[e.id],r=!!h[e.id]?.file||!!t;return(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4 p-4 border rounded-lg bg-white hover:bg-slate-50 transition-colors`,children:[(0,P.jsxs)(`div`,{className:`flex-1`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 flex-wrap`,children:[(0,P.jsx)(`h4`,{className:`font-semibold text-slate-800`,children:e.label}),r&&(0,P.jsx)(Na,{className:`h-4 w-4 text-green-600`}),(()=>{let n=h[e.id]?.expiry||(t?.expiry?new Date(t.expiry):void 0);if(!n)return null;let r=new Date;r.setHours(0,0,0,0);let i=new Date(n);i.setHours(0,0,0,0);let a=i.getTime()-r.getTime(),o=Math.ceil(a/(1e3*60*60*24));return o<0?(0,P.jsx)(`span`,{className:`px-2 py-0.5 rounded-full bg-red-100 text-red-700 text-[10px] font-bold uppercase`,children:`Vencido`}):o<=30?(0,P.jsxs)(`span`,{className:`px-2 py-0.5 rounded-full bg-amber-100 text-amber-700 text-[10px] font-bold uppercase`,children:[`Vence em `,o,` dias`]}):(0,P.jsx)(`span`,{className:`px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-[10px] font-bold uppercase text-opacity-0 group-hover:text-opacity-100 transition-opacity`,children:`Regular`})})()]}),t&&(0,P.jsxs)(`p`,{className:`text-xs text-blue-600 font-medium mt-1`,children:[`J cadastrado: `,t.name]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(ma,{className:`h-4 w-4 text-slate-400`}),(0,P.jsx)(`div`,{className:`w-[140px]`,children:(0,P.jsx)(jj,{date:h[e.id]?.expiry||(t?.expiry?new Date(t.expiry):void 0),setDate:t=>A(e.id,t)})})]}),(0,P.jsx)(`div`,{className:`flex-1 w-full min-w-[150px]`,children:(0,P.jsx)(V,{placeholder:`Descrio / Obs.`,value:h[e.id]?.description??(t?.description||``),onChange:t=>ee(e.id,t.target.value),className:`h-9 text-xs`})}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(`input`,{type:`file`,id:`file-${e.id}`,className:`hidden`,onChange:t=>k(e.id,t.target.files?.[0]||null)}),(0,P.jsx)(K,{htmlFor:`file-${e.id}`,className:`cursor-pointer`,children:(0,P.jsxs)(`div`,{className:R(`flex items-center gap-2 px-3 py-2 rounded-md border text-sm font-medium transition-all shadow-sm`,h[e.id]?.file?`bg-green-50 border-green-200 text-green-700`:`bg-white border-slate-200 text-slate-600 hover:bg-slate-50`),children:[(0,P.jsx)(uo,{className:`h-4 w-4`}),h[e.id]?.file?`Substituir`:`Selecionar`]})})]})]})]},e.id)}),_.length>0&&(0,P.jsxs)(`div`,{className:`space-y-4 pt-4 border-t border-slate-100 mt-4`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold text-slate-500 uppercase tracking-tight`,children:`Documentos Adicionais`}),_.map(e=>{let t=n?.documents?.[e],r=!!h[e]?.file||!!t;return(0,P.jsxs)(`div`,{className:`flex flex-col gap-4 p-4 border rounded-lg bg-white hover:bg-slate-50 transition-colors`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4`,children:[(0,P.jsxs)(`div`,{className:`flex-1 w-full md:max-w-[250px]`,children:[(0,P.jsx)(K,{className:`text-[10px] text-slate-400 font-bold uppercase mb-1 block`,children:`Nome do Documento`}),(0,P.jsx)(V,{placeholder:`Ex: Certificado, Treinamento...`,value:h[e]?.customLabel??(t?.type||``),onChange:t=>te(e,t.target.value),className:`h-9 font-semibold`})]}),(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row items-start sm:items-center gap-4 flex-1 justify-end`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsx)(K,{className:`text-[10px] text-slate-400 font-bold uppercase mb-1`,children:`Validade`}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(ma,{className:`h-4 w-4 text-slate-400`}),(0,P.jsx)(`div`,{className:`w-[140px]`,children:(0,P.jsx)(jj,{date:h[e]?.expiry||(t?.expiry?new Date(t.expiry):void 0),setDate:t=>A(e,t)})})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsx)(K,{className:`text-[10px] text-slate-400 font-bold uppercase mb-1`,children:`Arquivo`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(`input`,{type:`file`,id:`file-${e}`,className:`hidden`,onChange:t=>k(e,t.target.files?.[0]||null)}),(0,P.jsx)(K,{htmlFor:`file-${e}`,className:`cursor-pointer`,children:(0,P.jsxs)(`div`,{className:R(`flex items-center gap-2 px-3 py-2 rounded-md border text-sm font-medium transition-all shadow-sm h-9`,h[e]?.file?`bg-green-50 border-green-200 text-green-700`:r?`bg-blue-50 border-blue-200 text-blue-700`:`bg-white border-slate-200 text-slate-600 hover:bg-slate-50`),children:[(0,P.jsx)(uo,{className:`h-4 w-4`}),h[e]?.file?`Substituir`:r?`Alterar`:`Selecionar`]})})]})]})]})]}),(0,P.jsxs)(`div`,{className:`pt-2 border-t border-slate-50`,children:[(0,P.jsx)(V,{placeholder:`Descrio / Observao Adicional`,value:h[e]?.description??(t?.description||``),onChange:t=>ee(e,t.target.value),className:`h-8 text-xs bg-slate-50/50 border-transparent focus:bg-white`}),t&&!h[e]?.file&&(0,P.jsxs)(`p`,{className:`text-[10px] text-blue-500 mt-1 pl-1`,children:[`Arquivo atual: `,t.name]})]})]},e)})]}),(0,P.jsxs)(B,{type:`button`,variant:`outline`,className:`w-full py-6 border-dashed border-2 hover:border-orange-500 hover:text-orange-600 hover:bg-orange-50/50 transition-all flex items-center gap-2 mt-4`,onClick:()=>{let e=`custom_${crypto.randomUUID()}`;v(t=>[...t,e])},children:[(0,P.jsx)($a,{className:`h-4 w-4`}),`Criar um novo documento`]})]})]})}),(0,P.jsx)(KM,{value:`holerites`,className:`mt-0 animate-in fade-in-50 duration-300 px-1`,children:(0,P.jsxs)(`div`,{className:`max-w-4xl mx-auto space-y-4 pt-4`,children:[(0,P.jsx)(`div`,{className:`bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4`,children:(0,P.jsx)(`p`,{className:`text-sm text-blue-800 font-medium`,children:`Aqui esto listados todos os holerites e comprovantes de pagamento anexados para este colaborador.`})}),E?(0,P.jsx)(`div`,{className:`flex items-center justify-center p-12`,children:(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-orange-500`})}):w.length===0?(0,P.jsxs)(`div`,{className:`text-center p-12 bg-slate-50 rounded-lg border border-dashed border-slate-300`,children:[(0,P.jsx)(Fa,{className:`h-12 w-12 text-slate-300 mx-auto mb-4`}),(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Nenhum holerite encontrado.`}),(0,P.jsx)(`p`,{className:`text-slate-400 text-sm`,children:`Os holerites aparecem aqui automaticamente quando anexados no lanamento de pagamentos.`})]}):(0,P.jsx)(`div`,{className:`grid gap-3 pb-4`,children:w.map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between p-4 border rounded-lg bg-white hover:shadow-sm transition-all group`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:`p-2 bg-orange-100 rounded-lg`,children:(0,P.jsx)(Fa,{className:`h-5 w-5 text-orange-600`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsxs)(`h4`,{className:`font-bold text-slate-800`,children:[`Ms de Referncia: `,e.mesReferencia]}),(0,P.jsx)(`p`,{className:`text-xs text-slate-500`,children:e.nomeArquivo})]})]}),(0,P.jsx)(B,{variant:`ghost`,size:`sm`,className:`text-orange-600 hover:text-orange-700 hover:bg-orange-50`,asChild:!0,children:(0,P.jsx)(`a`,{href:e.urlArquivo,target:`_blank`,rel:`noopener noreferrer`,children:`Visualizar`})})]},e.id))})]})})]})]})}),(0,P.jsxs)(aD,{className:`p-6 pt-2 border-t bg-slate-50`,children:[(0,P.jsx)(B,{variant:`ghost`,onClick:()=>t(!1),className:`text-slate-600 hover:bg-slate-100`,children:`Cancelar`}),(0,P.jsx)(B,{onClick:async()=>{if(!l.name||!l.role){c({title:`Campos obrigatrios`,description:`Nome e Cargo so obrigatrios.`,variant:`destructive`});return}f(!0);try{let e;n?(await i(n.id,l),e={...n,...l}):e=await r(l);let s=l.photoUrl;if(y){let t=y.name.split(`.`).pop(),n=`photos/${crypto.randomUUID()}.${t}`,{error:r}=await G.storage.from(`crm-docs`).upload(n,y);if(r)throw Error(`Erro ao enviar foto: ${r.message}`);let{data:a}=G.storage.from(`crm-docs`).getPublicUrl(n);s=a.publicUrl,await i(e.id,{photoUrl:s})}let u=e.id,d=Object.entries(h).map(async([e,t])=>{let r=e.startsWith(`custom_`)?t.customLabel:e;!t.file&&!t.expiry&&t.description===void 0&&!t.customLabel||await fS.upsertDocument(u,r||e,t.file,t.expiry,n?.documents?.[e]?.id,t.description)});d.length>0&&await Promise.all(d),await Promise.all([a(),o()]),c({title:`Sucesso`,description:`Colaborador ${n?`atualizado`:`cadastrado`} com sucesso.`}),t(!1)}catch(e){console.error(e);let t=`Falha ao salvar colaborador.`;e.message?.includes(`colaboradores_cpf_key`)?t=`CPF j cadastrado.`:e.message?.includes(`colaboradores_rg_key`)?t=`RG j cadastrado.`:e.message&&(t=e.message),c({title:`Erro`,description:t,variant:`destructive`})}finally{f(!1)}},disabled:d,className:`bg-orange-600 hover:bg-orange-700 min-w-[150px]`,children:d?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Processando...`]}):n?`Atualizar Colaborador`:`Finalizar Cadastro`})]})]})})}function ZM(){let{employees:e,fetchExpiringDocuments:t,deleteEmployee:n,fetchEmployees:r}=PS(),i=it(),{toast:a}=$n(),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(`all`),[u,d]=(0,S.useState)(!1),[f,p]=(0,S.useState)(!1),[m,h]=(0,S.useState)(void 0),[g,_]=(0,S.useState)(null),[v,y]=(0,S.useState)(!1),[b,x]=(0,S.useState)(!1);(0,S.useEffect)(()=>{t(),(async()=>{d(!0),await r(),d(!1)})()},[t,r]);let C=e.length,w=e.filter(e=>e.status===`ativo`).length,T=e.filter(e=>e.status===`ferias`||e.status===`afastado`).length,E=e.filter(e=>{let t=e.name.toLowerCase().includes(o.toLowerCase())||e.role.toLowerCase().includes(o.toLowerCase())||e.cpf.includes(o)||e.phone.includes(o),n=c===`all`||e.status===c;return t&&n}),D=()=>{s(``),l(`all`)},O=o||c!==`all`,k=e=>{switch(e){case`ativo`:return`bg-emerald-100 text-emerald-700 hover:bg-emerald-100/80 border-emerald-200`;case`ferias`:return`bg-amber-100 text-amber-700 hover:bg-amber-100/80 border-amber-200`;case`afastado`:return`bg-slate-100 text-slate-700 hover:bg-slate-100/80 border-slate-200`;case`desligado`:return`bg-red-100 text-red-700 hover:bg-red-100/80 border-red-200`;default:return`bg-gray-100 text-gray-700 border-gray-200`}},A=e=>{switch(e){case`ativo`:return`Ativo`;case`ferias`:return`Frias`;case`afastado`:return`Afastado`;case`desligado`:return`Desligado`;default:return e}},ee=()=>{h(void 0),p(!0)},te=(e,t)=>{e.stopPropagation(),h(t),p(!0)};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Colaboradores`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto de equipe e documentao`})]}),(0,P.jsxs)(B,{onClick:ee,className:`bg-orange-600 hover:bg-orange-700 w-full sm:w-auto`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Colaborador`]})]}),(0,P.jsxs)(`div`,{className:`grid gap-4 md:grid-cols-3`,children:[(0,P.jsxs)(q,{className:`bg-card`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Total de Colaboradores`}),(0,P.jsx)(`div`,{className:`bg-blue-50 p-2 rounded-full`,children:(0,P.jsx)(ho,{className:`h-4 w-4 text-blue-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold`,children:C})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-green-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Ativos`}),(0,P.jsx)(`div`,{className:`bg-green-50 p-2 rounded-full`,children:(0,P.jsx)(fo,{className:`h-4 w-4 text-green-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-green-600`,children:w})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-amber-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Frias / Afastados`}),(0,P.jsx)(`div`,{className:`bg-amber-50 p-2 rounded-full`,children:(0,P.jsx)(po,{className:`h-4 w-4 text-amber-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-amber-600`,children:T})})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border items-start md:items-center`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1 w-full md:max-w-md`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nome, cargo ou CPF...`,className:`pl-9 bg-background`,value:o,onChange:e=>s(e.target.value)})]}),(0,P.jsxs)(RO,{value:c,onValueChange:l,children:[(0,P.jsx)(BO,{className:`w-full md:w-[180px] bg-background`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(zO,{placeholder:`Status`})]})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos os Status`}),(0,P.jsx)(Q,{value:`ativo`,children:`Ativo`}),(0,P.jsx)(Q,{value:`ferias`,children:`Frias`}),(0,P.jsx)(Q,{value:`afastado`,children:`Afastado`}),(0,P.jsx)(Q,{value:`desligado`,children:`Desligado`})]})]}),O&&(0,P.jsxs)(B,{variant:`ghost`,onClick:D,className:`text-muted-foreground hover:text-foreground`,children:[(0,P.jsx)(wa,{className:`h-4 w-4 mr-2`}),`Limpar Filtros`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[35%] text-xs font-bold uppercase tracking-wider text-muted-foreground pl-6`,children:`Colaborador`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Cargo`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Telefone`}),(0,P.jsx)(X,{className:`w-[15%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-center`,children:`Status`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-right pr-6`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[e.length===0&&!u&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12 text-muted-foreground`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(ho,{className:`h-10 w-10 text-muted-foreground/30`}),(0,P.jsx)(`p`,{children:`Nenhum colaborador encontrado.`})]})})}),u&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-8`,children:(0,P.jsx)(Ua,{className:`h-6 w-6 animate-spin mx-auto text-primary`})})}),E.map(e=>(0,P.jsxs)(Y,{onClick:()=>i(`/colaboradores/${e.id}`),className:`cursor-pointer hover:bg-muted/30 transition-colors group`,children:[(0,P.jsx)(Z,{className:`pl-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{className:`font-semibold text-foreground text-base`,children:e.name}),(0,P.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:e.email})]})}),(0,P.jsx)(Z,{className:`py-4 font-medium text-foreground/80`,children:e.role}),(0,P.jsx)(Z,{className:`py-4 text-muted-foreground`,children:e.phone||`-`}),(0,P.jsx)(Z,{className:`text-center py-4`,children:(0,P.jsx)(WE,{variant:`outline`,className:R(`px-3 py-1 text-xs font-medium border shadow-sm`,k(e.status)),children:A(e.status)})}),(0,P.jsx)(Z,{className:`text-right pr-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex justify-end items-center gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),i(`/colaboradores/${e.id}`)},className:`text-muted-foreground hover:text-blue-600 hover:bg-blue-50`,title:`Visualizar Perfil`,"aria-label":`Visualizar colaborador`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>te(t,e),className:`text-muted-foreground hover:text-orange-600 hover:bg-orange-50`,title:`Editar Colaborador`,"aria-label":`Editar colaborador`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),_(e.id),y(!0)},className:`text-muted-foreground hover:text-red-600 hover:bg-red-50`,title:`Excluir Colaborador`,"aria-label":`Excluir colaborador`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id))]})]})}),(0,P.jsx)(XM,{open:f,onOpenChange:p,employeeToEdit:m}),(0,P.jsx)(mM,{open:v,onOpenChange:y,children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Voc tem certeza?`}),(0,P.jsx)(xM,{children:`Esta ao no pode ser desfeita. Isso excluir permanentemente o colaborador e seus documentos do sistema.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{disabled:b,children:`Cancelar`}),(0,P.jsx)(SM,{onClick:async()=>{if(g){x(!0);try{await n(g),a({title:`Colaborador Removido`,description:`O colaborador foi excludo com sucesso.`}),y(!1),_(null)}catch(e){console.error(e),a({title:`Erro ao excluir`,description:`No foi possvel remover o colaborador.`,variant:`destructive`})}finally{x(!1)}}},className:`bg-destructive hover:bg-destructive/90`,disabled:b,children:b?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Excluindo...`]}):`Excluir`})]})]})})]})}function QM({label:e,value:t,icon:n,children:r,className:i}){return(0,P.jsxs)(`div`,{className:R(`flex flex-col sm:flex-row sm:items-center justify-between py-4`,i),children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-muted-foreground mb-1 sm:mb-0`,children:[n&&(0,P.jsx)(n,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`text-sm font-medium`,children:e})]}),(0,P.jsx)(`div`,{className:`text-sm font-medium text-foreground text-left sm:text-right`,children:r||t||`-`})]})}function $M({employee:e}){let t=[e.street,e.number,e.neighborhood,e.city&&e.state?`${e.city} - ${e.state}`:e.city||e.state].filter(Boolean).join(`, `)||`Endereo no informado`;return(0,P.jsxs)(`div`,{className:`grid gap-6 md:grid-cols-2`,children:[(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsx)(LE,{className:`text-lg`,children:`Informaes Gerais`})}),(0,P.jsxs)(J,{children:[(0,P.jsx)(QM,{label:`Nome`,value:e.name,icon:mo}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`CPF`,value:e.cpf,icon:Fa}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Endereo`,value:t,icon:qa}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Status`,icon:aa,children:(0,P.jsx)(`span`,{className:`capitalize font-bold text-foreground`,children:e.status})})]})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsx)(LE,{className:`text-lg`,children:`Datas Importantes`})}),(0,P.jsxs)(J,{children:[(0,P.jsx)(QM,{label:`Data de Admisso`,icon:ma,children:(0,P.jsx)(`div`,{className:`flex items-center gap-2 justify-end`,children:Xc(e.admissionDate,`dd/MM/yyyy`)})}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Vencimento das Frias`,icon:ma,children:(0,P.jsx)(`div`,{className:`flex items-center gap-2 justify-end`,children:Xc(e.vacationDueDate,`dd/MM/yyyy`)})})]})]}),(0,P.jsxs)(q,{className:`md:col-span-2`,children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(ao,{className:`h-5 w-5 text-orange-600`}),`Acesso Carteira Digital`]})}),(0,P.jsxs)(J,{className:`grid gap-4 md:grid-cols-2`,children:[(0,P.jsx)(QM,{label:`Login / Usurio`,value:e.carteira_digital_login||`No informado`,icon:mo}),(0,P.jsx)(QM,{label:`Senha`,value:e.carteira_digital_senha?`********`:`No informada`,icon:Ba})]})]}),(e.observacoes_periodo||e.historico_colaborador)&&(0,P.jsxs)(`div`,{className:`md:col-span-2 space-y-6`,children:[e.observacoes_periodo&&(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(ma,{className:`h-5 w-5 text-blue-600`}),`Perodos de Trabalho (Adicionais)`]})}),(0,P.jsx)(J,{children:(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground whitespace-pre-wrap`,children:e.observacoes_periodo})})]}),e.historico_colaborador&&(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-5 w-5 text-purple-600`}),`Histrico do Colaborador`]})}),(0,P.jsx)(J,{children:(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground whitespace-pre-wrap`,children:e.historico_colaborador})})]})]})]})}function eN({employee:e}){return(0,P.jsxs)(`div`,{className:`grid gap-6 md:grid-cols-2`,children:[(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Aa,{className:`h-5 w-5 text-primary`}),` Dados Salariais`]})}),(0,P.jsx)(J,{children:(0,P.jsxs)(`div`,{className:`py-4`,children:[(0,P.jsx)(`span`,{className:`text-sm font-medium text-muted-foreground block mb-1`,children:`Salrio Base`}),(0,P.jsx)(`span`,{className:`text-3xl font-bold text-foreground`,children:e.salary?e.salary.toLocaleString(`pt-BR`,{style:`currency`,currency:`BRL`}):`R$ 0,00`})]})})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Va,{className:`h-5 w-5 text-primary`}),` Dados Bancrios`]})}),(0,P.jsxs)(J,{children:[(0,P.jsx)(QM,{label:`Banco`,value:e.bankDetails?.bank||`No informado`}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Agncia`,value:e.bankDetails?.agency||`No informado`}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Conta`,value:e.bankDetails?.account||`No informado`}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Chave PIX`,value:e.bankDetails?.pix||`No informada`})]})]})]})}var tN={rg:`RG (Identidade)`,cpf:`CPF (Cadastro de Pessoa Fsica)`,contrato:`Contrato de Trabalho`,folha_registro:`Folha de Registro`,aso:`ASO (Atestado de Sade)`,epi:`Ficha de EPI`,nr6:`NR 06 - EPI`,nr10:`NR 10 - Eletricidade`,nr12:`NR 12 - Mquinas`,nr17:`NR 17 - Ergonomia`,nr18:`NR 18 - Construo Civil`,nr35:`NR 35 - Altura`,os:`Ordem de Servio (OS)`};function nN({documents:e}){let{toast:t}=$n(),n=Object.values(e).filter(Boolean),r=async(e,n)=>{if(e)try{let r=await fetch(e);if(!r.ok)throw Error(`Network response was not ok`);let i=await r.blob(),a=window.URL.createObjectURL(i),o=document.createElement(`a`);o.href=a,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(a),t({title:`Download concludo`,description:`O arquivo ${n} foi baixado com sucesso.`})}catch(n){console.error(`Download failed`,n),t({title:`Erro no download`,description:`No foi possvel baixar o arquivo diretamente. Abrindo em nova aba...`,variant:`destructive`}),window.open(e,`_blank`)}};return(0,P.jsxs)(q,{children:[(0,P.jsxs)(IE,{children:[(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-5 w-5 text-primary`}),` Documentao`]}),(0,P.jsx)(RE,{children:`Documentos de admisso e registros de segurana (ASO, EPI, NRs).`})]}),(0,P.jsx)(J,{children:n.length===0?(0,P.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-10 text-muted-foreground bg-muted/10 rounded-lg border border-dashed`,children:[(0,P.jsx)(Fa,{className:`h-10 w-10 mb-2 opacity-20`}),(0,P.jsx)(`p`,{children:`Nenhum documento anexado`})]}):(0,P.jsx)(`div`,{className:`border rounded-md overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Tipo de Documento`}),(0,P.jsx)(X,{children:`Descrio / Obs.`}),(0,P.jsx)(X,{children:`Nome do Arquivo`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{children:`Data de Validade`}),(0,P.jsx)(X,{children:`Data de Upload`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:n.map(e=>{let t=tN[e.type||`outros`]||e.type?.toUpperCase().replace(/_/g,` `)||`Documento`;e.type===`outros`&&e.description?t=e.description:e.description&&(t=`${t} - ${e.description}`);let n=Zc(e.expiry),i=e.expiry?Rs(Ds(new Date(e.expiry)),Ds(new Date)):null;return(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{className:`font-medium whitespace-nowrap`,children:t}),(0,P.jsx)(Z,{className:`max-w-[200px] truncate`,title:e.description||`-`,children:e.description||`-`}),(0,P.jsx)(Z,{className:`max-w-[200px] truncate`,title:e.name,children:e.name}),(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col gap-1 w-fit`,children:[(0,P.jsx)(WE,{className:R(`w-fit whitespace-nowrap border shadow-none font-semibold`,n.bg,n.color,n.border),children:n.label}),n.severity===`warning`&&i!==null&&(0,P.jsxs)(`span`,{className:`text-xs text-amber-600 font-medium`,children:[`Faltam `,i,` dias`]})]})}),(0,P.jsx)(Z,{children:e.expiry?Xc(e.expiry,`dd/MM/yyyy`):`-`}),(0,P.jsx)(Z,{children:Xc(e.uploadDate,`dd/MM/yyyy`)}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`h-8 w-8 text-muted-foreground hover:text-foreground`,onClick:()=>r(e.url,e.name),title:`Baixar`,children:(0,P.jsx)(ja,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,asChild:!0,className:`h-8 w-8 text-muted-foreground hover:text-foreground`,children:(0,P.jsx)(`a`,{href:e.url,target:`_blank`,rel:`noreferrer`,title:`Visualizar`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})})})]})})]},e.id||e.name)})})]})})})]})}function rN({employeeId:e}){let[t,n]=(0,S.useState)([]),[r,i]=(0,S.useState)(!0);return(0,S.useEffect)(()=>{async function t(){i(!0);try{n(await OS.getPayslips(e)||[])}catch(e){console.error(`Error loading payslips:`,e)}finally{i(!1)}}e&&t()},[e]),r?(0,P.jsx)(`div`,{className:`flex items-center justify-center p-12`,children:(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-orange-500`})}):t.length===0?(0,P.jsx)(q,{className:`border-dashed`,children:(0,P.jsxs)(J,{className:`flex flex-col items-center justify-center p-12 text-center`,children:[(0,P.jsx)(Fa,{className:`h-12 w-12 text-slate-300 mb-4`}),(0,P.jsx)(`p`,{className:`text-slate-500 font-medium`,children:`Nenhum holerite encontrado.`}),(0,P.jsx)(`p`,{className:`text-slate-400 text-sm max-w-sm`,children:`Os holerites aparecem aqui automaticamente quando anexados no lanamento de pagamentos para este colaborador.`})]})}):(0,P.jsx)(`div`,{className:`space-y-4`,children:(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-3 border-b bg-slate-50/50`,children:(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-5 w-5 text-orange-600`}),`Histrico de Holerites`]})}),(0,P.jsx)(J,{className:`p-0`,children:(0,P.jsx)(`div`,{className:`divide-y`,children:t.map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between p-4 hover:bg-slate-50 transition-colors group`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:`p-2 bg-orange-100 rounded-lg text-orange-600`,children:(0,P.jsx)(Fa,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsxs)(`h4`,{className:`font-bold text-slate-800`,children:[`Ms de Referncia: `,e.mesReferencia]}),(0,P.jsx)(`p`,{className:`text-xs text-slate-500`,children:e.nomeArquivo})]})]}),(0,P.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,P.jsx)(B,{variant:`ghost`,size:`sm`,className:`text-slate-600 hover:text-orange-600`,asChild:!0,children:(0,P.jsxs)(`a`,{href:e.urlArquivo,target:`_blank`,rel:`noopener noreferrer`,title:`Visualizar`,children:[(0,P.jsx)(Ma,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`ml-2 hidden sm:inline`,children:`Visualizar`})]})})})]},e.id))})})]})})}function iN(){let{id:e}=ct(),t=it(),{employees:n,fetchEmployees:r}=PS(),{toast:i}=$n(),a=e?n.find(t=>t.id===e):null,[o,s]=(0,S.useState)(!1),[c,l]=(0,S.useState)(!a);return(0,S.useEffect)(()=>{(async()=>{!a&&e?(l(!0),await r(),l(!1)):l(!1)})()},[e,!!a,r]),c?(0,P.jsx)(`div`,{className:`flex h-[80vh] items-center justify-center`,children:(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-primary`})}):a?(0,P.jsxs)(`div`,{className:`space-y-6 animate-fade-in max-w-5xl mx-auto pb-10`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>t(`/colaboradores`),children:(0,P.jsx)(oa,{className:`h-5 w-5`})}),(0,P.jsx)(`div`,{className:`w-20 h-20 rounded-full border-2 border-white shadow-sm overflow-hidden bg-muted flex items-center justify-center shrink-0`,children:a.photoUrl?(0,P.jsx)(`img`,{src:a.photoUrl,alt:a.name,className:`w-full h-full object-cover`}):(0,P.jsx)(mo,{className:`w-10 h-10 text-muted-foreground/30`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsxs)(`h1`,{className:`text-2xl font-bold flex items-center gap-3`,children:[a.name,(0,P.jsx)(WE,{variant:`outline`,className:R(`px-2 py-0.5 text-xs font-medium border shadow-none capitalize`,(e=>{switch(e){case`ativo`:return`bg-emerald-100 text-emerald-700 hover:bg-emerald-100/80 border-emerald-200`;case`ferias`:return`bg-amber-100 text-amber-700 hover:bg-amber-100/80 border-amber-200`;case`afastado`:return`bg-slate-100 text-slate-700 hover:bg-slate-100/80 border-slate-200`;case`desligado`:return`bg-red-100 text-red-700 hover:bg-red-100/80 border-red-200`;default:return`bg-gray-100 text-gray-700 border-gray-200`}})(a.status)),children:a.status})]}),(0,P.jsxs)(`p`,{className:`text-muted-foreground flex items-center gap-2 text-sm mt-1`,children:[(0,P.jsx)(mo,{className:`h-3 w-3`}),` `,a.role]})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[a.photoUrl&&(0,P.jsxs)(B,{variant:`outline`,size:`sm`,onClick:async()=>{try{let e=await(await fetch(a.photoUrl)).blob(),t=window.URL.createObjectURL(e),n=document.createElement(`a`);n.href=t,n.download=`foto-${a.name.replace(/\s+/g,`-`).toLowerCase()}.${e.type.split(`/`)[1]||`jpg`}`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(t)}catch(e){console.error(`Erro ao baixar foto:`,e),i({title:`Erro no download`,description:`No foi possvel baixar a foto automaticamente.`,variant:`destructive`})}},children:[(0,P.jsx)(ja,{className:`h-4 w-4 mr-2`}),` Baixar Foto`]}),(0,P.jsxs)(B,{onClick:()=>s(!0),className:`bg-orange-600 hover:bg-orange-700`,children:[(0,P.jsx)(oo,{className:`h-4 w-4 mr-2`}),` Editar Perfil`]})]})]}),(0,P.jsxs)(UM,{defaultValue:`geral`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`w-full justify-start rounded-md border bg-muted/20 p-1 flex-wrap h-auto mb-6`,children:[(0,P.jsx)(GM,{value:`geral`,className:`px-6`,children:`Viso Geral`}),(0,P.jsx)(GM,{value:`financeiro`,className:`px-6`,children:`Financeiro`}),(0,P.jsx)(GM,{value:`documentacao`,className:`px-6`,children:`Documentao`}),(0,P.jsx)(GM,{value:`holerites`,className:`px-6`,children:`Holerites`})]}),(0,P.jsx)(KM,{value:`geral`,className:`mt-0`,children:(0,P.jsx)($M,{employee:a})}),(0,P.jsx)(KM,{value:`financeiro`,className:`mt-0`,children:(0,P.jsx)(eN,{employee:a})}),(0,P.jsx)(KM,{value:`documentacao`,className:`mt-0`,children:(0,P.jsx)(nN,{documents:a.documents})}),(0,P.jsx)(KM,{value:`holerites`,className:`mt-0`,children:(0,P.jsx)(rN,{employeeId:a.id})})]}),(0,P.jsx)(XM,{open:o,onOpenChange:s,employeeToEdit:a})]}):(0,P.jsxs)(`div`,{className:`flex h-[80vh] flex-col items-center justify-center gap-4`,children:[(0,P.jsx)(`h2`,{className:`text-xl font-semibold`,children:`Colaborador no encontrado`}),(0,P.jsx)(B,{onClick:()=>t(`/colaboradores`),children:`Voltar para lista`})]})}function aN({id:e,label:t,currentFileName:n,onFileSelect:r,accept:i,className:a,disabled:o=!1,multiple:s=!1}){let c=(0,S.useRef)(null);return(0,P.jsxs)(`div`,{className:R(`space-y-2`,a),children:[t&&(0,P.jsx)(K,{htmlFor:e,className:`text-xs text-muted-foreground`,children:t}),(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`input`,{ref:c,id:e,type:`file`,className:`hidden`,onChange:e=>{let t=e.target.files;t&&t.length>0&&r(s?Array.from(t):t[0]),c.current&&(c.current.value=``)},accept:i,disabled:o,multiple:s}),(0,P.jsxs)(B,{type:`button`,onClick:()=>{c.current?.click()},disabled:o,className:`bg-orange-600 hover:bg-orange-700 text-white font-medium min-w-[140px] transition-colors`,children:[(0,P.jsx)(uo,{className:`mr-2 h-4 w-4`}),s?`Escolher arquivos`:`Escolher arquivo`]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-muted-foreground truncate flex-1 min-w-0`,children:[n&&!s&&(0,P.jsx)(Ia,{className:`h-4 w-4 shrink-0 text-orange-500`}),(0,P.jsx)(`span`,{className:`truncate`,title:n,children:n||`Nenhum arquivo escolhido`})]})]})]})}function oN({label:e,selectedDate:t,onDateChange:n,selectedFile:r,onFileSelect:i,existingDoc:a,status:o,datePickerClassName:s,requiresExpiry:c=!1,showExpiry:l=!1,onSave:u}){let[d,f]=(0,S.useState)(!1);return(0,P.jsxs)(`div`,{className:`p-4 border rounded-md bg-muted/10 space-y-3 relative group hover:bg-muted/20 transition-colors`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center pr-2`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(K,{className:`font-bold text-base`,children:e}),r&&(0,P.jsx)(WE,{variant:`outline`,className:`text-xs bg-blue-50 text-blue-700 border-blue-200`,children:`Novo Arquivo`})]}),o&&o.severity!==`ok`&&!r&&(c||l)&&(0,P.jsx)(WE,{className:R(o.bg,o.color,o.border,`border shadow-none`),children:o.label})]}),a&&!r&&(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-blue-600 mb-2`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4`}),(0,P.jsx)(`a`,{href:a.url,target:`_blank`,rel:`noreferrer`,className:`hover:underline truncate max-w-[300px]`,title:a.name,children:a.name})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(c||l)&&(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{className:`text-xs text-muted-foreground`,children:[`Data de Validade `,c&&(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(jj,{date:t,setDate:n,placeholder:`Selecione a data`,className:R(`w-full bg-background`,s)})]}),(0,P.jsxs)(`div`,{className:R(`flex items-end`,!c&&!l&&`md:col-span-2`),children:[(0,P.jsx)(aN,{id:`file-${e}`,currentFileName:r?.name,onFileSelect:e=>i(e),className:`w-full`}),u&&(0,P.jsx)(`div`,{className:`ml-2 pb-1`,children:(0,P.jsxs)(B,{size:`sm`,onClick:async()=>{if(u){f(!0);try{await u()}finally{f(!1)}}},disabled:d||!r,className:`h-9`,children:[d?(0,P.jsx)(Ua,{className:`h-4 w-4 animate-spin`}):(0,P.jsx)(to,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only sm:not-sr-only sm:ml-2`,children:`Salvar`})]})})]})]})]})}var sN=[{label:`PGR`,type:`pgr`},{label:`PCMSO`,type:`pcmso`},{label:`ART`,type:`art`},{label:`Seguro`,type:`seguro`},{label:`CNO`,type:`cno`}];function cN({open:e,onOpenChange:t,projectToEdit:n}){let{addProject:r,updateProject:i}=PS(),{toast:a}=$n(),[o,s]=(0,S.useState)(!1),[c,l]=(0,S.useState)(null),[u,d]=(0,S.useState)({status:`ativa`,documents:{},startDate:void 0,predictedEndDate:void 0,contractValue:0}),[f,p]=(0,S.useState)({}),[m,h]=(0,S.useState)([]),[g,_]=(0,S.useState)([{id:crypto.randomUUID(),description:`Contrato Principal`,value:0}]),[v,y]=(0,S.useState)(null);(0,S.useEffect)(()=>{if(e){if(n){d({...n});let e={},t=[],r=sN.map(e=>e.type);n.documents&&Object.values(n.documents).forEach(n=>{n&&(n.type&&r.includes(n.type.toLowerCase())?e[n.type.toLowerCase()]={expiry:n.expiry?new Date(n.expiry):void 0,existingDoc:n}:t.push({id:crypto.randomUUID(),dbId:n.id,description:n.description||n.type||`Documento`,expiry:n.expiry?new Date(n.expiry):void 0,existingDoc:n}))}),p(e),h(t),_(n.contracts?.map(e=>({id:crypto.randomUUID(),dbId:e.id,description:e.description||e.name,value:e.value||0,existingUrl:e.url,existingName:e.name,expiry:e.expiry?e.expiry.toISOString():void 0}))||[{id:crypto.randomUUID(),description:`Contrato Principal`,value:0}])}else d({status:`ativa`,cnpj:``,startDate:void 0,predictedEndDate:void 0,contractValue:0}),p({}),h([]),_([{id:crypto.randomUUID(),description:`Contrato Principal`,value:0}]);l(null)}},[e,n]);let b=async()=>{if(!u.name){a({title:`Campos Obrigatrios`,description:`Por favor, preencha o nome da obra.`,variant:`destructive`});return}if(u.cnpj&&!$c(u.cnpj)){l(`CNPJ invlido`),a({title:`Dados Invlidos`,description:`Por favor, corrija o CNPJ antes de salvar.`,variant:`destructive`});return}s(!0);try{let e={...u},n=[];sN.forEach(({type:e})=>{let t=f[e];t&&(t.file||t.existingDoc)&&n.push({type:e,file:t.file,expiry:t.expiry,id:t.existingDoc?.id})}),m.forEach(e=>{(e.file||e.existingDoc)&&n.push({type:`outros`,description:e.description,file:e.file,expiry:e.expiry,id:e.dbId})});let o={documents:n,contracts:g.map(e=>({id:e.dbId,file:e.file,expiry:e.expiry?new Date(e.expiry):void 0,description:e.description,value:e.value,name:e.file?.name}))};u.id?(await i(u.id,e,o),a({title:`Obra Atualizada`,description:`Dados salvos com sucesso.`})):(await r(e,o),a({title:`Obra Criada`,description:`Nova obra iniciada.`})),t(!1)}catch(e){console.error(e);let t=e.message||`Falha ao salvar obra. Tente novamente.`;(t.includes(`row-level security`)||t.includes(`42501`))&&(t=`Erro de permisso: Voc no tem acesso para realizar esta operao.`),a({title:`Erro`,description:t,variant:`destructive`})}finally{s(!1)}},x=e=>{let t=Qc(e);d({...u,cnpj:t}),e.length===0?l(null):e.length>=14?$c(t)?l(null):l(`CNPJ invlido`):l(null)};return(0,P.jsxs)(QE,{open:e,onOpenChange:t,children:[(0,P.jsxs)(rD,{className:`sm:max-w-4xl max-h-[90vh] flex flex-col p-0 gap-0`,children:[(0,P.jsxs)(iD,{className:`p-6 pb-2 border-b flex flex-row items-center justify-between`,children:[(0,P.jsx)(oD,{className:`text-xl`,children:n?`Editar Obra`:`Nova Obra`}),(0,P.jsx)(tD,{className:`opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground`})]}),(0,P.jsx)(`div`,{className:`flex-1 overflow-y-auto`,children:(0,P.jsxs)(UM,{defaultValue:`geral`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`w-full justify-start rounded-none border-b bg-transparent p-0 pl-6 flex-wrap h-auto`,children:[(0,P.jsx)(GM,{value:`geral`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Dados Gerais`}),(0,P.jsx)(GM,{value:`datas`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Datas & Prazos`}),(0,P.jsx)(GM,{value:`docs`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Documentos`}),(0,P.jsx)(GM,{value:`contracts`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Contratos`})]}),(0,P.jsxs)(`div`,{className:`p-6`,children:[(0,P.jsxs)(KM,{value:`geral`,className:`space-y-4 mt-0`,children:[(0,P.jsx)(`div`,{className:`border rounded-lg p-4 bg-muted/10`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(K,{className:`w-20 font-semibold`,children:`Status`}),(0,P.jsxs)(RO,{value:u.status,onValueChange:e=>d({...u,status:e}),children:[(0,P.jsx)(BO,{className:`bg-background max-w-[200px]`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`ativa`,children:`Ativa`}),(0,P.jsx)(Q,{value:`inativa`,children:`Inativa`}),(0,P.jsx)(Q,{value:`concluida`,children:`Concluda`})]})]})]})}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsxs)(K,{children:[`Nome da Obra `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{placeholder:`Ex: Edifcio Residencial Aurora`,value:u.name||``,onChange:e=>d({...u,name:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`CNPJ`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{placeholder:`00.000.000/0000-00`,value:u.cnpj||``,maxLength:18,onChange:e=>x(e.target.value),className:R(c&&`border-red-500 pr-10`)}),c&&(0,P.jsx)(`div`,{className:`absolute right-3 top-2.5 text-red-500 pointer-events-none`,children:(0,P.jsx)(co,{className:`h-5 w-5`})})]}),c&&(0,P.jsx)(`p`,{className:`text-xs text-red-500 mt-1`,children:c})]}),(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Cliente`}),(0,P.jsx)(V,{placeholder:`Nome do Cliente`,value:u.client||``,onChange:e=>d({...u,client:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Endereo`}),(0,P.jsx)(V,{value:u.address||``,onChange:e=>d({...u,address:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Cidade`}),(0,P.jsx)(V,{placeholder:`Cidade`,value:u.city||``,onChange:e=>d({...u,city:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Estado`}),(0,P.jsxs)(RO,{value:u.state,onValueChange:e=>d({...u,state:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione`})}),(0,P.jsx)(UO,{children:Jc.map(e=>(0,P.jsx)(Q,{value:e,children:e},e))})]})]})]})]})]}),(0,P.jsx)(KM,{value:`datas`,className:`space-y-4 mt-0`,children:(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Data de Incio`}),(0,P.jsx)(jj,{date:u.startDate,setDate:e=>d({...u,startDate:e})})]}),(0,P.jsxs)(`div`,{className:`grid gap-2`,children:[(0,P.jsx)(K,{children:`Previso de Trmino`}),(0,P.jsx)(jj,{date:u.predictedEndDate,setDate:e=>d({...u,predictedEndDate:e})})]})]})}),(0,P.jsxs)(KM,{value:`docs`,className:`space-y-6 mt-0`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-1 gap-4`,children:[sN.map(({label:e,type:t})=>{let n=f[t],r=n?.existingDoc,i=n?.expiry||r?.expiry?Zc(n?.expiry||r?.expiry):null;return(0,P.jsx)(oN,{label:e,selectedDate:n?.expiry,onDateChange:e=>p(n=>({...n,[t]:{...n[t],expiry:e}})),selectedFile:n?.file||null,onFileSelect:e=>p(n=>({...n,[t]:{...n[t],file:e}})),existingDoc:r?{name:r.name,url:r.url||``,expiry:r.expiry}:null,status:i,showExpiry:!0},t)}),m.map((e,t)=>{let n=e.expiry||e.existingDoc?.expiry?Zc(e.expiry||e.existingDoc?.expiry):null;return(0,P.jsxs)(`div`,{className:`p-4 border rounded-md bg-muted/10 space-y-3 relative group hover:bg-muted/20 transition-colors`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center pr-2 mb-2`,children:[(0,P.jsx)(V,{placeholder:`Nome do Documento (Ex: Alvar, Licena)`,value:e.description,onChange:e=>{let n=[...m];n[t].description=e.target.value,h(n)},className:`font-bold text-base h-9 w-[300px]`}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[e.file&&(0,P.jsx)(`span`,{className:`text-xs bg-blue-50 text-blue-700 border border-blue-200 px-2 py-0.5 rounded-full`,children:`Novo`}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`h-8 w-8 text-muted-foreground hover:text-destructive`,onClick:()=>{h(m.filter((e,n)=>n!==t))},children:(0,P.jsx)(L,{className:`h-4 w-4`})})]})]}),e.existingDoc&&!e.file&&(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-blue-600 mb-2`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4`}),e.existingDoc.url?(0,P.jsx)(`a`,{href:e.existingDoc.url,target:`_blank`,rel:`noreferrer`,className:`hover:underline truncate max-w-[300px]`,title:e.existingDoc.name,children:e.existingDoc.name}):(0,P.jsx)(`span`,{className:`text-muted-foreground italic`,children:e.existingDoc.name||`Sem anexo`}),n&&n.severity!==`ok`&&(0,P.jsx)(`span`,{className:R(`text-xs px-2 py-0.5 rounded-full border`,n.bg,n.color,n.border),children:n.label})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-xs text-muted-foreground`,children:`Data de Validade`}),(0,P.jsx)(jj,{date:e.expiry,setDate:e=>{let n=[...m];n[t].expiry=e,h(n)},placeholder:`Selecione a data`,className:`w-full bg-background`})]}),(0,P.jsx)(`div`,{className:`flex items-end`,children:(0,P.jsx)(aN,{id:`custom-doc-${e.id}`,currentFileName:e.file?.name,onFileSelect:e=>{let n=[...m];n[t].file=e,h(n)},className:`w-full`})})]})]},e.id)})]}),(0,P.jsxs)(B,{type:`button`,variant:`outline`,className:`w-full border-dashed mt-4`,onClick:()=>h([...m,{id:crypto.randomUUID(),description:``}]),children:[(0,P.jsx)($a,{className:`h-4 w-4 mr-2`}),` Adicionar Documento`]})]}),(0,P.jsxs)(KM,{value:`contracts`,className:`space-y-6 mt-0`,children:[g.map((e,t)=>(0,P.jsxs)(`div`,{className:`p-4 border rounded-md bg-muted/10 space-y-4`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,P.jsxs)(`h4`,{className:`font-semibold text-sm`,children:[`Contrato / Aditivo `,t+1]}),g.length>1&&(0,P.jsx)(B,{size:`icon`,variant:`ghost`,className:`h-8 w-8 text-destructive`,onClick:()=>y(e.id),children:(0,P.jsx)(so,{className:`h-4 w-4`})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Descrio do Contrato / Aditivo`}),(0,P.jsx)(V,{placeholder:`Ex: Contrato Principal`,value:e.description,onChange:e=>{let n=[...g];n[t].description=e.target.value,_(n)}})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Valor (R$)`}),(0,P.jsx)(KE,{placeholder:`0,00`,value:e.value,onChange:e=>{let n=[...g];n[t].value=e,_(n)}})]})]}),e.existingName&&(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-blue-600`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4`}),e.existingUrl?(0,P.jsx)(`a`,{href:e.existingUrl,target:`_blank`,rel:`noreferrer`,className:`hover:underline`,children:e.existingName||`Visualizar Contrato`}):(0,P.jsxs)(`span`,{className:`text-muted-foreground italic`,children:[e.existingName,` (Sem anexo)`]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data de Validade (Opcional)`}),(0,P.jsx)(V,{type:`date`,value:e.expiry||``,onChange:e=>{let n=[...g];n[t].expiry=e.target.value,_(n)}})]}),(0,P.jsx)(`div`,{className:`space-y-1`,children:(0,P.jsx)(aN,{id:`contract-file-${e.id}`,label:`Anexo (Opcional)`,currentFileName:e.file?.name,onFileSelect:e=>{let n=[...g];n[t].file=e,_(n)}})})]})]},e.id)),(0,P.jsxs)(B,{type:`button`,variant:`outline`,className:`w-full border-dashed`,onClick:()=>{_([...g,{id:crypto.randomUUID(),description:`Aditivo ${g.length+1}`,value:0}])},children:[(0,P.jsx)($a,{className:`h-4 w-4 mr-2`}),` Adicionar Outro Contrato`]})]})]})]})}),(0,P.jsxs)(aD,{className:`p-6 pt-4 border-t mt-auto`,children:[(0,P.jsx)(B,{variant:`outline`,onClick:()=>t(!1),children:`Cancelar`}),(0,P.jsx)(B,{onClick:b,disabled:o||!!c,className:`bg-orange-600 hover:bg-orange-700`,children:o?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Salvando...`]}):`Salvar Obra`})]})]}),(0,P.jsx)(mM,{open:!!v,onOpenChange:e=>!e&&y(null),children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Excluir Contrato`}),(0,P.jsx)(xM,{children:`Tem certeza que deseja remover este contrato? Esta ao no pode ser desfeita.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{children:`Cancelar`}),(0,P.jsx)(SM,{className:`bg-destructive hover:bg-destructive/90`,onClick:()=>{v&&(_(g.filter(e=>e.id!==v)),y(null))},children:`Excluir`})]})]})})]})}function lN(){let{projects:e,loadingProjects:t,deleteProject:n}=PS(),r=it(),{toast:i}=$n(),[a,o]=(0,S.useState)(!1),[s,c]=(0,S.useState)(void 0),[l,u]=(0,S.useState)(``),[d,f]=(0,S.useState)(`all`),[p,m]=(0,S.useState)(`all`),[h,g]=(0,S.useState)({from:void 0,to:void 0}),[_,v]=(0,S.useState)(null),[y,b]=(0,S.useState)(!1),[x,C]=(0,S.useState)(!1),w=(0,S.useMemo)(()=>{let t=new Set(e.map(e=>e.city).filter(e=>e&&e.trim()!==``));return Array.from(t).sort()},[e]),T=e.filter(e=>{let t=e.name.toLowerCase().includes(l.toLowerCase())||(e.client||``).toLowerCase().includes(l.toLowerCase())||(e.city||``).toLowerCase().includes(l.toLowerCase()),n=d===`all`||e.status===d,r=p===`all`||e.city===p,i=!0;if(h.from){let t=e.predictedEndDate?new Date(e.predictedEndDate):null;i=t&&Is(t)?h.to?Gc(t,{start:Ds(h.from),end:Bs(h.to)}):t>=Ds(h.from):!1}return t&&n&&i&&r}),E=e.length,D=e.filter(e=>e.status===`ativa`).length,O=e.filter(e=>e.status===`concluida`).length,k=()=>{c(void 0),o(!0)},A=(e,t)=>{e.stopPropagation(),c(t),o(!0)},ee=(e,t)=>{e.stopPropagation(),v(t),b(!0)},te=async()=>{if(_){C(!0);try{await n(_),i({title:`Obra Removida`,description:`O projeto foi excludo com sucesso.`}),b(!1),v(null)}catch(e){console.error(e),i({title:`Erro ao excluir`,description:`No foi possvel remover a obra. Tente novamente.`,variant:`destructive`})}finally{C(!1)}}},ne=()=>{u(``),f(`all`),m(`all`),g({from:void 0,to:void 0})},re=l||d!==`all`||p!==`all`||h.from,ie=e=>{switch(e){case`ativa`:return`bg-emerald-100 text-emerald-700 hover:bg-emerald-100/80 border-emerald-200`;case`concluida`:return`bg-slate-100 text-slate-700 hover:bg-slate-100/80 border-slate-200`;case`inativa`:return`bg-red-100 text-red-700 hover:bg-red-100/80 border-red-200`;default:return`bg-gray-100 text-gray-700 border-gray-200`}},j=e=>{switch(e){case`ativa`:return`Ativa`;case`concluida`:return`Concluda`;case`inativa`:return`Inativa`;default:return e}},M=e=>{if(!e)return`No informado`;let t=new Date(e);return Is(t)?Ic(t,`dd/MM/yyyy`):`Data invlida`};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Obras e Projetos`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gerenciamento de canteiros e documentao`})]}),(0,P.jsxs)(B,{onClick:k,className:`bg-orange-600 hover:bg-orange-700 w-full sm:w-auto`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Nova Obra`]})]}),(0,P.jsxs)(`div`,{className:`grid gap-4 md:grid-cols-3`,children:[(0,P.jsxs)(q,{className:`bg-card`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Total de Obras`}),(0,P.jsx)(`div`,{className:`bg-blue-50 p-2 rounded-full`,children:(0,P.jsx)(Ra,{className:`h-4 w-4 text-blue-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold`,children:E})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-green-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Obras Ativas`}),(0,P.jsx)(`div`,{className:`bg-green-50 p-2 rounded-full`,children:(0,P.jsx)(Ca,{className:`h-4 w-4 text-green-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-green-600`,children:D})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-slate-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Obras Concludas`}),(0,P.jsx)(`div`,{className:`bg-slate-50 p-2 rounded-full`,children:(0,P.jsx)(Ca,{className:`h-4 w-4 text-slate-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-slate-600`,children:O})})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border items-start md:items-center`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1 w-full md:max-w-xs`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nome, cliente...`,className:`pl-9 bg-background`,value:l,onChange:e=>u(e.target.value)})]}),(0,P.jsxs)(RO,{value:d,onValueChange:f,children:[(0,P.jsx)(BO,{className:`w-full md:w-[180px] bg-background`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(zO,{placeholder:`Status`})]})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos os Status`}),(0,P.jsx)(Q,{value:`ativa`,children:`Ativa`}),(0,P.jsx)(Q,{value:`concluida`,children:`Concluda`}),(0,P.jsx)(Q,{value:`inativa`,children:`Inativa`})]})]}),(0,P.jsxs)(RO,{value:p,onValueChange:m,children:[(0,P.jsx)(BO,{className:`w-full md:w-[180px] bg-background`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(qa,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(zO,{placeholder:`Cidade`})]})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todas as Cidades`}),w.map(e=>(0,P.jsx)(Q,{value:e,children:e},e))]})]}),(0,P.jsxs)(xE,{children:[(0,P.jsx)(SE,{asChild:!0,children:(0,P.jsxs)(B,{variant:`outline`,className:R(`w-full md:w-[240px] justify-start text-left font-normal bg-background`,!h.from&&`text-muted-foreground`),children:[(0,P.jsx)(pa,{className:`mr-2 h-4 w-4`}),h.from?h.to?(0,P.jsxs)(P.Fragment,{children:[Ic(h.from,`dd/MM/yy`),` -`,` `,Ic(h.to,`dd/MM/yy`)]}):Ic(h.from,`dd/MM/yyyy`):(0,P.jsx)(`span`,{children:`Previso de Trmino`})]})}),(0,P.jsx)(CE,{className:`w-auto p-0`,align:`start`,children:(0,P.jsx)(kj,{initialFocus:!0,mode:`range`,defaultMonth:h.from,selected:h,onSelect:e=>g(e||{from:void 0,to:void 0}),numberOfMonths:2})})]}),re&&(0,P.jsxs)(B,{variant:`ghost`,onClick:ne,className:`text-muted-foreground hover:text-foreground`,children:[(0,P.jsx)(wa,{className:`h-4 w-4 mr-2`}),`Limpar Filtros`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[40%] text-xs font-bold uppercase tracking-wider text-muted-foreground pl-6`,children:`Obra / Cliente`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Localizao`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Perodo`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-center`,children:`Status`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-right pr-6`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[t&&e.length===0&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-primary`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Carregando obras...`})]})})}),!t&&T.length===0&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12 text-muted-foreground`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(ua,{className:`h-10 w-10 text-muted-foreground/30`}),(0,P.jsx)(`p`,{children:`Nenhuma obra encontrada.`})]})})}),T.map(e=>(0,P.jsxs)(Y,{className:`group cursor-pointer hover:bg-muted/30 transition-colors`,onClick:()=>r(`/obras/${e.id}`),children:[(0,P.jsx)(Z,{className:`pl-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(`div`,{className:`flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-blue-50 text-blue-600 ring-1 ring-blue-100`,children:(0,P.jsx)(ua,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{className:`flex flex-col gap-0.5`,children:[(0,P.jsx)(`span`,{className:`font-semibold text-foreground text-base`,children:e.name}),(0,P.jsx)(`span`,{className:`text-sm text-muted-foreground`,children:e.client})]})]})}),(0,P.jsx)(Z,{className:`py-4`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-muted-foreground`,children:[(0,P.jsx)(qa,{className:`h-4 w-4 shrink-0`}),(0,P.jsxs)(`span`,{className:`text-sm`,children:[e.city,e.state?` - ${e.state}`:``]})]})}),(0,P.jsx)(Z,{className:`py-4`,children:(0,P.jsxs)(`div`,{className:`flex flex-col gap-1 text-sm text-muted-foreground`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,P.jsx)(`span`,{className:`font-medium text-foreground`,children:`Incio:`}),` `,M(e.startDate)]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,P.jsx)(`span`,{className:`font-medium text-foreground`,children:`Fim:`}),` `,M(e.predictedEndDate)]})]})}),(0,P.jsx)(Z,{className:`text-center py-4`,children:(0,P.jsx)(WE,{variant:`outline`,className:R(`px-3 py-1 text-xs font-medium border shadow-sm`,ie(e.status)),children:j(e.status)})}),(0,P.jsx)(Z,{className:`text-right pr-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex justify-end items-center gap-1`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),r(`/obras/${e.id}`)},className:`text-muted-foreground hover:text-blue-600 hover:bg-blue-50`,title:`Visualizar Detalhes`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>A(t,e),className:`text-muted-foreground hover:text-orange-600 hover:bg-orange-50`,title:`Editar Obra`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>ee(t,e.id),className:`text-muted-foreground hover:text-destructive hover:bg-red-50`,title:`Excluir Obra`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id))]})]})}),(0,P.jsx)(cN,{open:a,onOpenChange:o,projectToEdit:s}),(0,P.jsx)(mM,{open:y,onOpenChange:b,children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Voc tem certeza?`}),(0,P.jsx)(xM,{children:`Esta ao no pode ser desfeita. Isso excluir permanentemente a obra e remover os dados associados de nossos servidores.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{disabled:x,children:`Cancelar`}),(0,P.jsx)(SM,{onClick:te,className:`bg-destructive hover:bg-destructive/90`,disabled:x,children:x?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Excluindo...`]}):`Excluir`})]})]})})]})}function uN({project:e}){return(0,P.jsxs)(`div`,{className:`grid gap-6 md:grid-cols-2`,children:[(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsx)(LE,{className:`text-lg`,children:`Informaes Gerais`})}),(0,P.jsxs)(J,{children:[(0,P.jsx)(QM,{label:`Cliente`,value:e.client,icon:mo}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`CNPJ`,value:e.cnpj,icon:Fa}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Endereo`,value:`${e.address}, ${e.city} - ${e.state}`,icon:qa}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Status do Projeto`,icon:aa,children:(0,P.jsx)(`span`,{className:`capitalize font-bold text-foreground`,children:e.status})})]})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`pb-2`,children:(0,P.jsx)(LE,{className:`text-lg`,children:`Prazos e Datas`})}),(0,P.jsxs)(J,{children:[(0,P.jsx)(QM,{label:`Data de Incio`,icon:ma,children:(0,P.jsx)(`div`,{className:`flex items-center gap-2 justify-end`,children:Xc(e.startDate,`dd/MM/yyyy`)})}),(0,P.jsx)(Yp,{}),(0,P.jsx)(QM,{label:`Previso de Trmino`,icon:ma,children:(0,P.jsx)(`div`,{className:`flex items-center gap-2 justify-end`,children:Xc(e.predictedEndDate,`dd/MM/yyyy`)})})]})]})]})}function dN({project:e}){let{toast:t}=$n(),[n,r]=(0,S.useState)(),[i,a]=(0,S.useState)(),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(``),u=(0,S.useMemo)(()=>e?.contracts?[...e.contracts].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()):[],[e?.contracts]),d=(0,S.useMemo)(()=>u?u.filter(e=>{let t=!0;if(n||i){let r=new Date(e.date);n&&i?t=Gc(r,{start:Ds(n),end:Bs(i)}):n?t=r>=Ds(n):i&&(t=r<=Bs(i))}let r=!0,a=e.value||0;if(o){let e=parseFloat(o);!isNaN(e)&&a<e&&(r=!1)}if(c){let e=parseFloat(c);!isNaN(e)&&a>e&&(r=!1)}return t&&r}):[],[u,n,i,o,c]),f=(0,S.useMemo)(()=>u.reduce((e,t)=>e+(t.value||0),0),[u]),p=(0,S.useMemo)(()=>d.reduce((e,t)=>e+(t.value||0),0),[d]),m=!!n||!!i||!!o||!!c,h=async(e,n)=>{if(e)try{let r=await fetch(e);if(!r.ok)throw Error(`Network response was not ok`);let i=await r.blob(),a=window.URL.createObjectURL(i),o=document.createElement(`a`);o.href=a,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(a),t({title:`Download concludo`,description:`O arquivo ${n} foi baixado com sucesso.`})}catch(n){console.error(`Download failed`,n),t({title:`Erro no download`,description:`No foi possvel baixar o arquivo diretamente. Abrindo em nova aba...`,variant:`destructive`}),window.open(e,`_blank`)}};return(0,P.jsxs)(q,{children:[(0,P.jsxs)(IE,{children:[(0,P.jsxs)(LE,{className:`flex items-center gap-2`,children:[(0,P.jsx)(Aa,{className:`h-5 w-5`}),` Gesto Financeira`]}),(0,P.jsx)(RE,{children:`Gerencie os valores e contratos relacionados a esta obra. O valor total  calculado somando todos os contratos anexados.`})]}),(0,P.jsxs)(J,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col gap-4 p-4 border rounded-md bg-muted/10`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 mb-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(`span`,{className:`text-sm font-semibold text-muted-foreground`,children:`Filtros Avanados`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 items-end`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-xs`,children:`Data Inicial`}),(0,P.jsx)(jj,{date:n,setDate:r,placeholder:`dd/mm/aaaa`,className:`w-full`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-xs`,children:`Data Final`}),(0,P.jsx)(jj,{date:i,setDate:a,placeholder:`dd/mm/aaaa`,className:`w-full`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-xs`,children:`Valor Mnimo (R$)`}),(0,P.jsx)(KE,{placeholder:`0,00`,value:parseFloat(o)||0,onChange:e=>s(e.toString())})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-xs`,children:`Valor Mximo (R$)`}),(0,P.jsx)(KE,{placeholder:`0,00`,value:parseFloat(c)||0,onChange:e=>l(e.toString())})]}),(0,P.jsx)(`div`,{className:`pb-0.5`,children:(0,P.jsxs)(B,{variant:`ghost`,size:`sm`,onClick:()=>{r(void 0),a(void 0),s(``),l(``)},title:`Limpar Filtros`,className:`w-full hover:text-destructive hover:bg-destructive/10 border border-dashed border-transparent hover:border-destructive/30`,disabled:!m,children:[(0,P.jsx)(L,{className:`h-4 w-4 mr-2`}),` Limpar`]})})]})]}),m&&(0,P.jsxs)(`div`,{className:`flex flex-col p-4 bg-orange-50 rounded-md border border-l-4 border-l-orange-500/50`,children:[(0,P.jsxs)(`span`,{className:`text-sm font-semibold text-orange-800 flex items-center gap-2 mb-1`,children:[(0,P.jsx)(La,{className:`h-4 w-4`}),` Total Filtrado`]}),(0,P.jsx)(`span`,{className:`text-2xl font-bold text-orange-900`,children:p.toLocaleString(`pt-BR`,{style:`currency`,currency:`BRL`})}),(0,P.jsxs)(`span`,{className:`text-xs text-orange-700 mt-1`,children:[`Exibindo `,d.length,` de `,u.length,` `,`contratos`]})]}),u.length===0?(0,P.jsxs)(`div`,{className:`text-center py-8 text-muted-foreground border border-dashed rounded-lg bg-muted/10`,children:[(0,P.jsx)(Na,{className:`h-10 w-10 mx-auto mb-2 opacity-20`}),(0,P.jsx)(`p`,{children:`Nenhum contrato anexado.`})]}):d.length===0?(0,P.jsxs)(`div`,{className:`text-center py-12 text-muted-foreground border border-dashed rounded-lg`,children:[(0,P.jsx)(La,{className:`h-8 w-8 mx-auto mb-2 opacity-20`}),(0,P.jsx)(`p`,{children:`Nenhum contrato encontrado com os filtros selecionados.`})]}):(0,P.jsx)(`div`,{className:`border rounded-md overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Contrato / Descrio`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Data de Upload`}),(0,P.jsx)(X,{children:`Vencimento`}),(0,P.jsx)(X,{className:`text-right`,children:`Ao`})]})}),(0,P.jsx)(YE,{children:d.map(e=>(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{className:`font-medium`,children:e.description||`Contrato`}),(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground truncate max-w-[200px]`,children:e.name})]})}),(0,P.jsx)(Z,{className:`font-medium`,children:e.value?e.value.toLocaleString(`pt-BR`,{style:`currency`,currency:`BRL`}):`-`}),(0,P.jsx)(Z,{children:Xc(e.date,`dd/MM/yyyy`)}),(0,P.jsx)(Z,{children:e.expiry?Xc(e.expiry,`dd/MM/yyyy`):`-`}),(0,P.jsx)(Z,{className:`text-right`,children:e.url?(0,P.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,P.jsxs)(B,{variant:`ghost`,size:`sm`,className:`text-muted-foreground hover:text-foreground`,onClick:()=>h(e.url,e.name),title:`Baixar documento`,children:[(0,P.jsx)(ja,{className:`h-4 w-4 mr-2`}),` Baixar`]}),(0,P.jsx)(B,{variant:`ghost`,size:`sm`,asChild:!0,className:`text-blue-600 hover:text-blue-800 hover:bg-blue-50`,children:(0,P.jsxs)(`a`,{href:e.url,target:`_blank`,rel:`noreferrer`,children:[(0,P.jsx)(Ma,{className:`h-4 w-4 mr-2`}),` Visualizar`]})})]}):(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground italic px-3`,children:`Sem anexo`})})]},e.id))})]})}),(0,P.jsx)(`div`,{className:`flex justify-end mt-6`,children:(0,P.jsxs)(`div`,{className:`flex flex-col p-4 bg-card rounded-md border shadow-sm border-l-4 border-l-orange-400 min-w-[300px]`,children:[(0,P.jsx)(`span`,{className:`text-sm font-medium text-muted-foreground mb-1`,children:`$ Valor Total Contratado`}),(0,P.jsx)(`span`,{className:`text-2xl font-bold text-foreground`,children:f.toLocaleString(`pt-BR`,{style:`currency`,currency:`BRL`})}),(0,P.jsxs)(`span`,{className:`text-xs text-muted-foreground mt-1`,children:[`Soma de `,u.length,` contratos`]})]})}),(0,P.jsxs)(`div`,{className:`text-sm text-muted-foreground bg-blue-50 text-blue-800 p-3 rounded-md border border-blue-100 flex items-start gap-2`,children:[(0,P.jsx)(`span`,{className:`font-bold shrink-0 mt-0.5`,children:`Nota:`}),(0,P.jsx)(`p`,{children:`A lista acima exibe os contratos anexados a esta obra. Para adicionar novos contratos, aditivos ou alterar valores, utilize o boto "Editar Obra" no topo da pgina. O valor total  atualizado automaticamente.`})]})]})]})}var fN={pgr:`PGR`,pcmso:`PCMSO`,art:`ART`,seguro:`Seguro`,cno:`CNO`,alvara:`Alvar`,licenca_ambiental:`Licena Ambiental`,outros:`Outros`,cnpj:`CNPJ`,contrato:`Contrato`};function pN({documents:e,onDeleteClick:t}){let{toast:n}=$n(),r=async(e,t)=>{if(e)try{let r=await fetch(e);if(!r.ok)throw Error(`Network response was not ok`);let i=await r.blob(),a=window.URL.createObjectURL(i),o=document.createElement(`a`);o.href=a,o.download=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(a),n({title:`Download concludo`,description:`O arquivo ${t} foi baixado com sucesso.`})}catch(t){console.error(`Download failed`,t),n({title:`Erro no download`,description:`No foi possvel baixar o arquivo diretamente. Abrindo em nova aba...`,variant:`destructive`}),window.open(e,`_blank`)}};return(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(`div`,{className:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`,children:(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsxs)(LE,{className:`text-lg flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-5 w-5 text-primary`}),` Documentao`]}),(0,P.jsx)(RE,{children:`Gerencie os documentos obrigatrios e adicionais da obra.`})]})})}),(0,P.jsx)(J,{children:e.length===0?(0,P.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-10 text-muted-foreground bg-muted/10 rounded-lg border border-dashed`,children:[(0,P.jsx)(Fa,{className:`h-10 w-10 mb-2 opacity-20`}),(0,P.jsx)(`p`,{children:`Nenhum documento anexado`})]}):(0,P.jsx)(`div`,{className:`border rounded-md overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Tipo de documento`}),(0,P.jsx)(X,{children:`Validade`}),(0,P.jsx)(X,{children:`Status (Alertas)`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:e.map(e=>{if(!e)return null;let n=fN[e.type||`outros`]||e.type?.toUpperCase()||`Outros`;e.type===`outros`&&e.description?n=e.description:e.description&&(n=`${n} - ${e.description}`);let i=Zc(e.expiry),a=e.expiry?Rs(Ds(new Date(e.expiry)),Ds(new Date)):null;return(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{className:`font-medium`,children:n}),(0,P.jsx)(Z,{children:(0,P.jsx)(`span`,{children:Xc(e.expiry,`dd/MM/yyyy`)})}),(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col gap-1 w-fit`,children:[(0,P.jsx)(WE,{className:R(i.bg,i.color,i.border,`border shadow-none whitespace-nowrap font-semibold`),children:i.label}),i.severity===`warning`&&a!==null&&(0,P.jsxs)(`span`,{className:`text-xs text-amber-600 font-medium`,children:[`Faltam `,a,` dias`]})]})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,P.jsxs)(B,{variant:`ghost`,size:`icon`,className:`h-8 w-8 text-muted-foreground hover:text-foreground`,onClick:()=>r(e.url,e.name),disabled:!e.url,title:e.url?`Realizar download`:`Sem anexo`,children:[(0,P.jsx)(ja,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Download`})]}),e.url?(0,P.jsx)(B,{variant:`ghost`,size:`icon`,asChild:!0,className:`h-8 w-8 text-muted-foreground hover:text-foreground`,children:(0,P.jsxs)(`a`,{href:e.url,target:`_blank`,rel:`noreferrer`,title:`Visualizar`,children:[(0,P.jsx)(Ma,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Visualizar`})]})}):(0,P.jsxs)(B,{variant:`ghost`,size:`icon`,disabled:!0,className:`h-8 w-8 text-muted-foreground opacity-50`,children:[(0,P.jsx)(Ma,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Sem visualizao`})]}),(0,P.jsxs)(B,{variant:`ghost`,size:`icon`,className:`h-8 w-8 text-muted-foreground hover:text-destructive`,onClick:()=>t(e),title:`Deletar`,children:[(0,P.jsx)(so,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{className:`sr-only`,children:`Deletar`})]})]})})]},e.id)})})]})})})]})}function mN(){let{id:e}=ct(),t=it(),{projects:n,loadingProjects:r,fetchProjects:i}=PS(),{toast:a}=$n(),[o,s]=(0,S.useState)(null),[c,l]=(0,S.useState)(!1),[u,d]=(0,S.useState)(null),[f,p]=(0,S.useState)(!1);(0,S.useEffect)(()=>{!n.length&&!r&&i()},[n.length,r,i]),(0,S.useEffect)(()=>{if(e&&n.length>0){let t=n.find(t=>t.id===e);t&&s(t)}},[e,n]);let m=async()=>{if(e)try{let t=await eS.getById(e);t&&(s(t),i())}catch(e){console.error(`Failed to refresh project`,e)}},h=async()=>{if(!(!u||!u.id)){p(!0);try{await eS.deleteDocument(u.id),a({title:`Documento removido`,description:`O documento foi excludo com sucesso.`}),await m()}catch(e){console.error(e),a({title:`Erro ao excluir`,description:e.message||`No foi possvel excluir o documento.`,variant:`destructive`})}finally{p(!1),d(null)}}};if(!o)return(0,P.jsx)(`div`,{className:`flex h-screen items-center justify-center`,children:r?(0,P.jsx)(Ua,{className:`animate-spin h-8 w-8 text-primary`}):`Obra no encontrada`});let g=Object.values(o.documents||{}).filter(e=>e&&e.type!==`contrato`);return(0,P.jsxs)(`div`,{className:`space-y-6 animate-fade-in max-w-5xl mx-auto pb-10`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row sm:items-center justify-between gap-4`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>t(`/obras`),children:(0,P.jsx)(oa,{className:`h-5 w-5`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsxs)(`h1`,{className:`text-2xl font-bold flex items-center gap-3`,children:[o.name,(0,P.jsx)(WE,{variant:o.status===`ativa`?`default`:o.status===`concluida`?`secondary`:`outline`,className:R(o.status===`ativa`&&`bg-emerald-500 hover:bg-emerald-600`,o.status===`inativa`&&`bg-red-500 hover:bg-red-600`),children:o.status===`ativa`?`Ativa`:o.status===`concluida`?`Concluda`:`Inativa`})]}),(0,P.jsxs)(`p`,{className:`text-muted-foreground flex items-center gap-2 text-sm mt-1`,children:[(0,P.jsx)(ua,{className:`h-3 w-3`}),` `,o.client]})]})]}),(0,P.jsxs)(B,{onClick:()=>l(!0),className:`bg-orange-600 hover:bg-orange-700`,children:[(0,P.jsx)(oo,{className:`h-4 w-4 mr-2`}),` Editar Obra`]})]}),(0,P.jsxs)(UM,{defaultValue:`geral`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`w-full justify-start rounded-md border bg-muted/20 p-1 flex-wrap h-auto mb-6`,children:[(0,P.jsx)(GM,{value:`geral`,className:`px-6`,children:`Viso Geral`}),(0,P.jsx)(GM,{value:`financeiro`,className:`px-6`,children:`Financeiro`}),(0,P.jsx)(GM,{value:`documentos`,className:`px-6`,children:`Documentao`})]}),(0,P.jsx)(KM,{value:`geral`,className:`mt-0`,children:(0,P.jsx)(uN,{project:o})}),(0,P.jsx)(KM,{value:`financeiro`,className:`mt-0`,children:(0,P.jsx)(dN,{project:o})}),(0,P.jsx)(KM,{value:`documentos`,className:`mt-0`,children:(0,P.jsx)(pN,{documents:g,onDeleteClick:d})})]}),(0,P.jsx)(cN,{open:c,onOpenChange:e=>{l(e),e||m()},projectToEdit:o}),(0,P.jsx)(mM,{open:!!u,onOpenChange:e=>!e&&d(null),children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Remover documento?`}),(0,P.jsx)(xM,{children:`Esta ao no pode ser desfeita. O documento ser permanentemente excludo do sistema.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{disabled:f,children:`Cancelar`}),(0,P.jsx)(SM,{onClick:e=>{e.preventDefault(),h()},disabled:f,className:`bg-destructive text-destructive-foreground hover:bg-destructive/90`,children:f?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Removendo...`]}):`Remover`})]})]})})]})}function hN({type:e,onTypeChange:t,expiry:n,onExpiryChange:r,file:i,onFileChange:a,existingDoc:o,isFixed:s=!1,onRemove:c,availableTypes:l=[],description:u,onDescriptionChange:d,uploaderId:f,requiresExpiry:p=!0}){let m=o?.expiry?Zc(o.expiry):null,h=n?Zc(n):null,g=i||n?h:m,_=e===`outros`,v=f||`upload-${e}-${Math.random()}`;return(0,P.jsxs)(q,{className:`overflow-hidden border shadow-sm`,children:[(0,P.jsxs)(`div`,{className:`bg-muted/10 px-4 py-3 border-b flex items-center justify-between`,children:[s?(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(`span`,{className:`font-bold text-sm md:text-base`,children:e}),g&&g.severity!==`ok`&&(0,P.jsx)(WE,{className:R(g.bg,g.color,g.border,`border shadow-none ml-2`),children:g.label}),g?.severity===`ok`&&(0,P.jsxs)(WE,{variant:`outline`,className:`bg-green-50 text-green-700 border-green-200 ml-2`,children:[(0,P.jsx)(Ca,{className:`w-3 h-3 mr-1`}),` `,g.label]})]}):(0,P.jsx)(`div`,{className:`flex items-center gap-2 flex-1 max-w-sm`,children:(0,P.jsxs)(RO,{value:e,onValueChange:t,children:[(0,P.jsx)(BO,{className:`h-8 bg-background`,children:(0,P.jsx)(zO,{placeholder:`Selecione o tipo`})}),(0,P.jsx)(UO,{children:l.map(e=>(0,P.jsx)(Q,{value:e.value,children:e.label},e.value))})]})}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[o&&!i&&(0,P.jsx)(`a`,{href:o.url,target:`_blank`,rel:`noreferrer`,className:`text-xs text-blue-600 hover:underline flex items-center gap-1`,children:`Ver atual`}),!s&&c&&(0,P.jsx)(B,{variant:`ghost`,size:`icon`,type:`button`,className:`h-8 w-8 text-muted-foreground hover:text-destructive`,onClick:c,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})]}),(0,P.jsxs)(J,{className:`p-4`,children:[_&&(0,P.jsxs)(`div`,{className:`mb-4`,children:[(0,P.jsx)(K,{className:`text-xs font-medium text-muted-foreground mb-1.5 block`,children:`Nome do Documento / Descrio`}),(0,P.jsx)(V,{value:u||``,onChange:e=>d?.(e.target.value),placeholder:`Ex: Certificado de Curso Especial`,className:`w-full`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4 items-end`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{className:`text-xs font-medium text-muted-foreground`,children:[`Data de Validade`,` `,p&&(0,P.jsx)(`span`,{className:`text-destructive`,children:`*`})]}),(0,P.jsx)(jj,{date:n,setDate:r,placeholder:`Selecione a data`,className:`w-full`})]}),(0,P.jsx)(`div`,{className:`space-y-2`,children:(0,P.jsx)(aN,{id:v,currentFileName:i?.name,onFileSelect:e=>a(e)})})]}),n&&!i&&!o&&(0,P.jsxs)(`div`,{className:`mt-2 flex items-center gap-2 text-xs text-amber-600`,children:[(0,P.jsx)(xa,{className:`h-3 w-3`}),(0,P.jsx)(`span`,{children:`No esquea de anexar o arquivo`})]})]})]})}function gN({open:e,onOpenChange:t,vehicleToEdit:n}){let{updateVehicle:r,addVehicle:i,projects:a,fetchVehicles:o,fetchExpiringDocuments:s}=PS(),{toast:c}=$n(),[l,u]=(0,S.useState)(!1),[d,f]=(0,S.useState)({plate:``,brand:``,model:``,status:`ativo`,projectId:void 0}),[p,m]=(0,S.useState)(null),[h,g]=(0,S.useState)(void 0);(0,S.useEffect)(()=>{e&&n?(f({...n}),g(n.documentExpiry),m(null)):(f({plate:``,brand:``,model:``,status:`ativo`,projectId:void 0,pneuEstado:void 0,pneuDataTroca:void 0,bateriaSerie:``,bateriaAmperagem:``,bateriaDataTroca:void 0}),g(void 0),m(null))},[e,n]);let _=async()=>{if(!d.plate||!d.brand||!d.model){c({title:`Erro`,description:`Preencha os campos obrigatrios (Placa, Marca, Modelo)`,variant:`destructive`});return}if(!el(d.plate)){c({title:`Placa Invlida`,description:`A placa deve seguir o padro Mercosul (ex: BRA1B23).`,variant:`destructive`});return}u(!0);try{let e=n?.id;if(n&&n.id?(await iS.update(n.id,d),r(n.id,d),c({title:`Veculo Atualizado`,description:`As informaes do veculo foram salvas com sucesso.`})):(e=(await i(d)).id,c({title:`Veculo Criado`,description:`Veculo adicionado com sucesso.`})),e){let t=n?.documents?.crlv?.id;(p||t&&h)&&await iS.upsertDocument(e,`crlv`,p,h,t)}await o(),await s(),t(!1)}catch(e){console.error(e),c({title:`Erro`,description:`Falha ao salvar: ${e.message}`,variant:`destructive`})}finally{u(!1)}},v=!(!d.plate||el(d.plate))&&d.plate&&d.plate.length>0;return(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsxs)(rD,{className:`sm:max-w-[500px] max-h-[90vh] overflow-y-auto`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:n?`Editar Veculo`:`Novo Veculo`})}),(0,P.jsxs)(`div`,{className:`grid gap-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{htmlFor:`plate`,children:[`Placa `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{id:`plate`,value:d.plate||``,onChange:e=>{let t=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,``).slice(0,7);f({...d,plate:t})},placeholder:`BRA1B23`,maxLength:7,className:v?`border-red-500`:``}),v&&(0,P.jsx)(`span`,{className:`text-xs text-red-500 block`,children:`Padro Mercosul: LLLNLNN (ex: BRA1B23)`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`status`,children:`Status`}),(0,P.jsxs)(RO,{value:d.status,onValueChange:e=>f({...d,status:e}),children:[(0,P.jsx)(BO,{id:`status`,children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`ativo`,children:`Ativo`}),(0,P.jsx)(Q,{value:`manutencao`,children:`Em Manuteno`}),(0,P.jsx)(Q,{value:`inativo`,children:`Inativo`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{htmlFor:`brand`,children:[`Marca `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{id:`brand`,value:d.brand||``,onChange:e=>f({...d,brand:e.target.value}),placeholder:`Ex: Fiat`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{htmlFor:`model`,children:[`Modelo `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{id:`model`,value:d.model||``,onChange:e=>f({...d,model:e.target.value}),placeholder:`Ex: Strada`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`project`,children:`Obra Alocada`}),(0,P.jsxs)(RO,{value:d.projectId||`none`,onValueChange:e=>f({...d,projectId:e===`none`?void 0:e}),children:[(0,P.jsx)(BO,{id:`project`,children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No alocado`}),a.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 border-t pt-4 mt-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Pneus`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Estado`}),(0,P.jsxs)(RO,{value:d.pneuEstado||`none`,onValueChange:e=>f({...d,pneuEstado:e===`none`?void 0:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No informado`}),(0,P.jsx)(Q,{value:`novo`,children:`Novo`}),(0,P.jsx)(Q,{value:`meia-vida`,children:`Meia-vida`}),(0,P.jsx)(Q,{value:`ruim`,children:`Ruim`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data da Troca`}),(0,P.jsx)(jj,{date:d.pneuDataTroca,setDate:e=>f({...d,pneuDataTroca:e}),placeholder:`Selecione...`,className:`w-full`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 border-t pt-4 mt-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Bateria`}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`N de Srie`}),(0,P.jsx)(V,{value:d.bateriaSerie||``,onChange:e=>f({...d,bateriaSerie:e.target.value}),placeholder:`S/N...`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Amperagem`}),(0,P.jsx)(V,{value:d.bateriaAmperagem||``,onChange:e=>f({...d,bateriaAmperagem:e.target.value}),placeholder:`Ex: 60Ah`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data da Troca`}),(0,P.jsx)(jj,{date:d.bateriaDataTroca,setDate:e=>f({...d,bateriaDataTroca:e}),placeholder:`Selecione...`,className:`w-full`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 border-t pt-4 mt-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Documentao`}),(0,P.jsx)(hN,{type:`Documento do Veculo (CRLV)`,expiry:h,onExpiryChange:g,file:p,onFileChange:m,existingDoc:n?.documentUrl?{name:`CRLV Anexado`,url:n.documentUrl,expiry:n.documentExpiry}:null,isFixed:!0}),(0,P.jsx)(`div`,{className:`mt-4 pt-4 border-t text-center`,children:(0,P.jsxs)(`p`,{className:`text-sm text-muted-foreground`,children:[`Caso deseja verificar multas, acesse`,` `,(0,P.jsx)(`a`,{href:`https://portalservicos.senatran.serpro.gov.br`,target:`_blank`,rel:`noopener noreferrer`,className:`text-orange-600 hover:underline font-medium`,children:`esse link`})]})})]})]}),(0,P.jsxs)(aD,{children:[(0,P.jsx)(tD,{asChild:!0,children:(0,P.jsx)(B,{variant:`outline`,children:`Cancelar`})}),(0,P.jsx)(B,{onClick:_,disabled:l,children:l?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Salvando...`]}):`Salvar`})]})]})})}function _N(){let{vehicles:e,projects:t,fetchExpiringDocuments:n,deleteVehicle:r}=PS(),i=it(),{toast:a}=$n(),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(`all`),[u,d]=(0,S.useState)(!1),[f,p]=(0,S.useState)(!1),[m,h]=(0,S.useState)(void 0),[g,_]=(0,S.useState)(null),[v,y]=(0,S.useState)(!1),[b,x]=(0,S.useState)(!1);(0,S.useEffect)(()=>{n()},[n]);let C=e.length,w=e.filter(e=>e.status===`ativo`).length,T=e.filter(e=>e.status===`manutencao`).length,E=e.filter(e=>{let t=e.plate.toLowerCase().includes(o.toLowerCase())||e.brand.toLowerCase().includes(o.toLowerCase())||e.model.toLowerCase().includes(o.toLowerCase()),n=c===`all`||e.status===c;return t&&n}),D=()=>{s(``),l(`all`)},O=o||c!==`all`,k=e=>{switch(e){case`ativo`:return`bg-emerald-100 text-emerald-700 hover:bg-emerald-100/80 border-emerald-200`;case`manutencao`:return`bg-amber-100 text-amber-700 hover:bg-amber-100/80 border-amber-200`;case`inativo`:return`bg-gray-100 text-gray-700 hover:bg-gray-100/80 border-gray-200`;default:return`bg-gray-100 text-gray-700 border-gray-200`}},A=e=>{switch(e){case`ativo`:return`Ativo`;case`manutencao`:return`Em Manuteno`;case`inativo`:return`Inativo`;default:return e}},ee=()=>{h(void 0),p(!0)},te=(e,t)=>{e.stopPropagation(),h(t),p(!0)},ne=(e,t)=>{e.stopPropagation(),_(t),y(!0)};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Frota e Veculos`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto de veculos e alocao`})]}),(0,P.jsxs)(B,{onClick:ee,className:`bg-orange-600 hover:bg-orange-700 w-full sm:w-auto`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Veculo`]})]}),(0,P.jsxs)(`div`,{className:`grid gap-4 md:grid-cols-3`,children:[(0,P.jsxs)(q,{className:`bg-card`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Total de Veculos`}),(0,P.jsx)(`div`,{className:`bg-blue-50 p-2 rounded-full`,children:(0,P.jsx)(lo,{className:`h-4 w-4 text-blue-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold`,children:C})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-green-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Ativos`}),(0,P.jsx)(`div`,{className:`bg-green-50 p-2 rounded-full`,children:(0,P.jsx)(lo,{className:`h-4 w-4 text-green-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-green-600`,children:w})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-amber-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Em Manuteno`}),(0,P.jsx)(`div`,{className:`bg-amber-50 p-2 rounded-full`,children:(0,P.jsx)(lo,{className:`h-4 w-4 text-amber-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-amber-600`,children:T})})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border items-start md:items-center`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1 w-full md:max-w-md`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por placa, marca ou modelo...`,className:`pl-9 bg-background`,value:o,onChange:e=>s(e.target.value)})]}),(0,P.jsxs)(RO,{value:c,onValueChange:l,children:[(0,P.jsx)(BO,{className:`w-full md:w-[180px] bg-background`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(zO,{placeholder:`Status`})]})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos os Status`}),(0,P.jsx)(Q,{value:`ativo`,children:`Ativo`}),(0,P.jsx)(Q,{value:`manutencao`,children:`Manuteno`}),(0,P.jsx)(Q,{value:`inativo`,children:`Inativo`})]})]}),O&&(0,P.jsxs)(B,{variant:`ghost`,onClick:D,className:`text-muted-foreground hover:text-foreground`,children:[(0,P.jsx)(wa,{className:`h-4 w-4 mr-2`}),`Limpar Filtros`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[15%] text-xs font-bold uppercase tracking-wider text-muted-foreground pl-6`,children:`Placa`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Marca / Modelo`}),(0,P.jsx)(X,{className:`w-[25%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Obra Alocada`}),(0,P.jsx)(X,{className:`w-[15%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-center`,children:`Status`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-right pr-6`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[e.length===0&&!u&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12 text-muted-foreground`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(lo,{className:`h-10 w-10 text-muted-foreground/30`}),(0,P.jsx)(`p`,{children:`Nenhum veculo encontrado.`})]})})}),u&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-8`,children:(0,P.jsx)(Ua,{className:`h-6 w-6 animate-spin mx-auto text-primary`})})}),E.map(e=>{let n=t.find(t=>t.id===e.projectId);return(0,P.jsxs)(Y,{onClick:()=>i(`/veiculos/${e.id}`),className:`cursor-pointer hover:bg-muted/30 transition-colors group`,children:[(0,P.jsx)(Z,{className:`pl-6 py-4 font-mono font-medium`,children:e.plate}),(0,P.jsx)(Z,{className:`py-4`,children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{className:`font-medium`,children:e.model}),(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground`,children:e.brand})]})}),(0,P.jsx)(Z,{className:`py-4`,children:n?(0,P.jsx)(WE,{variant:`secondary`,className:`font-normal`,children:n.name}):(0,P.jsx)(`span`,{className:`text-muted-foreground text-sm`,children:`No alocado`})}),(0,P.jsx)(Z,{className:`text-center py-4`,children:(0,P.jsx)(WE,{variant:`outline`,className:R(`px-3 py-1 text-xs font-medium border shadow-sm`,k(e.status||`ativo`)),children:A(e.status||`ativo`)})}),(0,P.jsx)(Z,{className:`text-right pr-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex justify-end items-center gap-1`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),i(`/veiculos/${e.id}`)},className:`text-muted-foreground hover:text-blue-600 hover:bg-blue-50`,title:`Visualizar Detalhes`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>te(t,e),className:`text-muted-foreground hover:text-orange-600 hover:bg-orange-50`,title:`Editar Veculo`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>ne(t,e.id),className:`text-muted-foreground hover:text-red-600 hover:bg-red-50`,title:`Excluir Veculo`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id)})]})]})}),(0,P.jsx)(gN,{open:f,onOpenChange:p,vehicleToEdit:m}),(0,P.jsx)(mM,{open:v,onOpenChange:y,children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Voc tem certeza?`}),(0,P.jsx)(xM,{children:`Esta ao no pode ser desfeita. Isso excluir permanentemente o veculo e todos os dados associados.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{disabled:b,children:`Cancelar`}),(0,P.jsx)(SM,{onClick:async()=>{if(g){x(!0);try{await r(g),a({title:`Veculo Removido`,description:`O veculo foi excludo com sucesso.`}),y(!1),_(null)}catch(e){console.error(e),a({title:`Erro ao excluir`,description:`No foi possvel remover o veculo.`,variant:`destructive`})}finally{x(!1)}}},className:`bg-destructive hover:bg-destructive/90`,disabled:b,children:b?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Excluindo...`]}):`Excluir`})]})]})})]})}function vN(){let{id:e}=ct(),{addVehicle:t,updateVehicle:n,projects:r}=PS(),i=it(),{toast:a}=$n(),o=e===`novo`,[s,c]=(0,S.useState)(!1),[l,u]=(0,S.useState)({status:`ativo`,documents:{}}),[d,f]=(0,S.useState)({}),[p,m]=(0,S.useState)({});(0,S.useEffect)(()=>{!o&&e&&(async()=>{try{let t=await iS.getById(e);if(t){u(t);let e={};Object.entries(t.documents||{}).forEach(([t,n])=>{n?.expiry&&(e[t]=new Date(n.expiry))}),m(e)}}catch(e){console.error(e),a({title:`Erro`,description:`Falha ao carregar detalhes do veculo.`,variant:`destructive`})}})()},[e,o,a]);let h=async()=>{if(!l.plate||!l.brand||!l.model){a({title:`Erro`,description:`Preencha os campos obrigatrios (Placa, Marca, Modelo)`,variant:`destructive`});return}if(!el(l.plate)){a({title:`Placa Invlida`,description:`A placa deve ter 7 caracteres, sendo 4 letras e 3 nmeros (ex: BRA1B23).`,variant:`destructive`});return}c(!0);try{let r=o?``:e;if(o){let e=await iS.create(l);r=e.id,t(e)}else await iS.update(r,l),n(r,l);let s=[],c=new Set([...Object.keys(d),...Object.keys(p)]);for(let e of c){let t=d[e],n=p[e],i=l.documents?.[e],a=!!t,o=i?n?.getTime()!==i.expiry?.getTime():!1;(a||i&&o)&&s.push(iS.upsertDocument(r,e,t||null,n,i?.id))}await Promise.all(s);let h=await iS.getById(r);if(h){u(h),n(r,h);let e={};Object.entries(h.documents||{}).forEach(([t,n])=>{n?.expiry&&(e[t]=new Date(n.expiry))}),m(e)}a({title:`Salvo`,description:`Dados do veculo e documentos salvos com sucesso.`}),f({}),o&&i(`/veiculos/${r}`,{replace:!0})}catch(e){console.error(e),a({title:`Erro`,description:`Falha ao salvar: ${e.message}`,variant:`destructive`})}finally{c(!1)}},g=!(!l.plate||el(l.plate))&&l.plate&&l.plate.length>0;return(0,P.jsxs)(`div`,{className:`space-y-6 pb-10`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsxs)(B,{variant:`ghost`,onClick:()=>i(`/veiculos`),children:[(0,P.jsx)(oa,{className:`h-4 w-4 mr-2`}),` Voltar`]}),(0,P.jsx)(`h1`,{className:`text-2xl font-bold`,children:o?`Novo Veculo`:`${l.brand} ${l.model} - ${l.plate}`}),(0,P.jsx)(`div`,{className:`ml-auto`,children:(0,P.jsxs)(B,{onClick:h,disabled:s,children:[s?(0,P.jsx)(Ua,{className:`h-4 w-4 mr-2 animate-spin`}):(0,P.jsx)(to,{className:`h-4 w-4 mr-2`}),s?`Salvando...`:`Salvar`]})})]}),(0,P.jsxs)(UM,{defaultValue:`info`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`grid w-full grid-cols-2`,children:[(0,P.jsx)(GM,{value:`info`,children:`Informaes`}),(0,P.jsx)(GM,{value:`docs`,children:`Documentos`})]}),(0,P.jsx)(KM,{value:`info`,children:(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Dados Gerais`})}),(0,P.jsxs)(J,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Placa `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{value:l.plate||``,onChange:e=>{let t=e.target.value.toUpperCase().replace(/[^A-Z0-9]/g,``).slice(0,7);u({...l,plate:t})},placeholder:`BRA1B23`,maxLength:7,className:g?`border-red-500`:``}),g&&(0,P.jsx)(`span`,{className:`text-xs text-red-500 block`,children:`Requer 4 letras e 3 nmeros (ex: BRA1B23)`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Marca `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{value:l.brand||``,onChange:e=>u({...l,brand:e.target.value}),placeholder:`Ex: Fiat`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Modelo `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{value:l.model||``,onChange:e=>u({...l,model:e.target.value}),placeholder:`Ex: Strada`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Status`}),(0,P.jsxs)(RO,{value:l.status,onValueChange:e=>u({...l,status:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`ativo`,children:`Ativo`}),(0,P.jsx)(Q,{value:`manutencao`,children:`Em Manuteno`}),(0,P.jsx)(Q,{value:`inativo`,children:`Inativo`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Obra Alocada (Opcional)`}),(0,P.jsxs)(RO,{value:l.projectId||``,onValueChange:e=>u({...l,projectId:e===`none`?void 0:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No alocado`}),r.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 border-t pt-4 mt-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Pneus`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Estado`}),(0,P.jsxs)(RO,{value:l.pneuEstado||`none`,onValueChange:e=>u({...l,pneuEstado:e===`none`?void 0:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No informado`}),(0,P.jsx)(Q,{value:`novo`,children:`Novo`}),(0,P.jsx)(Q,{value:`meia-vida`,children:`Meia-vida`}),(0,P.jsx)(Q,{value:`ruim`,children:`Ruim`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data da Troca`}),(0,P.jsx)(jj,{date:l.pneuDataTroca,setDate:e=>u({...l,pneuDataTroca:e}),placeholder:`Selecione...`,className:`w-full`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 border-t pt-4 mt-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Bateria`}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`N de Srie`}),(0,P.jsx)(V,{value:l.bateriaSerie||``,onChange:e=>u({...l,bateriaSerie:e.target.value}),placeholder:`S/N...`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Amperagem`}),(0,P.jsx)(V,{value:l.bateriaAmperagem||``,onChange:e=>u({...l,bateriaAmperagem:e.target.value}),placeholder:`Ex: 60Ah`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 max-w-[50%]`,children:[(0,P.jsx)(K,{children:`Data da Troca`}),(0,P.jsx)(jj,{date:l.bateriaDataTroca,setDate:e=>u({...l,bateriaDataTroca:e}),placeholder:`Selecione...`,className:`w-full`})]})]})]})]})]})}),(0,P.jsx)(KM,{value:`docs`,children:(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Documentao (CRLV)`})}),(0,P.jsx)(J,{children:(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsx)(oN,{label:`CRLV (Documento)`,selectedDate:p.crlv,onDateChange:e=>m({...p,crlv:e}),selectedFile:d.crlv||null,onFileSelect:e=>f({...d,crlv:e}),existingDoc:l.documents?.crlv,status:p.crlv?Zc(p.crlv):null,requiresExpiry:!0}),(0,P.jsx)(`div`,{className:`mt-8 pt-6 border-t text-center`,children:(0,P.jsxs)(`p`,{className:`text-sm text-muted-foreground`,children:[`Caso deseja verificar multas, acesse`,` `,(0,P.jsx)(`a`,{href:`https://portalservicos.senatran.serpro.gov.br`,target:`_blank`,rel:`noopener noreferrer`,className:`text-orange-600 hover:underline font-medium`,children:`esse link`})]})})]})})]})})]})]})}var yN={paid:{label:`Pago`,color:`text-green-700`,bg:`bg-green-50`,border:`border-green-200`},pending:{label:`Pendente`,color:`text-amber-700`,bg:`bg-amber-50`,border:`border-amber-200`},overdue:{label:`Vencido`,color:`text-red-700`,bg:`bg-red-50`,border:`border-red-200`},cancelled:{label:`Cancelado`,color:`text-gray-700`,bg:`bg-gray-50`,border:`border-gray-200`}};function bN(){let{invoices:e,addInvoice:t,deleteInvoice:n,updateInvoice:r}=PS(),{toast:i}=$n(),[a,o]=(0,S.useState)(``),[s,c]=(0,S.useState)(!1),[l,u]=(0,S.useState)(!1),[d,f]=(0,S.useState)(null),[p,m]=(0,S.useState)({}),[h,g]=(0,S.useState)(``),_=async e=>{e?(m({...e}),g(e.items&&Array.isArray(e.items)?e.items.join(`
`):``),c(!0)):(m({number:await hS.getNextNumber(),issueDate:new Date,dueDate:new Date,status:`pending`,items:[]}),g(``),c(!0))},v=async()=>{if(!p.number||!p.value||!p.issueDate||!p.dueDate||!p.status){i({title:`Campos obrigatrios`,description:`Preencha todos os campos obrigatrios.`,variant:`destructive`});return}u(!0);try{let e=h.split(`
`).map(e=>e.trim()).filter(e=>e.length>0),n={...p,items:e};p.id?(await r(p.id,n),i({title:`Nota Atualizada`,description:`Dados salvos com sucesso.`})):(await t(n),i({title:`Nota Lanada`,description:`Nota fiscal registrada.`})),c(!1)}catch(e){console.error(e),i({title:`Erro ao salvar`,description:`Ocorreu um erro ao salvar a nota.`,variant:`destructive`})}finally{u(!1)}},y=async e=>{if(confirm(`Tem certeza que deseja excluir esta nota?`))try{await n(e),i({title:`Removido`,description:`Nota fiscal removida.`})}catch(e){console.error(e),i({title:`Erro ao excluir`,description:`No foi possvel excluir a nota.`,variant:`destructive`})}},b=async e=>{try{f(e.id),i({title:`Gerando PDF...`,description:`O download iniciar em alguns instantes.`}),await hS.generateAndDownloadDocument(e),i({title:`Sucesso`,description:`Download do PDF iniciado.`})}catch(e){console.error(`Error generating document:`,e),i({title:`Erro ao gerar documento`,description:`No foi possvel criar o arquivo PDF da nota.`,variant:`destructive`})}finally{f(null)}},x=e.filter(e=>e.number.includes(a)||e.client.toLowerCase().includes(a.toLowerCase())||e.cnpj.includes(a));return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Notas Fiscais`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto de emisso e recebimento de notas`})]}),(0,P.jsxs)(B,{onClick:()=>_(),children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Lanar Nota`]})]}),(0,P.jsx)(`div`,{className:`flex items-center gap-4 bg-muted/20 p-4 rounded-lg border`,children:(0,P.jsxs)(`div`,{className:`relative flex-1 max-w-sm`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nmero, cliente ou CNPJ...`,className:`pl-9 bg-background`,value:a,onChange:e=>o(e.target.value)})]})}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Nmero (NF)`}),(0,P.jsx)(X,{children:`Emisso`}),(0,P.jsx)(X,{children:`Cliente / Fornecedor`}),(0,P.jsx)(X,{children:`CNPJ`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Vencimento`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[x.length===0&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:8,className:`text-center py-8 text-muted-foreground`,children:`Nenhuma nota encontrada.`})}),x.map(e=>{let t=Zc(e.dueDate),n=yN[e.status]||{label:e.status,color:`text-muted-foreground`,bg:`bg-muted/10`,border:`border-muted`},r=d===e.id;return(0,P.jsxs)(Y,{className:R(`hover:bg-muted/50`),children:[(0,P.jsxs)(Z,{className:`font-medium flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4 text-muted-foreground`}),e.number]}),(0,P.jsx)(Z,{children:Ic(new Date(e.issueDate),`dd/MM/yyyy`)}),(0,P.jsx)(Z,{children:e.client}),(0,P.jsx)(Z,{children:e.cnpj}),(0,P.jsxs)(Z,{children:[`R$`,` `,e.value.toLocaleString(`pt-BR`,{minimumFractionDigits:2})]}),(0,P.jsx)(Z,{className:R(`font-bold`,t.color),children:Ic(new Date(e.dueDate),`dd/MM/yyyy`)}),(0,P.jsx)(Z,{children:(0,P.jsx)(WE,{className:R(n.bg,n.color,n.border,`border shadow-none whitespace-nowrap`),children:n.label})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsxs)(Tp,{children:[(0,P.jsx)(Ep,{asChild:!0,children:(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>b(e),disabled:r,children:r?(0,P.jsx)(Ua,{className:`h-4 w-4 animate-spin`}):(0,P.jsx)(ja,{className:`h-4 w-4`})})}),(0,P.jsx)(Dp,{children:(0,P.jsx)(`p`,{children:`Baixar PDF da Nota`})})]}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>_(e),disabled:r,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>y(e.id),className:`text-destructive hover:text-destructive`,disabled:r,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id)})]})]})}),(0,P.jsx)(QE,{open:s,onOpenChange:c,children:(0,P.jsxs)(rD,{className:`sm:max-w-[600px] max-h-[90vh] overflow-y-auto`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:p.id?`Editar Nota`:`Nova Nota Fiscal`})}),(0,P.jsxs)(`div`,{className:`grid gap-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Nmero`}),(0,P.jsx)(V,{value:p.number||``,disabled:!0,className:`bg-muted`,readOnly:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Valor `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(V,{type:`number`,value:p.value||``,onChange:e=>m({...p,value:Number(e.target.value)})})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Data Emisso `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(jj,{date:p.issueDate,setDate:e=>m({...p,issueDate:e})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Vencimento `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsx)(jj,{date:p.dueDate,setDate:e=>m({...p,dueDate:e})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Status `,(0,P.jsx)(`span`,{className:`text-red-500`,children:`*`})]}),(0,P.jsxs)(RO,{value:p.status,onValueChange:e=>m({...p,status:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione o status`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`pending`,children:`Pendente`}),(0,P.jsx)(Q,{value:`paid`,children:`Pago`}),(0,P.jsx)(Q,{value:`overdue`,children:`Vencido`}),(0,P.jsx)(Q,{value:`cancelled`,children:`Cancelado`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Cliente / Fornecedor`}),(0,P.jsx)(V,{value:p.client||``,onChange:e=>m({...p,client:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`CNPJ / CPF`}),(0,P.jsx)(V,{value:p.cnpj||``,onChange:e=>m({...p,cnpj:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-4 border-t pt-4`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-medium text-muted-foreground`,children:`Dados do Emitente (Sua Empresa)`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Razo Social`}),(0,P.jsx)(V,{value:p.emitterName||``,onChange:e=>m({...p,emitterName:e.target.value}),placeholder:`Nome da sua empresa`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`CNPJ do Emitente`}),(0,P.jsx)(V,{value:p.emitterCnpj||``,onChange:e=>m({...p,emitterCnpj:e.target.value}),placeholder:`00.000.000/0000-00`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 border-t pt-4`,children:[(0,P.jsxs)(K,{children:[`Descrio dos Itens / Servios (um por linha)`,(0,P.jsx)(`span`,{className:`ml-1 text-xs text-muted-foreground font-normal`,children:`* Esses dados aparecero no documento gerado`})]}),(0,P.jsx)(qM,{placeholder:`Ex: Consultoria Tcnica - 10h
Material Eltrico - Lote 2`,rows:5,value:h,onChange:e=>g(e.target.value)})]}),(0,P.jsx)(B,{onClick:v,className:`w-full bg-orange-600 hover:bg-orange-700`,disabled:l,children:l?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Salvando...`]}):`Salvar`})]})]})})]})}function xN({open:e,onOpenChange:t,clientName:n,budgets:r,onAddBudget:i,onEditBudget:a,onViewBudget:o}){let s=r.find(e=>e.cnpj||e.street||e.city)||r[0],c=r.reduce((e,t)=>e+(t.totalValue||0),0);return(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsxs)(rD,{className:`sm:max-w-4xl max-h-[90vh] flex flex-col p-0 gap-0`,children:[(0,P.jsxs)(iD,{className:`p-6 pb-2 border-b flex flex-row items-center justify-between`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsxs)(oD,{className:`text-xl flex items-center gap-2`,children:[(0,P.jsx)(ua,{className:`h-5 w-5 text-orange-600`}),n]}),(0,P.jsxs)(`p`,{className:`text-sm text-muted-foreground`,children:[r.length,` oramento(s) cadastrado(s)`]})]}),(0,P.jsx)(sD,{className:`sr-only`,children:`Detalhes do cliente e histrico de oramentos.`}),(0,P.jsx)(tD,{className:`opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground`})]}),(0,P.jsx)(`div`,{className:`flex-1 overflow-y-auto`,children:(0,P.jsxs)(UM,{defaultValue:`overview`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`w-full justify-start rounded-none border-b bg-transparent p-0 pl-6 h-auto`,children:[(0,P.jsx)(GM,{value:`overview`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Viso Geral`}),(0,P.jsx)(GM,{value:`budgets`,className:`rounded-none border-b-2 border-transparent px-4 py-3 data-[state=active]:border-orange-500 data-[state=active]:text-orange-600 data-[state=active]:bg-transparent data-[state=active]:shadow-none`,children:`Oramentos`})]}),(0,P.jsxs)(`div`,{className:`p-6`,children:[(0,P.jsx)(KM,{value:`overview`,className:`mt-0 space-y-6`,children:(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`h3`,{className:`font-semibold text-lg flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4`}),`Dados Cadastrais`]}),(0,P.jsxs)(`div`,{className:`bg-muted/10 p-4 rounded-lg space-y-3 border`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,P.jsx)(`span`,{className:`text-muted-foreground`,children:`Nome/Razo:`}),(0,P.jsx)(`span`,{className:`col-span-2 font-medium`,children:s?.client||`-`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-3 gap-2 text-sm`,children:[(0,P.jsx)(`span`,{className:`text-muted-foreground`,children:`CNPJ/CPF:`}),(0,P.jsx)(`span`,{className:`col-span-2 font-medium`,children:s?.cnpj||`-`})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4`,children:[(0,P.jsxs)(`h3`,{className:`font-semibold text-lg flex items-center gap-2`,children:[(0,P.jsx)(qa,{className:`h-4 w-4`}),`Endereo`]}),(0,P.jsx)(`div`,{className:`bg-muted/10 p-4 rounded-lg space-y-3 border`,children:(0,P.jsxs)(`div`,{className:`text-sm`,children:[(0,P.jsx)(`p`,{className:`font-medium`,children:s?.street&&`${s.street}, ${s.neighborhood||``}`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:s?.city&&`${s.city} - ${s?.state||``}`}),!s?.street&&!s?.city&&(0,P.jsx)(`span`,{className:`text-muted-foreground italic`,children:`Endereo no informado nos oramentos recentes.`})]})})]}),(0,P.jsxs)(`div`,{className:`md:col-span-2 space-y-4`,children:[(0,P.jsxs)(`h3`,{className:`font-semibold text-lg flex items-center gap-2`,children:[(0,P.jsx)(ka,{className:`h-4 w-4`}),`Resumo Financeiro`]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-3 gap-4`,children:[(0,P.jsxs)(`div`,{className:`bg-orange-50 p-4 rounded-lg border border-orange-100`,children:[(0,P.jsx)(`span`,{className:`text-xs text-orange-600 font-medium uppercase`,children:`Total em Oramentos`}),(0,P.jsx)(`p`,{className:`text-2xl font-bold text-orange-700 mt-1`,children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`}).format(c)})]}),(0,P.jsxs)(`div`,{className:`bg-blue-50 p-4 rounded-lg border border-blue-100`,children:[(0,P.jsx)(`span`,{className:`text-xs text-blue-600 font-medium uppercase`,children:`ltimo Oramento`}),(0,P.jsx)(`p`,{className:`text-2xl font-bold text-blue-700 mt-1`,children:s?.date?Ic(new Date(s.date),`dd/MM/yyyy`):`-`})]}),(0,P.jsxs)(`div`,{className:`bg-green-50 p-4 rounded-lg border border-green-100`,children:[(0,P.jsx)(`span`,{className:`text-xs text-green-600 font-medium uppercase`,children:`Qtde. Oramentos`}),(0,P.jsx)(`p`,{className:`text-2xl font-bold text-green-700 mt-1`,children:r.length})]})]})]})]})}),(0,P.jsxs)(KM,{value:`budgets`,className:`mt-0 space-y-4`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center bg-muted/10 p-4 rounded-lg border`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h3`,{className:`font-medium`,children:`Histrico de Oramentos`}),(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground`,children:`Gerencie todos os oramentos deste cliente.`})]}),(0,P.jsxs)(B,{onClick:i,className:`gap-2`,children:[(0,P.jsx)($a,{className:`h-4 w-4`}),`Novo Oramento`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Cdigo`}),(0,P.jsx)(X,{children:`Data`}),(0,P.jsx)(X,{children:`Descrio/Obra`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{className:`text-right`,children:`Valor`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:r.map(e=>(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{className:`font-medium`,children:e.visualId}),(0,P.jsx)(Z,{children:e.date?Ic(new Date(e.date),`dd/MM/yyyy`):`-`}),(0,P.jsx)(Z,{children:e.description||e.location||`Sem descrio`}),(0,P.jsx)(Z,{children:(0,P.jsx)(`span`,{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                              ${e.status===`approved`?`bg-green-100 text-green-700`:e.status===`rejected`?`bg-red-100 text-red-700`:e.status===`sent`?`bg-blue-100 text-blue-700`:`bg-gray-100 text-gray-700`}`,children:e.status===`approved`?`Aprovado`:e.status===`rejected`?`Rejeitado`:e.status===`sent`?`Enviado`:`Rascunho`})}),(0,P.jsx)(Z,{className:`text-right`,children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`}).format(e.totalValue||0)}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>o(e),title:`Visualizar`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>a(e),title:`Editar`,children:(0,P.jsx)(Za,{className:`h-4 w-4`})})]})})]},e.id))})]})})]})]})]})})]})})}function SN(){let{addBudget:e,updateBudget:t,deleteBudget:n,deleteBudgetAttachment:r,projects:i,budgets:a,fetchBudgets:o}=PS(),{toast:s}=$n(),[c,l]=(0,S.useState)(!0),[u,d]=(0,S.useState)(``),[f,p]=(0,S.useState)(!1),[m,h]=(0,S.useState)(!1),[g,_]=(0,S.useState)(null),[v,y]=(0,S.useState)(!1),[b,x]=(0,S.useState)({}),[C,w]=(0,S.useState)([]),[T,E]=(0,S.useState)(!1);(0,S.useEffect)(()=>{o().finally(()=>l(!1))},[o]);let D=async e=>{if(w([]),y(!1),e)x({...e}),p(!0);else try{x({visualId:await bS.getNextNumber(),date:new Date,status:`draft`,attachments:[],client:g||``}),p(!0)}catch(e){console.error(`Error fetching next number`,e),x({date:new Date,status:`draft`,attachments:[],client:g||``}),p(!0)}},O=e=>{e.client?(_(e.client),h(!0)):k(e)},k=e=>{w([]),x({...e}),y(!0),p(!0)},A=async()=>{await D()},ee=e=>{D(e)},te=a.filter(e=>e.client===g),ne=async()=>{E(!0);try{let n={...b};b.id?(await t(b.id,n,C),s({title:`Oramento Atualizado`,description:`Dados salvos com sucesso.`})):(await e(n,C),s({title:`Oramento Criado`,description:`ID: ${n.visualId}`})),p(!1)}catch(e){console.error(e);let t=e.message||`Ocorreu um erro ao salvar o oramento.`;(t.includes(`row-level security`)||t.includes(`permission denied`))&&(t=`Erro de permisso: Falha na poltica de segurana (RLS). Tente recarregar a pgina ou contate o suporte.`),s({title:`Erro ao salvar`,description:t,variant:`destructive`})}finally{E(!1)}},re=async e=>{if(confirm(`Tem certeza que deseja excluir este oramento?`))try{await n(e),s({title:`Removido`,description:`Oramento removido.`})}catch(e){console.error(e),s({title:`Erro ao excluir`,description:e.message||`No foi possvel excluir o oramento.`,variant:`destructive`})}},ie=async e=>{if(confirm(`Remover este anexo?`))try{await r(e),x(t=>({...t,attachments:t.attachments?.filter(t=>t.id!==e)})),s({title:`Anexo removido`})}catch(e){console.error(e),s({title:`Erro`,description:e.message||`No foi possvel remover o anexo.`,variant:`destructive`})}},j=e=>{switch(e){case`approved`:return(0,P.jsx)(WE,{className:`bg-green-100 text-green-700 border-green-200 hover:bg-green-100`,children:`Aprovado`});case`rejected`:return(0,P.jsx)(WE,{className:`bg-red-100 text-red-700 border-red-200 hover:bg-red-100`,children:`Rejeitado`});case`pendente`:return(0,P.jsx)(WE,{className:`bg-yellow-100 text-yellow-700 border-yellow-200 hover:bg-yellow-100`,children:`Pendente`});case`sent`:return(0,P.jsx)(WE,{className:`bg-blue-100 text-blue-700 border-blue-200 hover:bg-blue-100`,children:`Enviado`});default:return(0,P.jsx)(WE,{variant:`secondary`,children:`Rascunho`})}},M=e=>{let t=i.find(t=>t.id===e.projectId);if(t)return t.name;if([e.street,e.neighborhood,e.city,e.state].filter(Boolean).length>0){let t=e.street,n=e.neighborhood,r=e.city&&e.state?`${e.city}/${e.state}`:e.city||e.state?`${e.city||``}${e.state||``}`:``,i=[];return t&&i.push(t),n&&i.push(n),r&&i.push(r),i.join(` - `)}return e.location||`N/A`},ae=a.filter(e=>{let t=u.toLowerCase();return(e.visualId||``).toLowerCase().includes(t)||(e.client||``).toLowerCase().includes(t)||(e.cnpj||``).toLowerCase().includes(t)});return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Oramentos`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gerador de propostas comerciais`})]}),(0,P.jsxs)(B,{onClick:()=>D(),children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Oramento`]})]}),(0,P.jsx)(`div`,{className:`flex items-center gap-4 bg-muted/20 p-4 rounded-lg border`,children:(0,P.jsxs)(`div`,{className:`relative flex-1 max-w-sm`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por ID, cliente ou CNPJ...`,className:`pl-9 bg-background`,value:u,onChange:e=>d(e.target.value)})]})}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Nmero`}),(0,P.jsx)(X,{children:`Data`}),(0,P.jsx)(X,{children:`Cliente`}),(0,P.jsx)(X,{children:`Obra / Local`}),(0,P.jsx)(X,{children:`Descrio`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[ae.length===0&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:8,className:`text-center py-8 text-muted-foreground`,children:`Nenhum oramento encontrado.`})}),ae.map(e=>(0,P.jsxs)(Y,{className:`hover:bg-muted/50`,children:[(0,P.jsxs)(Z,{className:`font-medium flex items-center gap-2`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4 text-muted-foreground`}),e.visualId]}),(0,P.jsx)(Z,{children:e.date?Ic(new Date(e.date),`dd/MM/yyyy`):`-`}),(0,P.jsx)(Z,{children:e.client||`-`}),(0,P.jsx)(Z,{className:`max-w-[200px] truncate`,title:M(e),children:M(e)}),(0,P.jsx)(Z,{className:`max-w-[200px] truncate`,title:e.description||``,children:e.description||`-`}),(0,P.jsx)(Z,{children:e.totalValue?`R$ ${e.totalValue.toLocaleString(`pt-BR`,{minimumFractionDigits:2})}`:`-`}),(0,P.jsx)(Z,{children:j(e.status)}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsxs)(Tp,{children:[(0,P.jsx)(Ep,{asChild:!0,children:(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>O(e),children:(0,P.jsx)(Ma,{className:`h-4 w-4 text-blue-600`})})}),(0,P.jsx)(Dp,{children:(0,P.jsx)(`p`,{children:`Visualizar`})})]}),e.attachments&&e.attachments.length>0&&(0,P.jsxs)(Tp,{children:[(0,P.jsx)(Ep,{asChild:!0,children:(0,P.jsx)(B,{variant:`ghost`,size:`icon`,asChild:!0,children:(0,P.jsx)(`a`,{href:e.attachments[0].url,target:`_blank`,rel:`noreferrer`,children:(0,P.jsx)(Ya,{className:`h-4 w-4`})})})}),(0,P.jsx)(Dp,{children:(0,P.jsxs)(`p`,{children:[`Ver Anexos (`,e.attachments.length,`)`]})})]}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>D(e),children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>re(e.id),className:`text-destructive hover:text-destructive`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id))]})]})}),(0,P.jsx)(QE,{open:f,onOpenChange:p,children:(0,P.jsxs)(rD,{className:`sm:max-w-[700px] max-h-[90vh] flex flex-col overflow-hidden`,children:[(0,P.jsxs)(iD,{children:[(0,P.jsx)(oD,{children:v?`Visualizar Oramento`:b.id?`Editar Oramento`:`Novo Oramento`}),(0,P.jsx)(sD,{children:v?`Visualize os detalhes do oramento.`:`Preencha os dados do oramento abaixo.`})]}),(0,P.jsxs)(UM,{defaultValue:`dados`,className:`flex-1 flex flex-col min-h-0`,children:[(0,P.jsxs)(WM,{className:`grid w-full grid-cols-2 mb-4`,children:[(0,P.jsx)(GM,{value:`dados`,children:`Dados do Oramento`}),(0,P.jsx)(GM,{value:`anexos`,children:`Anexos`})]}),(0,P.jsxs)(`div`,{className:`flex-1 overflow-y-auto px-1`,children:[(0,P.jsxs)(KM,{value:`dados`,className:`space-y-4 m-0 pb-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Nmero`}),(0,P.jsx)(V,{value:b.visualId||``,disabled:!0,className:`bg-muted`,readOnly:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Valor Total`,` `,(0,P.jsx)(`span`,{className:`text-muted-foreground text-xs font-normal ml-1`,children:`(Opcional)`})]}),(0,P.jsx)(KE,{value:b.totalValue??0,onChange:e=>x({...b,totalValue:e===0?null:e}),disabled:v})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Data`,` `,(0,P.jsx)(`span`,{className:`text-muted-foreground text-xs font-normal ml-1`,children:`(Opcional)`})]}),(0,P.jsx)(jj,{date:b.date||void 0,setDate:e=>!v&&x({...b,date:e||null}),disabled:v})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Status`,` `,(0,P.jsx)(`span`,{className:`text-muted-foreground text-xs font-normal ml-1`,children:`(Opcional)`})]}),(0,P.jsxs)(RO,{value:b.status||void 0,onValueChange:e=>x({...b,status:e}),disabled:v,children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione o status`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`pendente`,children:`Pendente`}),(0,P.jsx)(Q,{value:`approved`,children:`Aprovado`}),(0,P.jsx)(Q,{value:`rejected`,children:`Rejeitado`})]})]})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Cliente`}),(0,P.jsx)(V,{value:b.client||``,onChange:e=>x({...b,client:e.target.value||null}),placeholder:`Nome do cliente ou empresa`,disabled:v})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`CNPJ`}),(0,P.jsx)(V,{value:b.cnpj||``,onChange:e=>x({...b,cnpj:e.target.value||null}),placeholder:`00.000.000/0000-00`,disabled:v})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Vincular a Obra (Opcional)`}),(0,P.jsxs)(RO,{value:b.projectId||`none`,onValueChange:e=>x({...b,projectId:e===`none`?null:e}),disabled:v,children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione uma obra...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`Nenhuma`}),i.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 border-t pt-2`,children:[(0,P.jsx)(K,{className:`font-semibold text-muted-foreground`,children:`Endereo da Obra (Opcional)`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-6 gap-4`,children:[(0,P.jsxs)(`div`,{className:`md:col-span-6 space-y-2`,children:[(0,P.jsx)(K,{children:`Rua / Logradouro`}),(0,P.jsx)(V,{placeholder:`Ex: Av. Paulista, 1000`,value:b.street||``,onChange:e=>x({...b,street:e.target.value||null}),disabled:v})]}),(0,P.jsxs)(`div`,{className:`md:col-span-3 space-y-2`,children:[(0,P.jsx)(K,{children:`Bairro`}),(0,P.jsx)(V,{placeholder:`Bairro`,value:b.neighborhood||``,onChange:e=>x({...b,neighborhood:e.target.value||null}),disabled:v})]}),(0,P.jsxs)(`div`,{className:`md:col-span-2 space-y-2`,children:[(0,P.jsx)(K,{children:`Cidade`}),(0,P.jsx)(V,{placeholder:`Cidade`,value:b.city||``,onChange:e=>x({...b,city:e.target.value||null}),disabled:v})]}),(0,P.jsxs)(`div`,{className:`md:col-span-1 space-y-2`,children:[(0,P.jsx)(K,{children:`Estado`}),(0,P.jsxs)(RO,{value:b.state||``,onValueChange:e=>x({...b,state:e}),disabled:v,children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`UF`})}),(0,P.jsx)(UO,{children:Jc.map(e=>(0,P.jsx)(Q,{value:e,children:e},e))})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(K,{children:[`Descrio do Servio`,` `,(0,P.jsx)(`span`,{className:`text-muted-foreground text-xs font-normal ml-1`,children:`(Opcional)`})]}),(0,P.jsx)(qM,{placeholder:`Detalhes do oramento...`,rows:4,value:b.description||``,onChange:e=>x({...b,description:e.target.value||null}),disabled:v})]})]}),(0,P.jsx)(KM,{value:`anexos`,className:`space-y-4 m-0 pb-4`,children:(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Anexar Arquivos`}),(0,P.jsxs)(`div`,{className:`bg-muted/10 p-4 rounded-md border`,children:[!v&&(0,P.jsx)(aN,{id:`budget-files`,multiple:!0,accept:`.pdf,image/*`,onFileSelect:e=>w(t=>[...t,...Array.isArray(e)?e:[e]]),currentFileName:C.length>0?`${C.length} arquivo(s) selecionado(s)`:void 0}),!v&&C.length>0&&(0,P.jsxs)(`div`,{className:`mt-2 space-y-2`,children:[(0,P.jsx)(`p`,{className:`text-xs font-medium text-muted-foreground`,children:`Arquivos para enviar:`}),C.map((e,t)=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between text-sm bg-background p-2 rounded border`,children:[(0,P.jsx)(`span`,{className:`truncate`,children:e.name}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`h-6 w-6 text-destructive`,onClick:()=>w(e=>e.filter((e,n)=>n!==t)),children:(0,P.jsx)(L,{className:`h-3 w-3`})})]},t))]}),b.attachments&&b.attachments.length>0&&(0,P.jsxs)(`div`,{className:`mt-4 space-y-2`,children:[(0,P.jsx)(`p`,{className:`text-xs font-medium text-muted-foreground`,children:`Anexos existentes:`}),b.attachments.map(e=>(0,P.jsxs)(`div`,{className:`flex items-center justify-between text-sm bg-blue-50/50 p-2 rounded border border-blue-100`,children:[(0,P.jsxs)(`a`,{href:e.url,target:`_blank`,rel:`noreferrer`,className:`flex items-center hover:underline text-blue-700`,children:[(0,P.jsx)(Ya,{className:`h-3 w-3 mr-2`}),e.name]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`h-6 w-6 text-blue-600 hover:text-blue-800`,asChild:!0,children:(0,P.jsx)(`a`,{href:e.url,download:!0,target:`_blank`,rel:`noreferrer`,children:(0,P.jsx)(ja,{className:`h-3 w-3`})})}),!v&&(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`h-6 w-6 text-destructive hover:text-destructive/80`,onClick:()=>ie(e.id),children:(0,P.jsx)(L,{className:`h-3 w-3`})})]})]},e.id))]}),(!b.attachments||b.attachments.length===0)&&C.length===0&&(0,P.jsx)(`p`,{className:`text-center text-muted-foreground py-4 text-sm`,children:`Nenhum anexo.`})]})]})})]})]}),!v&&(0,P.jsx)(`div`,{className:`pt-4 border-t mt-auto`,children:(0,P.jsx)(B,{onClick:ne,className:`w-full bg-orange-600 hover:bg-orange-700`,disabled:T,children:T?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ua,{className:`mr-2 h-4 w-4 animate-spin`}),`Salvando...`]}):`Salvar Oramento`})})]})}),(0,P.jsx)(xN,{open:m,onOpenChange:h,clientName:g||``,budgets:te,onAddBudget:A,onEditBudget:ee,onViewBudget:k})]})}var CN=`Checkbox`,[wN,TN]=or(CN),[EN,DN]=wN(CN);function ON(e){let{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:a,form:o,name:s,onCheckedChange:c,required:l,value:u=`on`,internal_do_not_use_render:d}=e,[f,p]=Wr({prop:n,defaultProp:i??!1,onChange:c,caller:CN}),[m,h]=S.useState(null),[g,_]=S.useState(null),v=S.useRef(!1),y=m?!!o||!!m.closest(`form`):!0,b={checked:f,disabled:a,setChecked:p,control:m,setControl:h,name:s,form:o,value:u,hasConsumerStoppedPropagationRef:v,required:l,defaultChecked:LN(i)?!1:i,isFormControl:y,bubbleInput:g,setBubbleInput:_};return(0,P.jsx)(EN,{scope:t,...b,children:IN(d)?d(b):r})}var kN=`CheckboxTrigger`,AN=S.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{let{control:a,value:o,disabled:s,checked:c,required:l,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:p,bubbleInput:m}=DN(kN,e),h=rr(i,u),g=S.useRef(c);return S.useEffect(()=>{let e=a?.form;if(e){let t=()=>d(g.current);return e.addEventListener(`reset`,t),()=>e.removeEventListener(`reset`,t)}},[a,d]),(0,P.jsx)(F.button,{type:`button`,role:`checkbox`,"aria-checked":LN(c)?`mixed`:c,"aria-required":l,"data-state":RN(c),"data-disabled":s?``:void 0,disabled:s,value:o,...r,ref:h,onKeyDown:N(t,e=>{e.key===`Enter`&&e.preventDefault()}),onClick:N(n,e=>{d(e=>LN(e)?!0:!e),m&&p&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})})});AN.displayName=kN;var jN=S.forwardRef((e,t)=>{let{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:s,value:c,onCheckedChange:l,form:u,...d}=e;return(0,P.jsx)(ON,{__scopeCheckbox:n,checked:i,defaultChecked:a,disabled:s,required:o,onCheckedChange:l,name:r,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(AN,{...d,ref:t,__scopeCheckbox:n}),e&&(0,P.jsx)(FN,{__scopeCheckbox:n})]})})});jN.displayName=CN;var MN=`CheckboxIndicator`,NN=S.forwardRef((e,t)=>{let{__scopeCheckbox:n,forceMount:r,...i}=e,a=DN(MN,n);return(0,P.jsx)(zr,{present:r||LN(a.checked)||a.checked===!0,children:(0,P.jsx)(F.span,{"data-state":RN(a.checked),"data-disabled":a.disabled?``:void 0,...i,ref:t,style:{pointerEvents:`none`,...e.style}})})});NN.displayName=MN;var PN=`CheckboxBubbleInput`,FN=S.forwardRef(({__scopeCheckbox:e,...t},n)=>{let{control:r,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:s,disabled:c,name:l,value:u,form:d,bubbleInput:f,setBubbleInput:p}=DN(PN,e),m=rr(n,p),h=lD(a),g=_f(r);S.useEffect(()=>{let e=f;if(!e)return;let t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,`checked`).set,r=!i.current;if(h!==a&&n){let t=new Event(`click`,{bubbles:r});e.indeterminate=LN(a),n.call(e,LN(a)?!1:a),e.dispatchEvent(t)}},[f,h,a,i]);let _=S.useRef(LN(a)?!1:a);return(0,P.jsx)(F.input,{type:`checkbox`,"aria-hidden":!0,defaultChecked:o??_.current,required:s,disabled:c,name:l,value:u,form:d,...t,tabIndex:-1,ref:m,style:{...t.style,...g,position:`absolute`,pointerEvents:`none`,opacity:0,margin:0,transform:`translateX(-100%)`}})});FN.displayName=PN;function IN(e){return typeof e==`function`}function LN(e){return e===`indeterminate`}function RN(e){return LN(e)?`indeterminate`:e?`checked`:`unchecked`}var zN=S.forwardRef(({className:e,...t},n)=>(0,P.jsx)(jN,{ref:n,className:R(`peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground`,e),...t,children:(0,P.jsx)(NN,{className:R(`flex items-center justify-center text-current`),children:(0,P.jsx)(ga,{className:`h-4 w-4`})})}));zN.displayName=jN.displayName;function BN(){let{users:e,fetchUsers:t,sendInvite:n,deleteUser:r,currentUser:i,updateCurrentUser:a}=PS(),{toast:o}=$n(),[s,c]=(0,S.useState)(!1);(0,S.useEffect)(()=>{t()},[t]);let[l,u]=(0,S.useState)({name:``,email:``,role:`sub_user`,permissions:{dashboard:!0,obras:!1,colaboradores:!1,alojamento:!1,veiculos:!1,fichario_funcoes:!1,ferramentas:!1,financeiro:!1,contas_pagar:!1,pagamento_colaboradores:!1,notas_fiscais:!1,aluguel_equipamentos:!1,orcamentos:!1,configuracoes:!0}}),[d,f]=(0,S.useState)({name:i?.name||``,email:i?.email||``,company:i?.companyName||`Aparecida Cortez Lopes - Construo`,cnpj:i?.cnpj||`23.497.744/0001-69`});(0,S.useEffect)(()=>{i&&f({name:i.name||``,email:i.email||``,company:i.companyName||`Aparecida Cortez Lopes - Construo`,cnpj:i.cnpj||``})},[i]);let[p,m]=(0,S.useState)({current:``,new:``,confirm:``}),h=async()=>{if(!l.name||!l.email){o({title:`Erro`,description:`Nome e Email so obrigatrios`,variant:`destructive`});return}try{await n(l),c(!1),o({title:`Convite Enviado`,description:`Um convite foi enviado para ${l.email}.`}),u({name:``,email:``,role:`sub_user`,permissions:{dashboard:!0,obras:!1,colaboradores:!1,alojamento:!1,veiculos:!1,fichario_funcoes:!1,ferramentas:!1,financeiro:!1,contas_pagar:!1,pagamento_colaboradores:!1,notas_fiscais:!1,aluguel_equipamentos:!1,orcamentos:!1,configuracoes:!0}})}catch(e){o({title:`Erro`,description:e.message||`Falha ao enviar convite`,variant:`destructive`})}},g=async(e,n)=>{if(confirm(`Tem certeza que deseja excluir o usurio "${n}"?`))try{await r(e),await t(),o({title:`Usurio Excludo`,description:`${n} foi removido do sistema.`,variant:`destructive`})}catch(e){o({title:`Erro`,description:e.message,variant:`destructive`})}},_=()=>{a({name:d.name,email:d.email,companyName:d.company,cnpj:d.cnpj}),o({title:`Perfil Atualizado`})},v=()=>{if(p.new!==p.confirm){o({title:`Erro`,description:`Senhas no conferem`,variant:`destructive`});return}o({title:`Sucesso`,description:`Senha alterada com sucesso.`}),m({current:``,new:``,confirm:``})},y=e=>{u({...l,permissions:{...l.permissions,[e]:!l.permissions?.[e]}})};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col gap-2`,children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Configuraes`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gerencie suas preferncias, dados da empresa e acessos.`})]}),(0,P.jsxs)(UM,{defaultValue:i?.role===`super_admin`||i?.role===`admin`?`users`:`company`,className:`space-y-6`,children:[(0,P.jsxs)(WM,{className:`bg-muted/50 p-1`,children:[(i?.role===`super_admin`||i?.role===`admin`)&&(0,P.jsx)(GM,{value:`users`,className:`data-[state=active]:bg-background data-[state=active]:shadow-sm`,children:`Usurios`}),(0,P.jsx)(GM,{value:`company`,className:`data-[state=active]:bg-background data-[state=active]:shadow-sm`,children:`Minha Empresa`}),(0,P.jsx)(GM,{value:`security`,className:`data-[state=active]:bg-background data-[state=active]:shadow-sm`,children:`Segurana`})]}),(0,P.jsx)(KM,{value:`users`,className:`space-y-8 animate-in fade-in-50 duration-300`,children:(0,P.jsxs)(q,{className:`border-none shadow-none bg-transparent`,children:[(0,P.jsx)(IE,{className:`px-0 pt-0`,children:(0,P.jsxs)(`div`,{className:`flex justify-between items-end`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(LE,{className:`text-xl`,children:`Gesto de Usurios`}),(0,P.jsx)(RE,{children:`Crie e gerencie os acessos dos seus colaboradores.`})]}),(0,P.jsxs)(QE,{open:s,onOpenChange:c,children:[(0,P.jsx)($E,{asChild:!0,children:(0,P.jsxs)(B,{className:`shadow-md hover:shadow-lg transition-all`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Usurio`]})}),(0,P.jsxs)(rD,{className:`max-w-2xl max-h-[90vh] overflow-y-auto`,children:[(0,P.jsxs)(iD,{children:[(0,P.jsx)(oD,{children:`Convidar Novo Usurio`}),(0,P.jsx)(RE,{children:`O usurio receber um convite por e-mail para configurar sua senha.`})]}),(0,P.jsxs)(`div`,{className:`space-y-6 py-4`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Nome Completo`}),(0,P.jsx)(V,{placeholder:`Ex: Joo Silva`,value:l.name||``,onChange:e=>u({...l,name:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`E-mail`}),(0,P.jsx)(V,{placeholder:`joao@exemplo.com`,value:l.email||``,onChange:e=>u({...l,email:e.target.value})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-3`,children:[(0,P.jsx)(K,{children:`Nvel de Acesso`}),(0,P.jsxs)(`div`,{className:`flex gap-3`,children:[(0,P.jsx)(B,{variant:l.role===`admin`?`default`:`outline`,onClick:()=>u({...l,role:`admin`}),className:`flex-1`,type:`button`,children:`Administrador`}),(0,P.jsx)(B,{variant:l.role===`sub_user`?`default`:`outline`,onClick:()=>u({...l,role:`sub_user`}),className:`flex-1`,type:`button`,children:`Sub-usurio`})]})]}),l.role===`sub_user`&&(0,P.jsxs)(`div`,{className:`space-y-4 p-5 bg-muted/30 border rounded-lg`,children:[(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(K,{className:`font-bold text-base`,children:`Mdulos Permitidos`}),(0,P.jsx)(`p`,{className:`text-xs text-muted-foreground italic`,children:`Selecione quais reas este colaborador poder visualizar e gerenciar.`})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 pt-2`,children:[(0,P.jsxs)(`div`,{className:`space-y-3`,children:[(0,P.jsx)(K,{className:`text-[10px] uppercase tracking-wider text-muted-foreground font-bold`,children:`Operacional`}),(0,P.jsx)(`div`,{className:`grid gap-3`,children:[{id:`dashboard`,label:` Dashboard`,key:`dashboard`},{id:`obras`,label:` Obras e Projetos`,key:`obras`},{id:`colaboradores`,label:` Colaboradores`,key:`colaboradores`},{id:`alojamento`,label:` Alojamento`,key:`alojamento`},{id:`veiculos`,label:` Frota e Veculos`,key:`veiculos`},{id:`fichario_funcoes`,label:` Fichrio de Funes`,key:`fichario_funcoes`},{id:`ferramentas`,label:` Ferramentas`,key:`ferramentas`}].map(e=>(0,P.jsxs)(`div`,{className:`flex items-center space-x-3 group`,children:[(0,P.jsx)(zN,{id:e.id,checked:l.permissions?.[e.key],onCheckedChange:()=>y(e.key)}),(0,P.jsx)(K,{htmlFor:e.id,className:`text-sm cursor-pointer group-hover:text-primary transition-colors`,children:e.label})]},e.id))})]}),(0,P.jsxs)(`div`,{className:`space-y-3`,children:[(0,P.jsx)(K,{className:`text-[10px] uppercase tracking-wider text-muted-foreground font-bold`,children:`Financeiro`}),(0,P.jsx)(`div`,{className:`grid gap-3`,children:[{id:`contas_pagar`,label:` Contas a Pagar`,key:`contas_pagar`},{id:`pagamento_colaboradores`,label:` Pagto Funcionrios`,key:`pagamento_colaboradores`},{id:`notas_fiscais`,label:` Notas Fiscais`,key:`notas_fiscais`},{id:`aluguel_equipamentos`,label:` Aluguel Equip.`,key:`aluguel_equipamentos`},{id:`orcamentos`,label:` Oramentos`,key:`orcamentos`}].map(e=>(0,P.jsxs)(`div`,{className:`flex items-center space-x-3 group`,children:[(0,P.jsx)(zN,{id:e.id,checked:l.permissions?.[e.key],onCheckedChange:()=>y(e.key)}),(0,P.jsx)(K,{htmlFor:e.id,className:`text-sm cursor-pointer group-hover:text-primary transition-colors`,children:e.label})]},e.id))})]})]}),(0,P.jsx)(`div`,{className:`pt-4 border-t border-muted-foreground/10`,children:(0,P.jsxs)(`p`,{className:`text-[10px] text-muted-foreground/80 italic flex items-center gap-1.5`,children:[(0,P.jsx)(`span`,{className:`text-amber-500`,children:``}),` Sub-usurios sempre possuem acesso bsico a "Minha Empresa" e "Segurana".`]})})]}),(0,P.jsx)(`div`,{className:`pt-2`,children:(0,P.jsx)(B,{onClick:h,className:`w-full h-11 text-base font-semibold`,children:`Enviar Convite agora`})})]})]})]})]})}),(0,P.jsx)(`div`,{className:`space-y-10`,children:(0,P.jsxs)(`div`,{className:`space-y-3`,children:[(0,P.jsx)(`h3`,{className:`text-sm font-bold uppercase tracking-widest text-muted-foreground/60 px-1`,children:`Usurios Ativos`}),(0,P.jsx)(`div`,{className:`border rounded-xl overflow-hidden bg-white shadow-sm`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[30%] font-bold`,children:`Nome`}),(0,P.jsx)(X,{className:`w-[40%] font-bold`,children:`E-mail`}),(0,P.jsx)(X,{className:`w-[15%] font-bold`,children:`Funo`}),(0,P.jsx)(X,{className:`w-[15%] text-right font-bold`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[e.length===0&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:4,className:`text-center py-10 text-muted-foreground`,children:`Nenhum usurio ativo cadastrado.`})}),e.map(e=>(0,P.jsxs)(Y,{className:`hover:bg-muted/10 transition-colors`,children:[(0,P.jsx)(Z,{className:`font-semibold py-4`,children:e.name}),(0,P.jsx)(Z,{className:`py-4 text-muted-foreground`,children:e.email}),(0,P.jsx)(Z,{className:`py-4`,children:(0,P.jsx)(`span`,{className:`px-2 py-1 rounded-md text-[10px] font-bold uppercase tracking-tighter ${e.role===`admin`?`bg-indigo-50 text-indigo-600 border border-indigo-100`:`bg-slate-50 text-slate-600 border border-slate-100`}`,children:e.role===`admin`?`Admin`:`Sub-usurio`})}),(0,P.jsx)(Z,{className:`text-right py-4`,children:i?.id!==e.id&&(0,P.jsx)(B,{variant:`ghost`,size:`sm`,onClick:()=>g(e.id,e.name),className:`text-red-400 hover:text-red-600 hover:bg-red-50 rounded-full h-8 w-8 p-0`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})})]},e.id))]})]})})]})})]})}),(0,P.jsx)(KM,{value:`company`,className:`animate-in fade-in-50 slide-in-from-bottom-2 duration-300`,children:(0,P.jsxs)(q,{className:`border-none shadow-md`,children:[(0,P.jsxs)(IE,{className:`border-b bg-muted/20 pb-6`,children:[(0,P.jsx)(LE,{children:`Dados da Empresa`}),(0,P.jsx)(RE,{children:`Estes dados sero utilizados em notas fiscais, relatrios e oramentos.`})]}),(0,P.jsxs)(J,{className:`space-y-6 pt-6`,children:[(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-sm font-semibold`,children:`Razo Social`}),(0,P.jsx)(V,{className:`h-11`,value:d.company,onChange:e=>f({...d,company:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-sm font-semibold`,children:`CNPJ`}),(0,P.jsx)(V,{className:`h-11`,value:d.cnpj,onChange:e=>f({...d,cnpj:e.target.value})})]})]}),(0,P.jsx)(`div`,{className:`flex justify-end`,children:(0,P.jsx)(B,{onClick:_,className:`px-8 font-semibold`,children:`Salvar Alteraes`})})]})]})}),(0,P.jsx)(KM,{value:`security`,className:`animate-in fade-in-50 slide-in-from-bottom-2 duration-300`,children:(0,P.jsxs)(q,{className:`border-none shadow-md max-w-2xl`,children:[(0,P.jsxs)(IE,{className:`border-b bg-muted/20 pb-6`,children:[(0,P.jsx)(LE,{children:`Segurana da Conta`}),(0,P.jsx)(RE,{children:`Mantenha sua conta protegida alterando sua senha regularmente.`})]}),(0,P.jsxs)(J,{className:`space-y-6 pt-6`,children:[(0,P.jsxs)(`div`,{className:`space-y-5 px-1`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-sm font-semibold`,children:`Senha Atual`}),(0,P.jsx)(V,{type:`password`,placeholder:``,className:`h-11`,value:p.current,onChange:e=>m({...p,current:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-sm font-semibold`,children:`Nova Senha`}),(0,P.jsx)(V,{type:`password`,placeholder:``,className:`h-11`,value:p.new,onChange:e=>m({...p,new:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-sm font-semibold`,children:`Confirmar Nova Senha`}),(0,P.jsx)(V,{type:`password`,placeholder:``,className:`h-11`,value:p.confirm,onChange:e=>m({...p,confirm:e.target.value})})]})]})]}),(0,P.jsx)(`div`,{className:`flex justify-start`,children:(0,P.jsx)(B,{onClick:v,className:`w-full md:w-auto px-10 font-semibold`,children:`Atualizar Senha Agora`})})]})]})})]})]})}function VN(){let{accommodations:e,projects:t,fetchExpiringDocuments:n,deleteAccommodation:r}=PS(),i=it(),[a,o]=(0,S.useState)(``),[s,c]=(0,S.useState)(`all`),[l,u]=(0,S.useState)(!1);(0,S.useEffect)(()=>{n()},[n]);let d=e.length,f=e.filter(e=>e.status===`active`).length,p=e.filter(e=>{let t=Zc(new Date(e.contractExpiry));return t.severity===`expired`||t.severity===`urgent`}).length,m=e.filter(e=>{let t=e.name.toLowerCase().includes(a.toLowerCase())||e.address.toLowerCase().includes(a.toLowerCase()),n=s===`all`||e.status===s;return t&&n}),h=()=>{o(``),c(`all`)},g=a||s!==`all`,_=e=>{switch(e){case`active`:return`bg-emerald-100 text-emerald-700 hover:bg-emerald-100/80 border-emerald-200`;case`inactive`:return`bg-gray-100 text-gray-700 hover:bg-gray-100/80 border-gray-200`;default:return`bg-gray-100 text-gray-700 border-gray-200`}},v=e=>{switch(e){case`active`:return`Ativo`;case`inactive`:return`Inativo`;default:return e}},y=async e=>{if(window.confirm(`Tem certeza que deseja excluir este alojamento?`))try{await r(e),Qn({title:`Sucesso`,description:`Alojamento excludo com sucesso.`})}catch(e){console.error(`Erro ao excluir:`,e),Qn({title:`Erro`,description:`Falha ao excluir alojamento: ${e.message||`Erro desconhecido`}`,variant:`destructive`})}};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Alojamentos`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto de moradias e contratos`})]}),(0,P.jsxs)(B,{onClick:()=>i(`/alojamentos/novo`),className:`bg-orange-600 hover:bg-orange-700 w-full sm:w-auto`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Alojamento`]})]}),(0,P.jsxs)(`div`,{className:`grid gap-4 md:grid-cols-3`,children:[(0,P.jsxs)(q,{className:`bg-card`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Total de Alojamentos`}),(0,P.jsx)(`div`,{className:`bg-blue-50 p-2 rounded-full`,children:(0,P.jsx)(za,{className:`h-4 w-4 text-blue-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold`,children:d})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-green-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Ativos`}),(0,P.jsx)(`div`,{className:`bg-green-50 p-2 rounded-full`,children:(0,P.jsx)(za,{className:`h-4 w-4 text-green-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-green-600`,children:f})})]}),(0,P.jsxs)(q,{className:`bg-card border-l-4 border-l-red-500`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Contratos Crticos`}),(0,P.jsx)(`div`,{className:`bg-red-50 p-2 rounded-full`,children:(0,P.jsx)(za,{className:`h-4 w-4 text-red-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold text-red-600`,children:p})})]})]}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border items-start md:items-center`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1 w-full md:max-w-md`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nome ou endereo...`,className:`pl-9 bg-background`,value:a,onChange:e=>o(e.target.value)})]}),(0,P.jsxs)(RO,{value:s,onValueChange:c,children:[(0,P.jsx)(BO,{className:`w-full md:w-[180px] bg-background`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(La,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(zO,{placeholder:`Status`})]})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`all`,children:`Todos os Status`}),(0,P.jsx)(Q,{value:`active`,children:`Ativo`}),(0,P.jsx)(Q,{value:`inactive`,children:`Inativo`})]})]}),g&&(0,P.jsxs)(B,{variant:`ghost`,onClick:h,className:`text-muted-foreground hover:text-foreground`,children:[(0,P.jsx)(wa,{className:`h-4 w-4 mr-2`}),`Limpar Filtros`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[30%] text-xs font-bold uppercase tracking-wider text-muted-foreground pl-6`,children:`Nome`}),(0,P.jsx)(X,{className:`w-[30%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Endereo`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Vencimento do Contrato`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-center`,children:`Status`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-right pr-6`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[e.length===0&&!l&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12 text-muted-foreground`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(za,{className:`h-10 w-10 text-muted-foreground/30`}),(0,P.jsx)(`p`,{children:`Nenhum alojamento encontrado.`})]})})}),l&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-8`,children:(0,P.jsx)(Ua,{className:`h-6 w-6 animate-spin mx-auto text-primary`})})}),m.map(e=>(Zc(new Date(e.contractExpiry)),(0,P.jsxs)(Y,{onClick:()=>i(`/alojamentos/${e.id}`,{state:{readOnly:!0}}),className:`cursor-pointer hover:bg-muted/30 transition-colors group`,children:[(0,P.jsx)(Z,{className:`pl-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex flex-col`,children:[(0,P.jsx)(`span`,{className:`font-semibold text-foreground text-base`,children:e.name}),(0,P.jsx)(`span`,{className:`text-xs text-muted-foreground`,children:t.find(t=>t.id===e.projectId)?.name||`Sem Obra`})]})}),(0,P.jsx)(Z,{className:`py-4 text-muted-foreground`,children:e.address}),(0,P.jsx)(Z,{className:`py-4`,children:(0,P.jsx)(`div`,{className:`flex flex-col items-start gap-1`,children:(0,P.jsx)(`span`,{children:Ic(new Date(e.contractExpiry),`dd/MM/yyyy`)})})}),(0,P.jsx)(Z,{className:`text-center py-4`,children:(0,P.jsx)(WE,{variant:`outline`,className:R(`px-3 py-1 text-xs font-medium border shadow-sm`,_(e.status)),children:v(e.status)})}),(0,P.jsx)(Z,{className:`text-right pr-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex justify-end items-center gap-1`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),i(`/alojamentos/${e.id}`,{state:{readOnly:!0}})},className:`text-muted-foreground hover:text-blue-600 hover:bg-blue-50`,title:`Visualizar Detalhes`,children:(0,P.jsx)(Ma,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),i(`/alojamentos/${e.id}`,{state:{readOnly:!1}})},className:`text-muted-foreground hover:text-orange-600 hover:bg-orange-50`,title:`Editar`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:t=>{t.stopPropagation(),y(e.id)},className:`text-muted-foreground hover:text-red-600 hover:bg-red-50`,title:`Excluir`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id)))]})]})})]})}var HN=[{value:`AC`,label:`Acre`},{value:`AL`,label:`Alagoas`},{value:`AP`,label:`Amap`},{value:`AM`,label:`Amazonas`},{value:`BA`,label:`Bahia`},{value:`CE`,label:`Cear`},{value:`DF`,label:`Distrito Federal`},{value:`ES`,label:`Esprito Santo`},{value:`GO`,label:`Gois`},{value:`MA`,label:`Maranho`},{value:`MT`,label:`Mato Grosso`},{value:`MS`,label:`Mato Grosso do Sul`},{value:`MG`,label:`Minas Gerais`},{value:`PA`,label:`Par`},{value:`PB`,label:`Paraba`},{value:`PR`,label:`Paran`},{value:`PE`,label:`Pernambuco`},{value:`PI`,label:`Piau`},{value:`RJ`,label:`Rio de Janeiro`},{value:`RN`,label:`Rio Grande do Norte`},{value:`RS`,label:`Rio Grande do Sul`},{value:`RO`,label:`Rondnia`},{value:`RR`,label:`Roraima`},{value:`SC`,label:`Santa Catarina`},{value:`SP`,label:`So Paulo`},{value:`SE`,label:`Sergipe`},{value:`TO`,label:`Tocantins`}];function UN(){let{serviceProviders:e,fetchServiceProviders:t,addServiceProvider:n,updateServiceProvider:r,deleteServiceProvider:i}=PS(),{toast:a}=$n(),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(!1),[u,d]=(0,S.useState)(!1),[f,p]=(0,S.useState)(null),[m,h]=(0,S.useState)({nome:``,telefone_1:``,telefone_2:``,rua:``,numero:``,cidade:``,estado:``,funcao:``}),[g,_]=(0,S.useState)(null),[v,y]=(0,S.useState)(!1),[b,x]=(0,S.useState)(!1);(0,S.useEffect)(()=>{(async()=>{l(!0),await t(),l(!1)})()},[t]);let C=e.filter(e=>{let t=o.toLowerCase();return(e.nome?.toLowerCase()||``).includes(t)||(e.funcao?.toLowerCase()||``).includes(t)||(e.cidade?.toLowerCase()||``).includes(t)||(e.telefone_1?.toLowerCase()||``).includes(t)||(e.telefone_2?.toLowerCase()||``).includes(t)||(e.rua?.toLowerCase()||``).includes(t)||(e.estado?.toLowerCase()||``).includes(t)}),w=()=>{p(null),h({nome:``,telefone_1:``,telefone_2:``,rua:``,numero:``,cidade:``,estado:``,funcao:``}),d(!0)},T=e=>{p(e),h({nome:e.nome,telefone_1:e.telefone_1,telefone_2:e.telefone_2||``,rua:e.rua||``,numero:e.numero||``,cidade:e.cidade||``,estado:e.estado||``,funcao:e.funcao}),d(!0)};return(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Fichrio de Funes`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gesto de prestadores de servio e profissionais externos`})]}),(0,P.jsxs)(B,{onClick:w,className:`bg-orange-600 hover:bg-orange-700 w-full sm:w-auto`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Prestador`]})]}),(0,P.jsx)(`div`,{className:`grid gap-4 md:grid-cols-3`,children:(0,P.jsxs)(q,{className:`bg-card`,children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between space-y-0 pb-2`,children:[(0,P.jsx)(LE,{className:`text-sm font-medium text-muted-foreground`,children:`Total de Prestadores`}),(0,P.jsx)(`div`,{className:`bg-blue-50 p-2 rounded-full`,children:(0,P.jsx)(Oa,{className:`h-4 w-4 text-blue-600`})})]}),(0,P.jsx)(J,{children:(0,P.jsx)(`div`,{className:`text-2xl font-bold`,children:e.length})})]})}),(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row gap-4 bg-muted/20 p-4 rounded-lg border items-start md:items-center`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1 w-full md:max-w-md`,children:[(0,P.jsx)(no,{className:`absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nome, funo, telefone ou endereo...`,className:`pl-9 bg-background`,value:o,onChange:e=>s(e.target.value)})]}),o&&(0,P.jsxs)(B,{variant:`ghost`,onClick:()=>s(``),className:`text-muted-foreground hover:text-foreground`,children:[(0,P.jsx)(wa,{className:`h-4 w-4 mr-2`}),`Limpar Filtros`]})]}),(0,P.jsx)(`div`,{className:`border rounded-md bg-card overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{className:`bg-muted/30`,children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{className:`w-[25%] text-xs font-bold uppercase tracking-wider text-muted-foreground pl-6`,children:`Prestador`}),(0,P.jsx)(X,{className:`w-[20%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Funo`}),(0,P.jsx)(X,{className:`w-[15%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Telefones`}),(0,P.jsx)(X,{className:`w-[30%] text-xs font-bold uppercase tracking-wider text-muted-foreground`,children:`Endereo`}),(0,P.jsx)(X,{className:`w-[10%] text-xs font-bold uppercase tracking-wider text-muted-foreground text-right pr-6`,children:`Aes`})]})}),(0,P.jsxs)(YE,{children:[C.length===0&&!c&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-12 text-muted-foreground`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-2`,children:[(0,P.jsx)(Oa,{className:`h-10 w-10 text-muted-foreground/30`}),(0,P.jsx)(`p`,{children:`Nenhum prestador encontrado.`})]})})}),c&&(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-8`,children:(0,P.jsx)(Ua,{className:`h-6 w-6 animate-spin mx-auto text-primary`})})}),C.map(e=>(0,P.jsxs)(Y,{className:`hover:bg-muted/30 transition-colors group`,children:[(0,P.jsx)(Z,{className:`pl-6 py-4`,children:(0,P.jsx)(`span`,{className:`font-semibold text-foreground text-base`,children:e.nome})}),(0,P.jsx)(Z,{className:`py-4 font-medium text-foreground/80 lowercase italic first-letter:uppercase`,children:e.funcao}),(0,P.jsxs)(Z,{className:`py-4 text-muted-foreground`,children:[(0,P.jsx)(`div`,{children:e.telefone_1}),e.telefone_2&&(0,P.jsx)(`div`,{className:`text-xs`,children:e.telefone_2})]}),(0,P.jsx)(Z,{className:`py-4 text-muted-foreground text-sm`,children:e.rua||e.cidade||e.estado?(0,P.jsxs)(`div`,{children:[e.rua&&(0,P.jsxs)(P.Fragment,{children:[e.rua,e.numero?`, ${e.numero}`:``,(0,P.jsx)(`br`,{})]}),(0,P.jsxs)(`span`,{className:`text-xs uppercase opacity-70`,children:[e.cidade,e.estado?` - ${e.estado}`:``]})]}):`-`}),(0,P.jsx)(Z,{className:`text-right pr-6 py-4`,children:(0,P.jsxs)(`div`,{className:`flex justify-end items-center gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>T(e),className:`text-muted-foreground hover:text-orange-600 hover:bg-orange-50`,title:`Editar`,children:(0,P.jsx)(oo,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>{_(e.id),y(!0)},className:`text-muted-foreground hover:text-red-600 hover:bg-red-50`,title:`Excluir`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},e.id))]})]})}),(0,P.jsx)(QE,{open:u,onOpenChange:d,children:(0,P.jsxs)(rD,{className:`sm:max-w-[500px]`,children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:f?`Editar Prestador`:`Novo Prestador`})}),(0,P.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!m.nome||!m.telefone_1||!m.funcao){a({title:`Campos obrigatrios`,description:`Por favor, preencha nome, telefone 1 e funo.`,variant:`destructive`});return}try{f?(await r(f.id,m),a({title:`Prestador Atualizado`,description:`Dados salvos com sucesso.`})):(await n(m),a({title:`Prestador Cadastrado`,description:`Novo prestador adicionado ao fichrio.`})),d(!1)}catch(e){console.error(`Erro ao salvar prestador:`,e),a({title:`Erro ao salvar`,description:e.message||`No foi possvel salvar os dados. Verifique sua conexo ou permisses.`,variant:`destructive`})}},className:`space-y-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`nome`,children:`Nome Completo *`}),(0,P.jsx)(V,{id:`nome`,value:m.nome,onChange:e=>h({...m,nome:e.target.value}),required:!0})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`telefone_1`,children:`Telefone 1 *`}),(0,P.jsx)(V,{id:`telefone_1`,value:m.telefone_1,onChange:e=>h({...m,telefone_1:e.target.value}),required:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`telefone_2`,children:`Telefone 2`}),(0,P.jsx)(V,{id:`telefone_2`,value:m.telefone_2,onChange:e=>h({...m,telefone_2:e.target.value})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`funcao`,children:`Funo / Especialidade *`}),(0,P.jsx)(V,{id:`funcao`,placeholder:`Ex: Eletricista, Encanador...`,value:m.funcao,onChange:e=>h({...m,funcao:e.target.value}),required:!0})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-4 gap-4`,children:[(0,P.jsxs)(`div`,{className:`col-span-3 space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`rua`,children:`Rua`}),(0,P.jsx)(V,{id:`rua`,placeholder:`Rua, Avenida...`,value:m.rua,onChange:e=>h({...m,rua:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`numero`,children:`N`}),(0,P.jsx)(V,{id:`numero`,value:m.numero,onChange:e=>h({...m,numero:e.target.value})})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`cidade`,children:`Cidade`}),(0,P.jsx)(V,{id:`cidade`,value:m.cidade,onChange:e=>h({...m,cidade:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`estado`,children:`Estado (UF)`}),(0,P.jsxs)(RO,{value:m.estado,onValueChange:e=>h({...m,estado:e}),children:[(0,P.jsx)(BO,{id:`estado`,children:(0,P.jsx)(zO,{placeholder:`Selecione`})}),(0,P.jsx)(UO,{children:HN.map(e=>(0,P.jsx)(Q,{value:e.value,children:e.value},e.value))})]})]})]}),(0,P.jsxs)(aD,{className:`pt-4`,children:[(0,P.jsx)(B,{type:`button`,variant:`outline`,onClick:()=>d(!1),children:`Cancelar`}),(0,P.jsx)(B,{type:`submit`,className:`bg-orange-600 hover:bg-orange-700`,children:f?`Salvar Alteraes`:`Cadastrar`})]})]})]})}),(0,P.jsx)(mM,{open:v,onOpenChange:y,children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Excluir cadastro?`}),(0,P.jsx)(xM,{children:`Esta ao no pode ser desfeita. O registro do prestador ser removido permanentemente.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{disabled:b,children:`Cancelar`}),(0,P.jsx)(SM,{onClick:async()=>{if(g){x(!0);try{await i(g),a({title:`Cadastro Excludo`,description:`O prestador foi removido com sucesso.`}),y(!1),_(null)}catch{a({title:`Erro ao excluir`,description:`No foi possvel remover o cadastro.`,variant:`destructive`})}finally{x(!1)}}},className:`bg-destructive hover:bg-destructive/90`,disabled:b,children:b?`Excluindo...`:`Excluir`})]})]})})]})}var WN=[{key:`contrato_locacao`,label:`Vencimento de Contrato`,showExpiry:!0},{key:`laudo_vistoria_inicio`,label:`Vistoria Incio`,showExpiry:!0},{key:`laudo_vistoria_fim`,label:`Vistoria Fim`,showExpiry:!0}];function GN(){let{id:e}=ct(),t=tt(),{accommodations:n,addAccommodation:r,updateAccommodation:i,projects:a}=PS(),o=it(),{toast:s}=$n(),c=e===`novo`,l=t.state?.readOnly===!0,[u,d]=(0,S.useState)(c&&!l);(0,S.useEffect)(()=>{l?d(!1):c&&d(!0)},[l,c]);let[f,p]=(0,S.useState)(!1),[m,h]=(0,S.useState)(!0),[g,_]=(0,S.useState)({status:`active`,utilities:[],documents:{}}),[v,y]=(0,S.useState)([]),[b,x]=(0,S.useState)([]),[C,w]=(0,S.useState)(!1),[T,E]=(0,S.useState)({}),[D,O]=(0,S.useState)({}),[k,A]=(0,S.useState)([]),[ee,te]=(0,S.useState)(``),[ne,re]=(0,S.useState)(!1),[ie,j]=(0,S.useState)(``),M=async()=>{if(!(!e||e===`novo`))try{x(await sS.getExpenses(e)||[])}catch(e){console.error(e)}},ae=()=>{_({status:`active`,utilities:[],documents:{}}),x([]),y([]),E({}),O({}),te(``),j(``)};(0,S.useEffect)(()=>{sS.getCategories().then(A).catch(console.error),!c&&e?(async()=>{h(!0);try{let[t,n]=await Promise.all([sS.getById(e),sS.getExpenses(e)]);if(t){let e=(t.utilities||[]).map(e=>({...e,value:0,dueDay:void 0,documentUrl:void 0,documentName:void 0,_tempDate:void 0}));_({...t,utilities:e});let n={};Object.entries(t.documents||{}).forEach(([e,t])=>{let r=t;r?.expiry&&(n[e]=new Date(r.expiry))}),t.contractExpiry&&!n.contrato_locacao&&(n.contrato_locacao=new Date(t.contractExpiry)),O(n),t.documents&&y(Object.values(t.documents))}n&&x(n)}catch(e){console.error(e),s({title:`Erro`,description:`Falha ao carregar detalhes do alojamento.`,variant:`destructive`})}finally{h(!1)}})():(ae(),h(!1))},[e,c,s]);let oe=async()=>{let t=g.contractExpiry;if(!t&&D.contrato_locacao&&(t=D.contrato_locacao),!g.name||!g.projectId||!t)return s({title:`Erro`,description:`Preencha os campos obrigatrios (Nome, Obra, Vencimento)`,variant:`destructive`}),null;let n={...g,contractExpiry:t};p(!0);try{let t=e,a=n;if(c){let e=(n.utilities||[]).map(e=>({...e,value:0,dueDay:void 0,documentUrl:void 0,documentName:void 0,_tempDate:void 0})),i=await sS.create({...n,utilities:e});t=i.id,r(i),a=i,s({title:`Criado`,description:`Alojamento cadastrado com sucesso.`}),o(`/alojamentos/${t}`,{replace:!0})}else{let t=(n.utilities||[]).map(e=>({...e,value:0,dueDay:void 0,documentUrl:void 0,documentName:void 0,_tempDate:void 0})),r={...n,utilities:t};await sS.update(e,r),i(e,r)}let l=[],u=new Set([...Object.keys(a.documents||{}),...Object.keys(T),...Object.keys(D)]);for(let e of u){let n=T[e],r=D[e],i=a.documents?.[e],o=!!n,s=r?.getTime()!==(i?.expiry?new Date(i.expiry).getTime():void 0);(o||s)&&l.push(sS.upsertDocument(t,e,n||null,r,i?.id))}return await Promise.all(l),c||s({title:`Sucesso`,description:`Dados salvos com sucesso.`}),t}catch(e){return console.error(e),s({title:`Erro`,description:`Falha ao salvar: ${e.message}`,variant:`destructive`}),null}finally{p(!1)}},se=async()=>{let t=e;if(c){if(!confirm(`O alojamento precisa ser salvo antes de gerar contas. Deseja salvar agora?`))return;let e=await oe();if(!e)return;t=e}if(!g.utilities||g.utilities.length===0){s({title:`Aviso`,description:`Nenhuma conta configurada para salvar.`,variant:`destructive`});return}w(!0);try{let e=(g.utilities||[]).filter(e=>e.value&&e.dueDay).filter(e=>{let t=e._tempDate||new Date,n=t.getMonth(),r=t.getFullYear(),i=`Alojamento / ${e.type}`;return!b.some(e=>{let t=new Date(e.data_vencimento);return e.descricao===i&&t.getMonth()===n&&t.getFullYear()===r})}).map(e=>{let n=e._tempDate||new Date,r=new Date(n.getFullYear(),n.getMonth(),e.dueDay);return{descricao:`Alojamento / ${e.type}`,valor:Number(e.value)||0,data_vencimento:r.toISOString(),status:`pendente`,categoria_id:null,obra_id:g.projectId,url_boleto:e.documentUrl||``,alojamento_id:t}});if(e.length===0){s({title:`Aviso`,description:`Preencha o valor e o dia do vencimento para salvar as contas.`,variant:`destructive`});return}await Promise.all(e.map(e=>sS.addExpense(e))),await Promise.all([M(),PS.getState().fetchBills()]),s({title:`Sucesso`,description:`${e.length} conta(s) salva(s) com sucesso.`});let n=(g.utilities||[]).map(e=>({...e,value:0,dueDay:void 0,documentUrl:void 0,documentName:void 0,_tempDate:void 0}));_({...g,utilities:n}),await sS.update(t,{utilities:n})}catch(e){console.error(e),s({title:`Erro`,description:`Falha ao gerar contas: ${e.message}`,variant:`destructive`})}finally{w(!1)}},ce=e=>{let t=5*1024*1024;e.filter(e=>e.size>t).length>0&&s({title:`Arquivo muito grande`,description:`Alguns arquivos excedem o limite de 5MB e foram ignorados.`,variant:`destructive`});let n=e.filter(e=>e.size<=t);if(n.length===0)return;let r={...T};n.forEach(e=>{let t=`outros`,n=e.name.toLowerCase();n.includes(`contrato`)?t=`contrato_locacao`:n.includes(`vistoria`)&&(n.includes(`inicio`)||n.includes(`incio`))?t=`laudo_vistoria_inicio`:n.includes(`vistoria`)&&n.includes(`fim`)?t=`laudo_vistoria_fim`:n.includes(`vistoria`)?t=`laudo_vistoria_inicio`:n.includes(`luz`)||n.includes(`energia`)?t=`conta_luz`:n.includes(`agua`)&&(t=`conta_agua`),r[t]=e}),E(r),s({title:`Arquivos selecionados`,description:`${n.length} arquivos prontos para salvar.`})},le=async t=>{if(!e||e===`novo`){s({title:`Erro`,description:`Salve o alojamento antes de adicionar documentos.`,variant:`destructive`});return}let n=T[t],r=D[t],i=g.documents?.[t];if(n&&n.size>5*1024*1024){s({title:`Arquivo muito grande`,description:`O tamanho mximo permitido  5MB.`,variant:`destructive`});return}if(!n&&!r){s({title:`Aviso`,description:`Selecione um arquivo ou data para salvar.`});return}try{await sS.upsertDocument(e,t,n||null,r,i?.id);let a=await sS.getById(e);if(a){_(a);let e={...T};delete e[t],E(e),a.documents&&y(Object.values(a.documents)),t===`contrato_locacao`&&a.contractExpiry&&_(e=>({...e,contractExpiry:a.contractExpiry}))}s({title:`Sucesso`,description:`Documento salvo.`})}catch(e){console.error(e),s({title:`Erro`,description:`Falha ao salvar documento: ${e.message}`,variant:`destructive`})}},ue=()=>{let e={id:crypto.randomUUID(),type:``,value:0,dueDay:5,documentUrl:void 0,documentName:void 0,_tempDate:void 0};_({...g,utilities:[...g.utilities||[],e]})},de=e=>{let t=[...g.utilities||[]];t.splice(e,1),_({...g,utilities:t})},fe=(e,t,n)=>{let r=[...g.utilities||[]];r[e]={...r[e],[t]:n},_({...g,utilities:r})},pe=async e=>{if(confirm(`Tem certeza que deseja excluir esta conta?`))try{await sS.deleteExpense(e),x(t=>t.filter(t=>t.id!==e)),s({title:`Sucesso`,description:`Conta excluda.`}),await Promise.all([M(),PS.getState().fetchBills()])}catch(e){console.error(e),s({title:`Erro`,description:`Falha ao excluir conta: ${e.message}`,variant:`destructive`})}};return m?(0,P.jsx)(`div`,{className:`flex justify-center items-center h-64`,children:(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-primary`})}):(0,P.jsxs)(`div`,{className:`space-y-6 pb-10`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,P.jsxs)(B,{variant:`ghost`,onClick:()=>o(`/alojamentos`),children:[(0,P.jsx)(oa,{className:`h-4 w-4 mr-2`}),` Voltar`]}),(0,P.jsx)(`h1`,{className:`text-2xl font-bold`,children:c?`Novo Alojamento`:g.name}),(0,P.jsx)(`div`,{className:`ml-auto flex items-center gap-2`,children:u?(0,P.jsxs)(P.Fragment,{children:[!c&&(0,P.jsx)(B,{variant:`ghost`,onClick:()=>{d(!1)},disabled:f,children:`Cancelar`}),(0,P.jsxs)(B,{onClick:oe,disabled:f,children:[f?(0,P.jsx)(Ua,{className:`h-4 w-4 mr-2 animate-spin`}):(0,P.jsx)(to,{className:`h-4 w-4 mr-2`}),`Salvar`]})]}):!l&&(0,P.jsx)(B,{onClick:()=>d(!0),variant:`outline`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(oo,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{children:`Editar`})]})})})]}),(0,P.jsxs)(UM,{defaultValue:`info`,className:`w-full`,children:[(0,P.jsxs)(WM,{className:`grid w-full grid-cols-3`,children:[(0,P.jsx)(GM,{value:`info`,children:`Viso Geral`}),(0,P.jsx)(GM,{value:`finances`,children:`Financeiro`}),(0,P.jsx)(GM,{value:`docs`,children:`Documentao`})]}),(0,P.jsx)(KM,{value:`info`,className:`space-y-6`,children:u?(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Informaes Gerais`})}),(0,P.jsxs)(J,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Nome do Alojamento`}),(0,P.jsx)(V,{value:g.name||``,onChange:e=>_({...g,name:e.target.value}),placeholder:`Ex: Alojamento Centro`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Obra Vinculada`}),(0,P.jsxs)(RO,{value:g.projectId,onValueChange:e=>_({...g,projectId:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione...`})}),(0,P.jsx)(UO,{children:a.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{className:`text-base font-semibold`,children:`Endereo`}),(0,P.jsx)(`div`,{className:`grid grid-cols-4 gap-4`,children:(0,P.jsxs)(`div`,{className:`col-span-4 md:col-span-1 space-y-2`,children:[(0,P.jsx)(K,{children:`CEP`}),(0,P.jsx)(V,{placeholder:`00000-000`,value:g.cep||``,onChange:e=>_({...g,cep:e.target.value})})]})}),(0,P.jsxs)(`div`,{className:`grid grid-cols-4 gap-4`,children:[(0,P.jsxs)(`div`,{className:`col-span-4 md:col-span-3 space-y-2`,children:[(0,P.jsx)(K,{children:`Rua / Logradouro`}),(0,P.jsx)(V,{placeholder:`Ex: Rua das Flores`,value:g.logradouro||``,onChange:e=>_({...g,logradouro:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`col-span-4 md:col-span-1 space-y-2`,children:[(0,P.jsx)(K,{children:`Nmero`}),(0,P.jsx)(V,{placeholder:`Ex: 123`,value:g.numero||``,onChange:e=>_({...g,numero:e.target.value})})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Complemento`}),(0,P.jsx)(V,{placeholder:`Ex: Apto 101`,value:g.complemento||``,onChange:e=>_({...g,complemento:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Bairro`}),(0,P.jsx)(V,{placeholder:`Ex: Centro`,value:g.bairro||``,onChange:e=>_({...g,bairro:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Cidade`}),(0,P.jsx)(V,{placeholder:`Ex: So Paulo`,value:g.cidade||``,onChange:e=>_({...g,cidade:e.target.value})})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Estado`}),(0,P.jsxs)(RO,{value:g.estado,onValueChange:e=>_({...g,estado:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione`})}),(0,P.jsx)(UO,{children:Jc.map(e=>(0,P.jsx)(Q,{value:e,children:e},e))})]})]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Status`}),(0,P.jsxs)(RO,{value:g.status,onValueChange:e=>_({...g,status:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`active`,children:`Ativo`}),(0,P.jsx)(Q,{value:`inactive`,children:`Inativo`})]})]})]})]})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Datas Importantes`})}),(0,P.jsxs)(J,{className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{children:`Data de Entrada`}),(0,P.jsx)(V,{type:`date`,value:g.entryDate&&!isNaN(new Date(g.entryDate).getTime())?new Date(g.entryDate).toISOString().split(`T`)[0]:``,onChange:e=>{let t=e.target.value;if(!t){_({...g,entryDate:void 0});return}let n=new Date(t+`T12:00:00`);isNaN(n.getTime())||_({...g,entryDate:n})}})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,P.jsx)(K,{children:`Vencimento do Contrato`}),g.contractExpiry&&(()=>{let e=Zc(new Date(g.contractExpiry));return e.severity===`ok`?null:(0,P.jsx)(WE,{className:R(e.bg,e.color,e.border),children:e.label})})()]}),(0,P.jsx)(V,{type:`date`,value:g.contractExpiry&&!isNaN(new Date(g.contractExpiry).getTime())?new Date(g.contractExpiry).toISOString().split(`T`)[0]:``,onChange:e=>{let t=e.target.value;if(!t){_({...g,contractExpiry:void 0}),O(e=>({...e,contrato_locacao:void 0}));return}let n=new Date(t+`T12:00:00`);isNaN(n.getTime())||(_({...g,contractExpiry:n}),O(e=>({...e,contrato_locacao:n})))}})]})]})]})]}):(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-6`,children:[(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Informaes Gerais`})}),(0,P.jsxs)(J,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(mo,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Nome do Alojamento`}),(0,P.jsx)(`p`,{className:`text-base font-semibold`,children:g.name||`-`})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(da,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Obra Vinculada`}),(0,P.jsx)(`p`,{className:`text-base font-semibold`,children:a.find(e=>e.id===g.projectId)?.name||`-`})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(qa,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Endereo`}),(0,P.jsx)(`p`,{className:`text-base font-semibold`,children:[g.logradouro,g.numero?`n ${g.numero}`:``,g.complemento,g.bairro,g.cidade&&g.estado?`${g.cidade} - ${g.estado}`:``].filter(Boolean).join(`, `)||`-`})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(aa,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Status`}),(0,P.jsx)(WE,{variant:g.status===`active`?`default`:`secondary`,children:g.status===`active`?`Ativo`:`Inativo`})]})]})]})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Datas Importantes`})}),(0,P.jsxs)(J,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(ma,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Data de Entrada`}),(0,P.jsx)(`p`,{className:`text-base font-semibold`,children:g.entryDate?Ic(new Date(g.entryDate),`dd/MM/yyyy`):`-`})]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,P.jsx)(`div`,{className:`h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center text-primary`,children:(0,P.jsx)(eo,{className:`h-4 w-4`})}),(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`p`,{className:`text-sm font-medium text-muted-foreground`,children:`Vencimento do Contrato`}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(`p`,{className:`text-base font-semibold`,children:g.contractExpiry?Ic(new Date(g.contractExpiry),`dd/MM/yyyy`):`-`}),g.contractExpiry&&(()=>{let e=Zc(new Date(g.contractExpiry));return e.severity===`ok`?null:(0,P.jsx)(WE,{className:R(e.bg,e.color,e.border),children:e.label})})()]})]})]})]})]})]})}),(0,P.jsxs)(KM,{value:`finances`,className:`space-y-6`,children:[(0,P.jsxs)(q,{children:[(0,P.jsxs)(IE,{className:`flex flex-row items-center justify-between`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(LE,{children:`Lanamento De Contas [Despesas]`}),(0,P.jsx)(RE,{children:`Previso mensal de despesas fixas para este alojamento.`})]}),(0,P.jsxs)(`div`,{className:`flex gap-2`,children:[(0,P.jsxs)(B,{onClick:se,variant:`default`,size:`sm`,disabled:C,children:[C?(0,P.jsx)(Ua,{className:`h-4 w-4 mr-2 animate-spin`}):(0,P.jsx)(to,{className:`h-4 w-4 mr-2`}),C?`Salvando...`:`Salvar Contas`]}),(0,P.jsxs)(B,{onClick:ue,variant:`outline`,size:`sm`,children:[(0,P.jsx)($a,{className:`h-4 w-4 mr-2`}),`Adicionar Conta`]})]})]}),(0,P.jsx)(J,{children:!g.utilities||g.utilities.length===0?(0,P.jsxs)(`div`,{className:`text-center py-8 text-muted-foreground border border-dashed rounded-lg`,children:[(0,P.jsx)(`p`,{children:`Nenhuma conta configurada.`}),(0,P.jsx)(B,{variant:`link`,onClick:ue,className:`mt-2`,children:`Adicionar agora`})]}):(0,P.jsx)(`div`,{className:`space-y-4`,children:g.utilities.map((e,t)=>(0,P.jsxs)(`div`,{className:`p-4 border rounded-md bg-muted/10 space-y-3 hover:bg-muted/20 transition-colors relative`,children:[(0,P.jsxs)(`div`,{className:`flex justify-between items-center`,children:[(0,P.jsx)(`div`,{className:`flex-1 max-w-[50%]`,children:(0,P.jsxs)(`div`,{className:`flex gap-2`,children:[(0,P.jsxs)(RO,{value:[`Aluguel`,`Energia`,`gua`,`Internet`,`Gs`].includes(e.type)?e.type:`Outros`,onValueChange:e=>{e===`Outros`?fe(t,`type`,``):fe(t,`type`,e)},children:[(0,P.jsx)(BO,{className:`w-[180px] bg-background`,children:(0,P.jsx)(zO,{placeholder:`Tipo`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`Aluguel`,children:`Aluguel`}),(0,P.jsx)(Q,{value:`Energia`,children:`Energia`}),(0,P.jsx)(Q,{value:`gua`,children:`gua`}),(0,P.jsx)(Q,{value:`Internet`,children:`Internet`}),(0,P.jsx)(Q,{value:`Gs`,children:`Gs`}),(0,P.jsx)(Q,{value:`Outros`,children:`Outros`})]})]}),(![`Aluguel`,`Energia`,`gua`,`Internet`,`Gs`].includes(e.type)||e.type===``)&&(0,P.jsx)(V,{value:e.type,onChange:e=>fe(t,`type`,e.target.value),placeholder:`Digite o tipo`,className:`flex-1 bg-background`})]})}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(()=>{if(!e.dueDay||!e.value)return null;let t=new Date,n=e._tempDate||t,r=Zc(new Date(n.getFullYear(),n.getMonth(),e.dueDay));return r.severity===`ok`?null:(0,P.jsx)(WE,{className:R(r.bg,r.color,r.border,`border shadow-none`),children:r.label})})(),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>de(t),className:`text-red-500 hover:text-red-600 hover:bg-red-50 h-8 w-8`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mobile-grid`,children:[(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(K,{className:`text-xs text-muted-foreground`,children:`Valor Previsto (R$)`}),(0,P.jsx)(KE,{value:e.value,onChange:e=>fe(t,`value`,e),placeholder:`0,00`,className:`bg-background`})]}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(K,{className:`text-xs text-muted-foreground`,children:`Dia de Vencimento`}),(0,P.jsx)(jj,{date:e._tempDate||(e.dueDay?new Date(new Date().getFullYear(),new Date().getMonth(),e.dueDay):void 0),setDate:e=>{if(e){let n=[...g.utilities||[]];n[t]={...n[t],_tempDate:e,dueDay:e.getDate()},_({...g,utilities:n})}},placeholder:`Selecione o dia`,className:`w-full bg-background`})]}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(K,{className:`text-xs text-muted-foreground`,children:`Documento Modelo`}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsxs)(`div`,{className:`relative flex-1`,children:[(0,P.jsx)(V,{type:`file`,className:`hidden`,id:`upload-util-${t}`,onChange:async e=>{let n=e.target.files?.[0];if(n){if(n.size>5*1024*1024){s({title:`Arquivo muito grande`,description:`O tamanho mximo permitido  5MB.`,variant:`destructive`});return}try{let e=await sS.uploadUtilityDocument(n),r=[...g.utilities];r[t]={...r[t],documentUrl:e,documentName:n.name},_({...g,utilities:r}),s({title:`Sucesso`,description:`Documento anexado.`})}catch{s({title:`Erro`,description:`Falha ao anexar documento.`,variant:`destructive`})}}}}),(0,P.jsxs)(K,{htmlFor:`upload-util-${t}`,className:`cursor-pointer inline-flex w-full items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-9 px-4 py-2 gap-2`,children:[(0,P.jsx)(uo,{className:`h-4 w-4`}),(0,P.jsx)(`span`,{children:e.documentName?`Alterar Arquivo`:`Escolher arquivo`})]})]}),e.documentUrl&&(0,P.jsxs)(`a`,{href:e.documentUrl,target:`_blank`,rel:`noopener noreferrer`,className:`flex items-center gap-1 text-blue-600 hover:text-blue-800 hover:underline overflow-hidden max-w-[150px] whitespace-nowrap`,title:e.documentName||`Documento`,children:[(0,P.jsx)(Fa,{className:`h-4 w-4 shrink-0`}),(0,P.jsx)(`span`,{className:`truncate text-xs`,children:e.documentName||`Ver`})]})]})]})]})]},e.id||t))})})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{className:`flex flex-row items-center justify-between`,children:(0,P.jsxs)(`div`,{children:[(0,P.jsx)(LE,{children:`Contas Lanadas`}),(0,P.jsx)(RE,{children:`Registro de contas j processadas para este alojamento.`})]})}),(0,P.jsx)(J,{children:b.length===0?(0,P.jsx)(`div`,{className:`text-center py-8 text-muted-foreground border border-dashed rounded-lg`,children:(0,P.jsx)(`p`,{children:`Nenhuma conta lanada para este alojamento.`})}):(0,P.jsx)(`div`,{className:`border rounded-md`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Descrio`}),(0,P.jsx)(X,{children:`Vencimento`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Status`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:b.map(e=>{let t=Zc(e.data_vencimento);return(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{className:`font-medium`,children:e.descricao}),(0,P.jsx)(Z,{children:Ic(new Date(e.data_vencimento),`dd/MM/yyyy`)}),(0,P.jsxs)(Z,{children:[`R$ `,Number(e.valor).toLocaleString(`pt-BR`,{minimumFractionDigits:2})]}),(0,P.jsx)(Z,{children:(0,P.jsx)(WE,{className:R(t.bg,t.color,t.border,`border shadow-none`),children:t.label})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsx)(`div`,{className:`flex justify-end gap-2`,children:(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>pe(e.id),className:`text-red-500 hover:text-red-600 hover:bg-red-50 h-8 w-8`,children:(0,P.jsx)(so,{className:`h-4 w-4`})})})})]},e.id)})})]})})})]})]}),(0,P.jsx)(KM,{value:`docs`,children:(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsx)(LE,{children:`Documentao`})}),(0,P.jsx)(J,{children:(0,P.jsxs)(`div`,{className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`p-4 border border-dashed rounded-lg bg-muted/20 flex flex-col items-center justify-center gap-2`,children:[(0,P.jsx)(Da,{className:`h-8 w-8 text-muted-foreground/50`}),(0,P.jsx)(`p`,{className:`text-sm font-medium`,children:`Upload em Massa`}),(0,P.jsx)(`p`,{className:`text-xs text-muted-foreground mb-2`,children:`Selecione vrios arquivos para adicionar de uma vez.`}),(0,P.jsx)(aN,{id:`bulk-upload`,multiple:!0,onFileSelect:e=>ce(e)})]}),(0,P.jsx)(`div`,{className:`grid grid-cols-1 gap-4`,children:WN.map(({key:e,label:t,showExpiry:n})=>{let r=g.documents?.[e],i=D[e],a=T[e],o=i?Zc(i):null;return(0,P.jsx)(oN,{label:t,selectedDate:i,onDateChange:t=>{O({...D,[e]:t}),e===`contrato_locacao`&&_(e=>({...e,contractExpiry:t}))},selectedFile:a||null,onFileSelect:t=>{if(t&&t.size>5*1024*1024){s({title:`Arquivo muito grande`,description:`O tamanho mximo permitido  5MB.`,variant:`destructive`});return}E({...T,[e]:t})},existingDoc:r,status:o,showExpiry:n,onSave:async()=>{await le(e)}},e)})})]})})]})})]})]})}function KN({open:e,onOpenChange:t,tool:n,onSuccess:r}){let{projects:i,employees:a}=PS(),[o,s]=S.useState(!1),[c,l]=S.useState({nome:``,codigo:``,obraId:null,responsavelNome:``,responsavelCargo:``,responsavelTelefone:``});return S.useEffect(()=>{l(n?{nome:n.nome,codigo:n.codigo,obraId:n.obraId,responsavelNome:n.responsavelNome,responsavelCargo:n.responsavelCargo,responsavelTelefone:n.responsavelTelefone}:{nome:``,codigo:``,obraId:null,responsavelNome:``,responsavelCargo:``,responsavelTelefone:``})},[n,e]),(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsx)(rD,{className:`sm:max-w-[425px]`,children:(0,P.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!c.nome||!c.codigo){Al.error(`Preencha os campos obrigatrios`);return}s(!0);try{n?(await wS.update(n.id,c),Al.success(`Equipamento atualizado com sucesso`)):(await wS.create(c),Al.success(`Equipamento cadastrado com sucesso`)),r(),t(!1)}catch(e){console.error(`Erro detalhado ao salvar:`,e),e.code===`23505`?Al.error(`Cdigo de equipamento j existe`):Al.error(`Erro ao salvar: ${e.message||`Erro desconhecido`}`)}finally{s(!1)}},children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:n?`Editar Equipamento`:`Novo Equipamento`})}),(0,P.jsxs)(`div`,{className:`grid gap-4 py-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`nome`,children:`Nome do Equipamento *`}),(0,P.jsx)(V,{id:`nome`,value:c.nome,onChange:e=>l({...c,nome:e.target.value}),placeholder:`Ex: Betoneira`,required:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`codigo`,children:`Cdigo do Equipamento *`}),(0,P.jsx)(V,{id:`codigo`,value:c.codigo,onChange:e=>l({...c,codigo:e.target.value}),placeholder:`Ex: BT-001`,required:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`obra`,children:`Obra Alocada`}),(0,P.jsxs)(RO,{value:c.obraId||`none`,onValueChange:e=>l({...c,obraId:e===`none`?null:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione a obra...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No alocado`}),i.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-4 pt-4 border-t`,children:[(0,P.jsx)(`h4`,{className:`text-sm font-medium`,children:`Dados do Responsvel`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`md:col-span-2 space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`responsavelNome`,children:`Nome do Responsvel`}),(0,P.jsx)(V,{id:`responsavelNome`,value:c.responsavelNome||``,onChange:e=>l({...c,responsavelNome:e.target.value}),placeholder:`Nome completo...`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`responsavelCargo`,children:`Cargo`}),(0,P.jsx)(V,{id:`responsavelCargo`,value:c.responsavelCargo||``,onChange:e=>l({...c,responsavelCargo:e.target.value}),placeholder:`Ex: Engenheiro, Mestre...`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`responsavelTelefone`,children:`Telefone`}),(0,P.jsx)(V,{id:`responsavelTelefone`,value:c.responsavelTelefone||``,onChange:e=>l({...c,responsavelTelefone:e.target.value}),placeholder:`(00) 00000-0000`})]})]})]})]}),(0,P.jsxs)(aD,{children:[(0,P.jsx)(B,{type:`button`,variant:`outline`,onClick:()=>t(!1),disabled:o,children:`Cancelar`}),(0,P.jsx)(B,{type:`submit`,disabled:o,className:`bg-orange-600 hover:bg-orange-700`,children:o?`Salvando...`:`Salvar`})]})]})})})}function qN(){let{projects:e,employees:t}=PS(),[n,r]=S.useState([]),[i,a]=S.useState(``),[o,s]=S.useState(!0),[c,l]=S.useState(!1),[u,d]=S.useState(null),[f,p]=S.useState(null),m=S.useCallback(async()=>{s(!0);try{r(await wS.getAll())}catch(e){console.error(e),Al.error(`Erro ao carregar ferramentas`)}finally{s(!1)}},[]);S.useEffect(()=>{m()},[m]);let h=async()=>{if(f)try{await wS.delete(f),Al.success(`Equipamento excludo com sucesso`),m()}catch(e){console.error(e),Al.error(`Erro ao excluir equipamento`)}finally{p(null)}},g=n.filter(t=>{let n=i.toLowerCase(),r=e.find(e=>e.id===t.obraId);return t.nome.toLowerCase().includes(n)||t.codigo.toLowerCase().includes(n)||r?.name.toLowerCase().includes(n)||t.responsavelNome?.toLowerCase().includes(n)||t.responsavelCargo?.toLowerCase().includes(n)});return(0,P.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row justify-between items-start md:items-center gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-3xl font-bold tracking-tight`,children:`Ferramentas e Equipamentos`}),(0,P.jsx)(`p`,{className:`text-muted-foreground`,children:`Gerencie o inventrio de ferramentas e sua alocao em obras.`})]}),(0,P.jsxs)(B,{onClick:()=>{d(null),l(!0)},className:`bg-orange-600 hover:bg-orange-700`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),` Novo Equipamento`]})]}),(0,P.jsxs)(q,{children:[(0,P.jsx)(IE,{children:(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4`,children:[(0,P.jsx)(LE,{children:`Inventrio`}),(0,P.jsxs)(`div`,{className:`relative w-full md:w-96`,children:[(0,P.jsx)(no,{className:`absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground`}),(0,P.jsx)(V,{placeholder:`Buscar por nome, cdigo ou obra...`,className:`pl-10`,value:i,onChange:e=>a(e.target.value)})]})]})}),(0,P.jsx)(J,{children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Equipamento`}),(0,P.jsx)(X,{children:`Cdigo`}),(0,P.jsx)(X,{children:`Obra Alocada`}),(0,P.jsx)(X,{children:`Responsvel`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:o?(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-10`,children:`Carregando...`})}):g.length===0?(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:5,className:`text-center py-10 text-muted-foreground`,children:`Nenhum equipamento encontrado.`})}):g.map(t=>{let n=e.find(e=>e.id===t.obraId);return(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{className:`font-medium`,children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(go,{className:`h-4 w-4 text-orange-600`}),t.nome]})}),(0,P.jsx)(Z,{children:(0,P.jsx)(WE,{variant:`outline`,children:t.codigo})}),(0,P.jsx)(Z,{children:n?(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(ua,{className:`h-4 w-4 text-muted-foreground`}),n.name]}):(0,P.jsx)(`span`,{className:`text-muted-foreground`,children:`-`})}),(0,P.jsx)(Z,{children:t.responsavelNome?(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(mo,{className:`h-4 w-4 text-muted-foreground`}),(0,P.jsx)(`span`,{className:`font-medium`,children:t.responsavelNome})]}),(0,P.jsxs)(`div`,{className:`flex flex-col text-xs text-muted-foreground ml-6`,children:[t.responsavelCargo&&(0,P.jsx)(`span`,{children:t.responsavelCargo}),t.responsavelTelefone&&(0,P.jsx)(`span`,{children:t.responsavelTelefone})]})]}):(0,P.jsx)(`span`,{className:`text-muted-foreground`,children:`-`})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>{d(t),l(!0)},children:(0,P.jsx)(Za,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`text-red-600 hover:text-red-700`,onClick:()=>p(t.id),children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},t.id)})})]})})]}),(0,P.jsx)(KN,{open:c,onOpenChange:l,tool:u,onSuccess:m}),(0,P.jsx)(mM,{open:!!f,onOpenChange:e=>!e&&p(null),children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Excluir Equipamento`}),(0,P.jsx)(xM,{children:`Tem certeza que deseja excluir este equipamento? Esta ao no pode ser desfeita.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{children:`Cancelar`}),(0,P.jsx)(SM,{onClick:h,className:`bg-red-600 hover:bg-red-700`,children:`Excluir`})]})]})})]})}var JN=`AC.AL.AP.AM.BA.CE.DF.ES.GO.MA.MT.MS.MG.PA.PB.PR.PE.PI.RJ.RN.RS.RO.RR.SC.SP.SE.TO`.split(`.`);function YN({open:e,onOpenChange:t,aluguel:n,onSuccess:r}){let{projects:i,addRental:a,updateRental:o}=PS(),[s,c]=S.useState(!1),[l,u]=S.useState({nome:``,obraId:null,dataVencimento:new Date,empresaNome:``,empresaRua:``,empresaNumero:``,empresaCidade:``,empresaEstado:``,empresaTelefone:``,empresaCnpj:``});return S.useEffect(()=>{u(n?{nome:n.nome,valor:n.valor,obraId:n.obraId,dataVencimento:n.dataVencimento,empresaNome:n.empresaNome,empresaRua:n.empresaRua,empresaNumero:n.empresaNumero,empresaCidade:n.empresaCidade,empresaEstado:n.empresaEstado,empresaTelefone:n.empresaTelefone,empresaCnpj:n.empresaCnpj}:{nome:``,obraId:null,dataVencimento:new Date,empresaNome:``,empresaRua:``,empresaNumero:``,empresaCidade:``,empresaEstado:``,empresaTelefone:``,empresaCnpj:``})},[n,e]),(0,P.jsx)(QE,{open:e,onOpenChange:t,children:(0,P.jsx)(rD,{className:`sm:max-w-[600px]`,children:(0,P.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),!l.nome||!l.valor||!l.dataVencimento){Al.error(`Preencha os campos obrigatrios`);return}c(!0);try{let e=[l.empresaRua,l.empresaNumero,l.empresaCidade,l.empresaEstado].filter(Boolean).join(`, `),i={...l,empresaEndereco:e};n?(await o(n.id,i),Al.success(`Aluguel atualizado com sucesso`)):(await a(i),Al.success(`Aluguel cadastrado e lanado no financeiro`)),r(),t(!1)}catch(e){console.error(e),Al.error(`Erro ao salvar aluguel`)}finally{c(!1)}},children:[(0,P.jsx)(iD,{children:(0,P.jsx)(oD,{children:n?`Editar Aluguel`:`Novo Aluguel`})}),(0,P.jsxs)(`div`,{className:`grid gap-4 py-4 sm:grid-cols-2`,children:[(0,P.jsxs)(`div`,{className:`space-y-2 sm:col-span-2`,children:[(0,P.jsx)(K,{htmlFor:`nome`,children:`Nome do Equipamento *`}),(0,P.jsx)(V,{id:`nome`,value:l.nome,onChange:e=>u({...l,nome:e.target.value}),placeholder:`Ex: Andaime, Gerador...`,required:!0})]}),(0,P.jsxs)(`div`,{className:`grid grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`valor`,children:`Valor Mensal *`}),(0,P.jsx)(KE,{id:`valor`,value:l.valor||0,onChange:e=>u({...l,valor:e}),required:!0})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`dataVencimento`,children:`Vencimento *`}),(0,P.jsx)(jj,{date:l.dataVencimento,setDate:e=>u({...l,dataVencimento:e})}),l.dataVencimento&&(()=>{let e=Zc(l.dataVencimento);return e.severity!==`ok`&&(0,P.jsx)(`div`,{className:R(`text-[10px] font-bold uppercase tracking-wider`,e.color),children:e.label})})()]})]}),(0,P.jsxs)(`div`,{className:`space-y-2 sm:col-span-2`,children:[(0,P.jsx)(K,{htmlFor:`obra`,children:`Obra Alocada`}),(0,P.jsxs)(RO,{value:l.obraId||`none`,onValueChange:e=>u({...l,obraId:e===`none`?null:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`Selecione a obra...`})}),(0,P.jsxs)(UO,{children:[(0,P.jsx)(Q,{value:`none`,children:`No alocado`}),i.map(e=>(0,P.jsx)(Q,{value:e.id,children:e.name},e.id))]})]})]}),(0,P.jsxs)(`div`,{className:`space-y-3 pt-3 border-t sm:col-span-2`,children:[(0,P.jsx)(`h4`,{className:`text-sm font-medium`,children:`Empresa Locadora`}),(0,P.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 gap-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaNome`,children:`Nome da Empresa`}),(0,P.jsx)(V,{id:`empresaNome`,value:l.empresaNome||``,onChange:e=>u({...l,empresaNome:e.target.value}),placeholder:`Razo Social ou Fantasia`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaTelefone`,children:`Telefone`}),(0,P.jsx)(V,{id:`empresaTelefone`,value:l.empresaTelefone||``,onChange:e=>u({...l,empresaTelefone:e.target.value}),placeholder:`(00) 00000-0000`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaCnpj`,children:`CNPJ`}),(0,P.jsx)(V,{id:`empresaCnpj`,value:l.empresaCnpj||``,onChange:e=>{let t=e.target.value.replace(/\D/g,``).slice(0,14),n=t;t.length>12?n=t.replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2}).*/,`$1.$2.$3/$4-$5`):t.length>8?n=t.replace(/^(\d{2})(\d{3})(\d{3})(\d{1,4}).*/,`$1.$2.$3/$4`):t.length>5?n=t.replace(/^(\d{2})(\d{3})(\d{1,3}).*/,`$1.$2.$3`):t.length>2&&(n=t.replace(/^(\d{2})(\d{1,3}).*/,`$1.$2`)),u({...l,empresaCnpj:n})},placeholder:`00.000.000/0000-00`})]}),(0,P.jsxs)(`div`,{className:`space-y-2 sm:col-span-2 grid grid-cols-4 gap-4`,children:[(0,P.jsxs)(`div`,{className:`col-span-3 space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaRua`,children:`Rua`}),(0,P.jsx)(V,{id:`empresaRua`,value:l.empresaRua||``,onChange:e=>u({...l,empresaRua:e.target.value}),placeholder:`Rua...`})]}),(0,P.jsxs)(`div`,{className:`col-span-1 space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaNumero`,children:`N`}),(0,P.jsx)(V,{id:`empresaNumero`,value:l.empresaNumero||``,onChange:e=>u({...l,empresaNumero:e.target.value}),placeholder:`00`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaCidade`,children:`Cidade`}),(0,P.jsx)(V,{id:`empresaCidade`,value:l.empresaCidade||``,onChange:e=>u({...l,empresaCidade:e.target.value}),placeholder:`Cidade`})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`empresaEstado`,children:`Estado`}),(0,P.jsxs)(RO,{value:l.empresaEstado||``,onValueChange:e=>u({...l,empresaEstado:e}),children:[(0,P.jsx)(BO,{children:(0,P.jsx)(zO,{placeholder:`UF`})}),(0,P.jsx)(UO,{children:JN.map(e=>(0,P.jsx)(Q,{value:e,children:e},e))})]})]})]})]})]}),(0,P.jsxs)(aD,{children:[(0,P.jsx)(B,{type:`button`,variant:`outline`,onClick:()=>t(!1),disabled:s,children:`Cancelar`}),(0,P.jsx)(B,{type:`submit`,disabled:s,className:`bg-orange-600 hover:bg-orange-700`,children:s?`Salvando...`:`Salvar Aluguel`})]})]})})})}function XN(){let{projects:e,rentals:t,fetchRentals:n,deleteRental:r}=PS(),[i,a]=S.useState(``),[o,s]=S.useState(!1),[c,l]=S.useState(null),[u,d]=S.useState(null),[f,p]=S.useState(!0),m=async()=>{p(!0);try{await n()}catch(e){console.error(e),Al.error(`Erro ao carregar aluguis`)}finally{p(!1)}};S.useEffect(()=>{m()},[]);let h=async()=>{if(u)try{await r(u),Al.success(`Aluguel removido com sucesso`)}catch(e){console.error(e),Al.error(`Erro ao remover aluguel`)}finally{d(null)}},g=t.filter(t=>{let n=e.find(e=>e.id===t.obraId),r=i.toLowerCase();return t.nome.toLowerCase().includes(r)||t.empresaNome?.toLowerCase().includes(r)||t.empresaCnpj?.toLowerCase().includes(r)||n?.name.toLowerCase().includes(r)});return(0,P.jsxs)(`div`,{className:`p-6 space-y-6`,children:[(0,P.jsxs)(`div`,{className:`flex flex-col md:flex-row md:items-center justify-between gap-4`,children:[(0,P.jsxs)(`div`,{children:[(0,P.jsx)(`h1`,{className:`text-2xl font-bold text-gray-900`,children:`Aluguel de Equipamentos`}),(0,P.jsx)(`p`,{className:`text-gray-500`,children:`Gerencie os equipamentos locados e seus vencimentos.`})]}),(0,P.jsxs)(B,{onClick:()=>{l(null),s(!0)},className:`bg-orange-600 hover:bg-orange-700`,children:[(0,P.jsx)($a,{className:`mr-2 h-4 w-4`}),`Novo Aluguel`]})]}),(0,P.jsxs)(`div`,{className:`flex items-center gap-2 bg-white p-3 rounded-lg border shadow-sm`,children:[(0,P.jsx)(no,{className:`h-5 w-5 text-gray-400`}),(0,P.jsx)(V,{placeholder:`Buscar por equipamento, empresa ou obra...`,value:i,onChange:e=>a(e.target.value),className:`border-0 focus-visible:ring-0 shadow-none`})]}),(0,P.jsx)(`div`,{className:`bg-white rounded-lg border shadow-sm overflow-hidden`,children:(0,P.jsxs)(qE,{children:[(0,P.jsx)(JE,{children:(0,P.jsxs)(Y,{children:[(0,P.jsx)(X,{children:`Equipamento`}),(0,P.jsx)(X,{children:`Valor`}),(0,P.jsx)(X,{children:`Vencimento`}),(0,P.jsx)(X,{children:`Obra`}),(0,P.jsx)(X,{children:`Empresa Locadora`}),(0,P.jsx)(X,{className:`text-right`,children:`Aes`})]})}),(0,P.jsx)(YE,{children:f?(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:6,className:`text-center py-10 text-muted-foreground`,children:`Carregando aluguis...`})}):g.length===0?(0,P.jsx)(Y,{children:(0,P.jsx)(Z,{colSpan:6,className:`text-center py-10 text-muted-foreground`,children:`Nenhum aluguel encontrado.`})}):g.map(t=>{let n=e.find(e=>e.id===t.obraId);return(0,P.jsxs)(Y,{children:[(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(Ra,{className:`h-4 w-4 text-orange-600`}),(0,P.jsx)(`span`,{className:`font-medium`,children:t.nome})]})}),(0,P.jsx)(Z,{children:(0,P.jsx)(`span`,{className:`font-semibold text-gray-900`,children:new Intl.NumberFormat(`pt-BR`,{style:`currency`,currency:`BRL`}).format(t.valor)})}),(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm text-gray-900 font-medium`,children:[(0,P.jsx)(ma,{className:`h-4 w-4 text-muted-foreground`}),Ic(t.dataVencimento,`dd/MM/yyyy`)]}),(()=>{let e=Zc(t.dataVencimento);return e.severity!==`ok`&&(0,P.jsx)(`span`,{className:R(`text-[10px] font-bold uppercase tracking-wider`,e.color),children:e.label})})()]})}),(0,P.jsx)(Z,{children:n?(0,P.jsxs)(`div`,{className:`flex items-center gap-2 text-sm`,children:[(0,P.jsx)(ua,{className:`h-4 w-4 text-muted-foreground`}),n.name]}):(0,P.jsx)(`span`,{className:`text-muted-foreground text-sm`,children:`-`})}),(0,P.jsx)(Z,{children:(0,P.jsxs)(`div`,{className:`flex flex-col gap-1`,children:[(0,P.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,P.jsx)(`span`,{className:`text-sm font-medium`,children:t.empresaNome||`-`}),t.empresaCnpj&&(0,P.jsx)(`span`,{className:`text-[10px] bg-gray-100 px-1.5 py-0.5 rounded text-muted-foreground font-mono`,children:t.empresaCnpj})]}),(0,P.jsxs)(`div`,{className:`flex flex-col text-[11px] text-muted-foreground`,children:[(t.empresaRua||t.empresaEndereco)&&(0,P.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,P.jsx)(qa,{className:`h-3 w-3`}),t.empresaRua?`${t.empresaRua}, ${t.empresaNumero||`s/n`} - ${t.empresaCidade}/${t.empresaEstado}`:t.empresaEndereco]}),t.empresaTelefone&&(0,P.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(0,P.jsx)(Qa,{className:`h-3 w-3`}),t.empresaTelefone]})]})]})}),(0,P.jsx)(Z,{className:`text-right`,children:(0,P.jsxs)(`div`,{className:`flex justify-end gap-2`,children:[(0,P.jsx)(B,{variant:`ghost`,size:`icon`,onClick:()=>{l(t),s(!0)},children:(0,P.jsx)(Xa,{className:`h-4 w-4`})}),(0,P.jsx)(B,{variant:`ghost`,size:`icon`,className:`text-red-600 hover:text-red-700`,onClick:()=>d(t.id),children:(0,P.jsx)(so,{className:`h-4 w-4`})})]})})]},t.id)})})]})}),(0,P.jsx)(YN,{open:o,onOpenChange:s,aluguel:c,onSuccess:m}),(0,P.jsx)(mM,{open:!!u,onOpenChange:()=>d(null),children:(0,P.jsxs)(_M,{children:[(0,P.jsxs)(vM,{children:[(0,P.jsx)(bM,{children:`Excluir Aluguel`}),(0,P.jsx)(xM,{children:`Tem certeza que deseja remover este aluguel? O lanamento correspondente em Contas a Pagar tambm ser excludo.`})]}),(0,P.jsxs)(yM,{children:[(0,P.jsx)(CM,{children:`Cancelar`}),(0,P.jsx)(SM,{onClick:h,className:`bg-red-600 hover:bg-red-700`,children:`Excluir`})]})]})})]})}function ZN(){let[e,t]=(0,S.useState)(1),[n,r]=(0,S.useState)(``),[i,a]=(0,S.useState)(null),[o,s]=(0,S.useState)(``),[c,l]=(0,S.useState)(``),[u,d]=(0,S.useState)(!1),{toast:f}=$n(),p=it();return(0,P.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-slate-50 p-4`,children:(0,P.jsxs)(`div`,{className:`w-full max-w-md space-y-8 animate-in fade-in zoom-in duration-500`,children:[(0,P.jsxs)(`div`,{className:`text-center space-y-2`,children:[(0,P.jsx)(`h1`,{className:`text-4xl font-extrabold tracking-tight text-slate-900`,children:`CRM Engenharia`}),(0,P.jsx)(`p`,{className:`text-slate-500 font-medium italic`,children:`Portal de Ativao`})]}),(0,P.jsxs)(q,{className:`border-none shadow-2xl bg-white/80 backdrop-blur-sm`,children:[(0,P.jsxs)(IE,{className:`space-y-1`,children:[(0,P.jsxs)(LE,{className:`text-2xl font-bold flex items-center gap-2`,children:[e===1?(0,P.jsx)(Ka,{className:`h-6 w-6 text-primary`}):(0,P.jsx)(Wa,{className:`h-6 w-6 text-primary`}),e===1?`Primeiro Acesso`:`Definir Senha`]}),(0,P.jsx)(RE,{children:e===1?`Informe seu e-mail para verificar seu convite.`:`Bem-vindo, ${i?.name}. Escolha uma senha segura.`})]}),(0,P.jsx)(J,{children:e===1?(0,P.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),n){d(!0);try{if(await kS.isUserActivated(n)){f({title:`Usurio j Ativo`,description:`Sua conta j foi ativada. Por favor, faa login.`,variant:`default`}),p(`/login`);return}let e=await kS.checkInvite(n);if(!e){f({title:`Convite no encontrado`,description:`No encontramos um convite pendente para este e-mail. Entre em contato com seu administrador.`,variant:`destructive`});return}a(e),t(2),f({title:`Convite Verificado`,description:`Ol ${e.name}! Agora, crie sua senha de acesso.`})}catch(e){f({title:`Erro na verificao`,description:e.message||`Ocorreu um erro inesperado.`,variant:`destructive`})}finally{d(!1)}}},className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`email`,children:`Seu E-mail Profissional`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{id:`email`,type:`email`,placeholder:`exemplo@empresa.com`,className:`pl-10 h-12`,value:n,onChange:e=>r(e.target.value.toLowerCase()),required:!0}),(0,P.jsx)(Ka,{className:`absolute left-3 top-3.5 h-5 w-5 text-slate-400`})]})]}),(0,P.jsx)(B,{type:`submit`,className:`w-full h-12 text-base font-semibold transition-all hover:scale-[1.02]`,disabled:u,children:u?(0,P.jsx)(Ua,{className:`h-5 w-5 animate-spin`}):(0,P.jsxs)(P.Fragment,{children:[`Verificar Convite `,(0,P.jsx)(sa,{className:`ml-2 h-4 w-4`})]})})]}):(0,P.jsxs)(`form`,{onSubmit:async e=>{if(e.preventDefault(),o!==c){f({title:`Senhas no conferem`,variant:`destructive`});return}if(o.length<8){f({title:`Senha muito curta`,description:`A senha deve ter pelo menos 8 caracteres.`,variant:`destructive`});return}d(!0);try{let{data:e,error:t}=await G.auth.signUp({email:n,password:o});if(t)throw t;if(!e.user)throw Error(`Falha ao criar usurio na autenticao.`);i&&await kS.completeFirstAccess(e.user.id,n,i),f({title:`Conta Ativada!`,description:`Seu acesso foi configurado com sucesso. Voc j pode fazer login.`}),p(`/login`)}catch(e){f({title:`Erro na ativao`,description:e.message||`Falha ao ativar sua conta.`,variant:`destructive`})}finally{d(!1)}},className:`space-y-4`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`password`,children:`Nova Senha`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{id:`password`,type:`password`,placeholder:`No mnimo 8 caracteres`,className:`pl-10 h-12`,value:o,onChange:e=>s(e.target.value),required:!0}),(0,P.jsx)(Wa,{className:`absolute left-3 top-3.5 h-5 w-5 text-slate-400`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`confirmPassword`,children:`Confirmar Senha`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{id:`confirmPassword`,type:`password`,placeholder:`Repita a senha`,className:`pl-10 h-12`,value:c,onChange:e=>l(e.target.value),required:!0}),(0,P.jsx)(ao,{className:`absolute left-3 top-3.5 h-5 w-5 text-slate-400`})]})]}),(0,P.jsx)(B,{type:`submit`,className:`w-full h-12 text-base font-semibold bg-primary hover:bg-primary/90 transition-all hover:scale-[1.02]`,disabled:u,children:u?(0,P.jsx)(Ua,{className:`h-5 w-5 animate-spin`}):`Ativar minha Conta`}),(0,P.jsx)(B,{type:`button`,variant:`ghost`,className:`w-full text-xs text-slate-500`,onClick:()=>t(1),disabled:u,children:`Voltar para o e-mail`})]})}),(0,P.jsx)(zE,{className:`flex flex-col gap-4 border-t bg-slate-50/50 pt-6`,children:(0,P.jsxs)(`div`,{className:`text-center text-sm text-slate-500`,children:[`J possui uma conta ativada? `,(0,P.jsx)(Cn,{to:`/login`,className:`text-primary font-bold hover:underline`,children:`Fazer Login`})]})})]}),(0,P.jsxs)(`div`,{className:`text-center flex items-center justify-center gap-2 text-slate-400 text-xs`,children:[(0,P.jsx)(ao,{className:`h-3 w-3`}),`Ambiente Seguro CRM Engenharia`]})]})})}function QN(){let e=it(),{toast:t}=$n(),[n,r]=(0,S.useState)(``),[i,a]=(0,S.useState)(``),[o,s]=(0,S.useState)(!1);return(0,P.jsxs)(`div`,{className:`min-h-screen flex items-center justify-center bg-slate-50 p-4 relative overflow-hidden font-sans`,children:[(0,P.jsx)(`div`,{className:`absolute inset-0 z-0 bg-cover bg-center`,style:{backgroundImage:`url("https://images.unsplash.com/photo-1541888946425-d81bb19240f5?q=80&w=2070&auto=format&fit=crop")`},children:(0,P.jsx)(`div`,{className:`absolute inset-0 bg-slate-900/85 backdrop-blur-[2px]`})}),(0,P.jsxs)(`div`,{className:`relative z-10 w-full max-w-md animate-in fade-in zoom-in duration-500`,children:[(0,P.jsxs)(q,{className:`border-none shadow-2xl bg-white/95 backdrop-blur-sm overflow-hidden`,children:[(0,P.jsxs)(IE,{className:`space-y-4 text-center pb-8 border-b bg-slate-50/50`,children:[(0,P.jsx)(`div`,{className:`mx-auto w-16 h-16 bg-orange-100 rounded-2xl flex items-center justify-center shadow-inner`,children:(0,P.jsx)(Wa,{className:`h-8 w-8 text-orange-600`})}),(0,P.jsxs)(`div`,{className:`space-y-1`,children:[(0,P.jsx)(LE,{className:`text-2xl font-bold text-slate-900`,children:`Nova Senha`}),(0,P.jsx)(RE,{className:`text-slate-500`,children:`Digite sua nova senha de acesso abaixo.`})]})]}),(0,P.jsx)(J,{className:`pt-8`,children:(0,P.jsxs)(`form`,{onSubmit:async r=>{if(r.preventDefault(),n!==i){t({title:`Senhas no conferem`,description:`As senhas digitadas no so iguais.`,variant:`destructive`});return}if(n.length<8){t({title:`Senha muito curta`,description:`A senha deve ter pelo menos 8 caracteres.`,variant:`destructive`});return}s(!0);try{let{error:r}=await G.auth.updateUser({password:n});if(r){t({title:`Erro ao atualizar senha`,description:r.message||`No foi possvel atualizar sua senha.`,variant:`destructive`});return}t({title:`Senha atualizada!`,description:`Sua senha foi redefinida com sucesso. Voc j pode fazer login.`}),e(`/login`)}catch{t({title:`Ocorreu um erro`,description:`No foi possvel completar a operao. Tente novamente.`,variant:`destructive`})}finally{s(!1)}},className:`space-y-6`,children:[(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`password`,children:`Nova Senha`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{id:`password`,type:`password`,placeholder:`Mnimo 8 caracteres`,className:`pl-10 h-12 focus-visible:ring-orange-500`,value:n,onChange:e=>r(e.target.value),required:!0}),(0,P.jsx)(Wa,{className:`absolute left-3 top-3.5 h-5 w-5 text-slate-400`})]})]}),(0,P.jsxs)(`div`,{className:`space-y-2`,children:[(0,P.jsx)(K,{htmlFor:`confirmPassword`,children:`Confirmar Nova Senha`}),(0,P.jsxs)(`div`,{className:`relative`,children:[(0,P.jsx)(V,{id:`confirmPassword`,type:`password`,placeholder:`Repita a nova senha`,className:`pl-10 h-12 focus-visible:ring-orange-500`,value:i,onChange:e=>a(e.target.value),required:!0}),(0,P.jsx)(ao,{className:`absolute left-3 top-3.5 h-5 w-5 text-slate-400`})]})]}),(0,P.jsx)(B,{type:`submit`,className:`w-full h-12 text-base font-bold bg-orange-600 hover:bg-orange-700 transition-all hover:scale-[1.02] shadow-lg shadow-orange-900/20`,disabled:o,children:o?(0,P.jsx)(Ua,{className:`h-5 w-5 animate-spin`}):(0,P.jsxs)(P.Fragment,{children:[`Redefinir Senha `,(0,P.jsx)(sa,{className:`ml-2 h-4 w-4`})]})})]})})]}),(0,P.jsxs)(`div`,{className:`text-center mt-6 text-slate-400 text-xs flex items-center justify-center gap-2`,children:[(0,P.jsx)(ao,{className:`h-4 w-4`}),`Ambiente de Redefinio Seguro`]})]})]})}var $N=()=>{let e=tt();return(0,S.useEffect)(()=>{console.error(`404 Error: User attempted to access non-existent route:`,e.pathname)},[e.pathname]),(0,P.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-gray-100`,children:(0,P.jsxs)(`div`,{className:`text-center`,children:[(0,P.jsx)(`h1`,{className:`text-4xl font-bold mb-4`,children:`404`}),(0,P.jsx)(`p`,{className:`text-xl text-gray-600 mb-4`,children:`Oops! Page not found`}),(0,P.jsx)(`a`,{href:`/`,className:`text-blue-500 hover:text-blue-700 underline`,children:`Return to Home`})]})})};const eP=({children:e,requiredPermission:t})=>{let{user:n,loading:r}=MS(),{currentUser:i,isInitializing:a}=PS(),o=tt();return r||a?(0,P.jsx)(`div`,{className:`min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900`,children:(0,P.jsxs)(`div`,{className:`flex flex-col items-center gap-4`,children:[(0,P.jsx)(Ua,{className:`h-8 w-8 animate-spin text-primary`}),(0,P.jsx)(`p`,{className:`text-sm text-muted-foreground`,children:`Carregando...`})]})}):n?n&&!i?(console.warn(`Orphaned auth session detected. Redirecting to login.`),(0,P.jsx)(Mt,{to:`/login`,replace:!0})):t&&i&&i.role!==`admin`&&i.role!==`super_admin`&&!i.permissions?.[t]?(0,P.jsxs)(`div`,{className:`min-h-[80vh] flex flex-col items-center justify-center p-4`,children:[(0,P.jsx)(`div`,{className:`bg-red-50 dark:bg-red-900/10 p-6 rounded-full mb-6`,children:(0,P.jsx)(io,{className:`h-16 w-16 text-red-500`})}),(0,P.jsx)(`h1`,{className:`text-2xl font-bold text-slate-900 dark:text-white mb-2 text-center`,children:`Acesso Restrito`}),(0,P.jsx)(`p`,{className:`text-slate-500 text-center max-w-md mb-8`,children:`Voc no tem permisso para acessar esta rea do sistema. Entre em contato com um administrador se precisar de acesso.`})]}):(0,P.jsx)(P.Fragment,{children:e}):(0,P.jsx)(Mt,{to:`/login`,state:{from:o},replace:!0})};(0,Vn.createRoot)(document.getElementById(`root`)).render((0,P.jsx)(()=>(0,P.jsx)(jS,{children:(0,P.jsx)(FS,{children:(0,P.jsx)(bn,{children:(0,P.jsxs)(wp,{children:[(0,P.jsx)(ll,{}),(0,P.jsx)(Kl,{}),(0,P.jsxs)(It,{children:[(0,P.jsx)(Pt,{path:`/login`,element:(0,P.jsx)(jE,{})}),(0,P.jsx)(Pt,{path:`/forgot-password`,element:(0,P.jsx)(BE,{})}),(0,P.jsx)(Pt,{path:`/esqueceu-senha`,element:(0,P.jsx)(VE,{})}),(0,P.jsx)(Pt,{path:`/reset-password`,element:(0,P.jsx)(QN,{})}),(0,P.jsx)(Pt,{path:`/acesso-funcionario`,element:(0,P.jsx)(HE,{})}),(0,P.jsx)(Pt,{path:`/primeiro-acesso`,element:(0,P.jsx)(ZN,{})}),(0,P.jsxs)(Pt,{element:(0,P.jsx)(eP,{children:(0,P.jsx)(TE,{})}),children:[(0,P.jsx)(Pt,{path:`/`,element:(0,P.jsx)(eP,{requiredPermission:`dashboard`,children:(0,P.jsx)(GE,{})})}),(0,P.jsx)(Pt,{path:`/financeiro`,element:(0,P.jsx)(eP,{requiredPermission:`contas_pagar`,children:(0,P.jsx)(KO,{})})}),(0,P.jsx)(Pt,{path:`/financeiro/pagamentos`,element:(0,P.jsx)(eP,{requiredPermission:`pagamento_colaboradores`,children:(0,P.jsx)(Nj,{})})}),(0,P.jsx)(Pt,{path:`/colaboradores`,element:(0,P.jsx)(eP,{requiredPermission:`colaboradores`,children:(0,P.jsx)(ZM,{})})}),(0,P.jsx)(Pt,{path:`/colaboradores/:id`,element:(0,P.jsx)(eP,{requiredPermission:`colaboradores`,children:(0,P.jsx)(iN,{})})}),(0,P.jsx)(Pt,{path:`/obras`,element:(0,P.jsx)(eP,{requiredPermission:`obras`,children:(0,P.jsx)(lN,{})})}),(0,P.jsx)(Pt,{path:`/obras/:id`,element:(0,P.jsx)(eP,{requiredPermission:`obras`,children:(0,P.jsx)(mN,{})})}),(0,P.jsx)(Pt,{path:`/alojamentos`,element:(0,P.jsx)(eP,{requiredPermission:`alojamento`,children:(0,P.jsx)(VN,{})})}),(0,P.jsx)(Pt,{path:`/alojamentos/:id`,element:(0,P.jsx)(eP,{requiredPermission:`alojamento`,children:(0,P.jsx)(GN,{})})}),(0,P.jsx)(Pt,{path:`/prestadores`,element:(0,P.jsx)(eP,{requiredPermission:`fichario_funcoes`,children:(0,P.jsx)(UN,{})})}),(0,P.jsx)(Pt,{path:`/veiculos`,element:(0,P.jsx)(eP,{requiredPermission:`veiculos`,children:(0,P.jsx)(_N,{})})}),(0,P.jsx)(Pt,{path:`/veiculos/:id`,element:(0,P.jsx)(eP,{requiredPermission:`veiculos`,children:(0,P.jsx)(vN,{})})}),(0,P.jsx)(Pt,{path:`/ferramentas`,element:(0,P.jsx)(eP,{requiredPermission:`ferramentas`,children:(0,P.jsx)(qN,{})})}),(0,P.jsx)(Pt,{path:`/alugueis`,element:(0,P.jsx)(eP,{requiredPermission:`aluguel_equipamentos`,children:(0,P.jsx)(XN,{})})}),(0,P.jsx)(Pt,{path:`/notas-fiscais`,element:(0,P.jsx)(eP,{requiredPermission:`notas_fiscais`,children:(0,P.jsx)(bN,{})})}),(0,P.jsx)(Pt,{path:`/orcamentos`,element:(0,P.jsx)(eP,{requiredPermission:`orcamentos`,children:(0,P.jsx)(SN,{})})}),(0,P.jsx)(Pt,{path:`/configuracoes`,element:(0,P.jsx)(eP,{requiredPermission:`configuracoes`,children:(0,P.jsx)(BN,{})})})]}),(0,P.jsx)(Pt,{path:`*`,element:(0,P.jsx)($N,{})})]})]})})})}),{}));